2025-08-08 08:57:20.545 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 08:57:20.623 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-08 08:57:20.679 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-08 08:57:20.798 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-08 08:57:20.816 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 08:57:20.821 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-08 08:57:20.886 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-08 08:57:20.902 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-08 08:57:20.916 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-08 08:57:21.067 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 08:57:21.347 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-08 08:57:21.357 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 08:57:21.363 +02:00 [INF] Hosting environment: Development
2025-08-08 08:57:21.368 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-08 09:07:53.600 +02:00 [INF] Application is shutting down...
2025-08-08 09:15:36.585 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:15:36.781 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-08 09:15:36.902 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-08 09:15:37.059 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-08 09:15:37.071 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:15:37.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-08 09:15:37.170 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-08 09:15:37.182 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-08 09:15:37.208 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-08 09:15:37.354 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 09:15:37.585 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-08 09:15:37.590 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 09:15:37.591 +02:00 [INF] Hosting environment: Development
2025-08-08 09:15:37.593 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-08 09:16:42.083 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-08 09:16:42.118 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-08 09:16:42.142 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:42.170 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 89.0051ms
2025-08-08 09:16:42.201 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 62
2025-08-08 09:16:42.218 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:42.317 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-08 09:16:42.341 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-08 09:16:42.393 +02:00 [INF] LOGIN REQUEST RECEIVED - workId: ADM001, email: admin@example.com, role: admin
2025-08-08 09:16:42.697 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__workId_0='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
WHERE [u].[work_id] = @__workId_0
2025-08-08 09:16:42.809 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:42.823 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:42.826 +02:00 [INF] Authentication successful for user: ADM001
2025-08-08 09:16:42.930 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@p12='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString), @p11='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10, [work_id] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-08-08 09:16:42.944 +02:00 [INF] Login successful for user: ADM001, returning token
2025-08-08 09:16:42.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-08 09:16:42.975 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 621.9125ms
2025-08-08 09:16:42.978 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-08 09:16:42.990 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 788.6101ms
2025-08-08 09:16:46.172 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:16:46.174 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:16:46.180 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:16:46.182 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:16:46.183 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:16:46.184 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:16:46.246 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.192 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.209 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.228 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.236 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.184 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.255 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 70.5847ms
2025-08-08 09:16:46.266 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 90.5874ms
2025-08-08 09:16:46.274 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 93.0348ms
2025-08-08 09:16:46.292 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 108.8618ms
2025-08-08 09:16:46.305 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 121.4639ms
2025-08-08 09:16:46.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:16:46.325 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:16:46.362 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:16:46.393 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:16:46.418 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:16:46.318 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 144.9097ms
2025-08-08 09:16:46.472 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.477 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.487 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.497 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.502 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.508 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:16:46.522 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 160.6703ms
2025-08-08 09:16:46.522 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 197.3049ms
2025-08-08 09:16:46.540 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:46.616 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:16:46.616 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:16:46.616 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:16:46.616 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:16:46.652 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:46.652 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:46.655 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:46.655 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:46.912 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:16:46.927 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:46.945 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:46.971 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:46.988 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.141 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.150 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.150 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:16:47.167 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.202 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.202 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:16:47.263 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.219 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:16:47.315 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.370 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.392 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.403 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.446 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:47.450 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.455 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:47.468 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:47.533 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.571 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 833.5936ms
2025-08-08 09:16:47.606 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:16:47.617 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:47.612 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:16:47.641 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 921.6445ms
2025-08-08 09:16:47.646 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:16:47.650 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 1264.8028ms
2025-08-08 09:16:47.658 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:16:47.687 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:16:47.689 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:47.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.708 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:47.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 1206.6003ms
2025-08-08 09:16:47.752 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:16:47.752 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:16:47.757 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.766 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:47.800 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.821 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.804 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:47.823 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:16:47.851 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:47.876 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 153.0787ms
2025-08-08 09:16:47.901 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:47.907 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:16:47.910 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:47.911 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:47.950 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 148.7028ms
2025-08-08 09:16:47.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 328.1962ms
2025-08-08 09:16:47.954 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:47.956 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:16:48.005 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 347.6722ms
2025-08-08 09:16:48.014 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.024 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.037 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.044 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.054 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.061 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.066 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.077 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.077 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:48.090 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.106 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.106 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1416.4547ms
2025-08-08 09:16:48.111 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:16:48.117 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:16:48.121 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.126 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:48.127 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1687.7105ms
2025-08-08 09:16:48.138 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:16:48.141 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.146 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:48.164 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.179 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:16:48.180 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.196 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.196 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.209 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.215 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.218 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.233 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.233 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.250 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.268 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.273 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.288 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.291 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.303 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.306 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.310 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:16:48.329 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:48.360 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 204.1329ms
2025-08-08 09:16:48.368 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.369 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:16:48.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 335.596ms
2025-08-08 09:16:48.447 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.470 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.501 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.512 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.526 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.539 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:48.553 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:48.623 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.638 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.644 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.656 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.664 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.686 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.719 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.756 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.800 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.845 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.918 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:48.971 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:49.007 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:49.028 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:49.038 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:49.068 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 2408.5892ms
2025-08-08 09:16:49.070 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:16:49.079 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 2661.064ms
2025-08-08 09:16:49.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:16:49.103 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:16:49.112 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:16:49.116 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:16:49.130 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:16:49.143 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.163 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.180 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.200 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.218 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.239 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.253 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.267 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.282 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.291 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.312 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.334 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.355 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.377 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.397 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.417 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.446 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.477 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.500 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.519 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.536 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.568 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.593 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.616 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.639 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.660 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.685 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.716 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.747 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.788 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.830 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.919 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:49.966 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:49.993 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.023 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.064 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.099 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.135 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.163 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.196 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.235 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.272 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.295 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.327 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.356 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.383 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.408 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.436 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.466 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.487 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.516 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:16:50.561 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:16:50.589 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.623 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.666 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.695 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.724 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.747 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.969 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:50.996 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.016 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.050 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.117 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.140 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.163 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.194 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:16:51.200 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:16:51.209 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 2087.5232ms
2025-08-08 09:16:51.223 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:16:51.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 2148.2706ms
2025-08-08 09:19:00.867 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:19:00.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:19:00.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:19:00.872 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.876 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.876 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:19:00.882 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.885 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 17.9982ms
2025-08-08 09:19:00.885 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 13.7615ms
2025-08-08 09:19:00.889 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.891 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 19.224ms
2025-08-08 09:19:00.913 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:19:00.914 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 37.936ms
2025-08-08 09:19:00.932 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.953 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:19:00.956 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:19:00.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:19:00.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:19:00.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:19:00.974 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:00.982 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:01.004 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:19:01.007 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:19:01.007 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:19:01.011 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:19:01.011 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:19:01.013 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:19:01.069 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:19:01.101 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:19:01.114 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:19:01.122 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:19:01.147 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.161 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:19:01.172 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 117.9112ms
2025-08-08 09:19:01.174 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:19:01.177 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 210.6958ms
2025-08-08 09:19:01.178 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:19:01.188 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.194 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.210 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.222 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.230 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.242 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.279 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.216 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:19:01.362 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.471 +02:00 [INF] Executed DbCommand (170ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.480 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 398.1046ms
2025-08-08 09:19:01.496 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.504 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.496 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:19:01.522 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.523 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 554.5455ms
2025-08-08 09:19:01.581 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.606 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.688 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.712 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.728 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.749 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.779 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.824 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.845 +02:00 [INF] Executed DbCommand (178ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.849 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.889 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.905 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:19:01.920 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:01.920 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:19:01.966 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:01.999 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1038.9048ms
2025-08-08 09:19:02.034 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:19:02.039 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.077 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1162.9399ms
2025-08-08 09:19:02.094 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.215 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.281 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.355 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.383 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.436 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.479 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.501 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.548 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.656 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.703 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.730 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.744 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.775 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.830 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.902 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:02.945 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:02.980 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.014 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.066 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.132 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.178 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.214 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.233 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.253 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.314 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.365 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.407 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.458 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.491 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:19:03.518 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:19:03.610 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:03.693 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:03.726 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:03.883 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:03.988 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.018 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.028 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.099 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.207 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.253 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.295 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.433 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.471 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.760 +02:00 [INF] Executed DbCommand (263ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:19:04.782 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:19:04.789 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 3742.3098ms
2025-08-08 09:19:04.805 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:19:04.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 3853.419ms
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:25:22.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:25:22.699 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:22.702 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:22.721 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:22.931 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:22.955 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:22.999 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.035 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 427.1728ms
2025-08-08 09:25:23.037 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 425.6655ms
2025-08-08 09:25:23.038 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 426.6499ms
2025-08-08 09:25:23.035 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 425.5146ms
2025-08-08 09:25:23.056 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 445.8324ms
2025-08-08 09:25:23.071 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 456.8376ms
2025-08-08 09:25:23.243 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:25:23.257 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:25:23.289 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:25:23.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:25:23.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:25:23.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:25:23.526 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.608 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.637 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.767 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.929 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.953 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:23.955 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 712.0867ms
2025-08-08 09:25:24.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 752.6177ms
2025-08-08 09:25:24.193 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:25:24.196 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:25:24.196 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:25:24.196 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:25:24.414 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:24.441 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:24.445 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:24.605 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:26.807 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:25:26.809 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:25:26.940 +02:00 [INF] Executed DbCommand (221ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:25:28.706 +02:00 [INF] Executed DbCommand (2,047ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:25:29.253 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:29.779 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:29.879 +02:00 [INF] Executed DbCommand (1,826ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:30.297 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 4202.4196ms
2025-08-08 09:25:30.429 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:25:30.801 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 5522.4812ms
2025-08-08 09:25:30.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:25:31.960 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:25:32.042 +02:00 [INF] Executed DbCommand (317ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:32.245 +02:00 [INF] Executed DbCommand (3,954ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:32.425 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:32.699 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:25:33.543 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:33.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 10600.6378ms
2025-08-08 09:25:36.227 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:25:36.292 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 13004.3919ms
2025-08-08 09:25:36.410 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:25:36.848 +02:00 [INF] Executed DbCommand (1,926ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:36.942 +02:00 [INF] Executed DbCommand (979ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:37.127 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:37.139 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:37.183 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:37.358 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:37.368 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:25:37.373 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:37.386 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:25:37.814 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:37.829 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 510.3373ms
2025-08-08 09:25:37.830 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:37.832 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:25:37.835 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 512.5708ms
2025-08-08 09:25:37.842 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 7412.6822ms
2025-08-08 09:25:37.844 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:25:37.856 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:37.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 6907.9518ms
2025-08-08 09:25:37.886 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:37.904 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:37.973 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:37.941 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:38.085 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:38.092 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:38.117 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:38.296 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:38.296 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.033 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.033 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.044 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:39.052 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 14129.6168ms
2025-08-08 09:25:39.058 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:25:39.063 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 15757.2772ms
2025-08-08 09:25:39.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:25:39.076 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:39.085 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:25:39.089 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:39.108 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:39.137 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.137 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:25:39.165 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:39.192 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.195 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.216 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:39.216 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.227 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.240 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.251 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:39.563 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.563 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.605 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.642 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.669 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:39.697 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.796 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:25:39.813 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:39.825 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 728.0281ms
2025-08-08 09:25:39.828 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:25:39.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 766.2618ms
2025-08-08 09:25:39.846 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:39.987 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:40.047 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:40.302 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:40.350 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:40.406 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:40.938 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:41.074 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:41.175 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:41.325 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:41.392 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:41.669 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:42.405 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:42.865 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:43.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:25:43.359 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:25:43.363 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:25:43.367 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:25:43.382 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:43.398 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:25:43.414 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:43.423 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:43.437 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:43.448 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:44.186 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.187 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.238 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:44.251 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:44.284 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.329 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.355 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:44.374 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:44.385 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.418 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:44.422 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.107 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.148 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.177 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.253 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.253 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.290 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.291 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.648 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.648 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.720 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.771 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:45.806 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:45.903 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:46.284 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:46.327 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:46.995 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:46.996 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:47.022 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:47.024 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:47.039 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:47.066 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:47.075 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:47.201 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:47.201 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:47.257 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:47.392 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:47.452 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.041 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.192 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:48.198 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.204 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:48.208 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.318 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.357 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:48.384 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.395 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:48.468 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.468 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:48.501 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:48.501 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.530 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:48.532 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:48.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:48.587 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:48.594 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 22165.1748ms
2025-08-08 09:25:48.610 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:25:48.612 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 25287.1946ms
2025-08-08 09:25:48.635 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:48.844 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:49.219 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:49.352 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:49.385 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:49.764 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:49.889 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:50.226 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:50.399 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:51.085 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:51.365 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:51.514 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:51.597 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:51.946 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:52.026 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:52.635 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:52.847 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:53.464 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:53.984 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:54.037 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:54.061 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:54.109 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:54.381 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:25:54.792 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:25:55.086 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.259 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.315 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.498 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.518 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.537 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.565 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.707 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.749 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.846 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.886 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.924 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.947 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.971 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:25:55.984 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:25:56.025 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 12650.3737ms
2025-08-08 09:25:56.037 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:25:56.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 12900.3411ms
2025-08-08 09:26:35.807 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:26:35.829 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:35.848 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 40.8944ms
2025-08-08 09:26:35.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:26:35.887 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:35.889 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 18.0138ms
2025-08-08 09:26:35.909 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:26:35.923 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:35.925 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 16.19ms
2025-08-08 09:26:35.826 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:26:35.944 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:26:35.962 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 09:26:36.376 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.380 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 417.7889ms
2025-08-08 09:26:36.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:26:36.372 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.411 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 467.1145ms
2025-08-08 09:26:36.425 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:26:36.409 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.435 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:26:36.362 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.432 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:35.968 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-08 09:26:36.438 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:36.442 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 625.6746ms
2025-08-08 09:26:36.444 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:26:36.664 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:36.446 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-08 09:26:36.742 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:26:36.447 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.845 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 876.6078ms
2025-08-08 09:26:36.658 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:26:37.003 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:36.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:26:36.832 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:37.194 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 518.1892ms
2025-08-08 09:26:37.200 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:26:37.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 779.1054ms
2025-08-08 09:26:36.628 +02:00 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:26:36.742 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:37.287 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 840.9051ms
2025-08-08 09:26:37.188 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:37.260 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-08 09:26:37.060 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:26:37.314 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:37.322 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:26:37.331 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:37.340 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.340 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:26:37.345 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:37.366 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:37.379 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.399 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:26:37.410 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.441 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:26:37.473 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.478 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:37.491 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-08 09:26:37.515 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:37.556 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.575 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:37.594 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 212.4974ms
2025-08-08 09:26:37.708 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:26:37.607 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-08 09:26:37.720 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:37.596 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:37.711 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 1263.5321ms
2025-08-08 09:26:37.711 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:37.712 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:37.732 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:26:37.981 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:37.860 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 470.3833ms
2025-08-08 09:26:37.987 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-08 09:26:37.990 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 729.76ms
2025-08-08 09:26:38.009 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:38.040 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:38.053 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-08 09:26:38.111 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:38.146 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:38.159 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`3[[System.Collections.Generic.List`1[[<>f__AnonymousType1`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType3`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:38.195 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:38.210 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:38.252 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 267.656ms
2025-08-08 09:26:38.342 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-08 09:26:38.345 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 738.5478ms
2025-08-08 09:26:38.340 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:38.317 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1862.9972ms
2025-08-08 09:26:38.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:26:38.604 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:26:38.609 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:38.611 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 2213.8984ms
2025-08-08 09:26:38.636 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:38.638 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:26:38.704 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:38.710 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:38.790 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:39.029 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:39.090 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:26:39.110 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:39.179 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:39.222 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:39.221 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:40.091 +02:00 [INF] Executed DbCommand (787ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:40.579 +02:00 [INF] Executed DbCommand (1,265ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:40.840 +02:00 [INF] Executed DbCommand (246ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:41.352 +02:00 [INF] Executed DbCommand (153ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:41.361 +02:00 [INF] Executed DbCommand (483ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:41.546 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:41.803 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:41.971 +02:00 [INF] Executed DbCommand (342ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:42.187 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:42.567 +02:00 [INF] Executed DbCommand (353ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:42.590 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:43.626 +02:00 [INF] Executed DbCommand (238ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:43.691 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:44.077 +02:00 [INF] Executed DbCommand (288ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:44.312 +02:00 [INF] Executed DbCommand (230ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:45.714 +02:00 [INF] Executed DbCommand (230ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:45.742 +02:00 [INF] Executed DbCommand (1,002ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:26:46.298 +02:00 [INF] Executed DbCommand (239ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:46.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:47.416 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 8524.4072ms
2025-08-08 09:26:47.587 +02:00 [INF] Executed DbCommand (419ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:47.607 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:26:47.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 9515.3094ms
2025-08-08 09:26:48.001 +02:00 [INF] Executed DbCommand (166ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:48.255 +02:00 [INF] Executed DbCommand (174ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:48.384 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:48.687 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:48.951 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:49.141 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:49.680 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:50.079 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:50.488 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:51.559 +02:00 [INF] Executed DbCommand (160ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:51.645 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.008 +02:00 [INF] Executed DbCommand (168ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.319 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.435 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.510 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.605 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.660 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.721 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.748 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.828 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.891 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:52.948 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:52.984 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:53.072 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:53.169 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:53.240 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:53.374 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.437 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.455 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.473 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.489 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.618 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.732 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.752 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.817 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.880 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.957 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:53.983 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:54.014 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:54.115 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:54.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:54.147 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 16792.5384ms
2025-08-08 09:26:54.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 09:26:54.189 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:26:54.204 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:26:54.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 17557.8441ms
2025-08-08 09:26:54.233 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:26:54.280 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:26:54.445 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 09:26:54.496 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:54.532 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:54.727 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:54.766 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:54.803 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:54.884 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:54.937 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:55.004 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:55.043 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:55.136 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:55.220 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:55.259 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:55.287 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:55.755 +02:00 [INF] Executed DbCommand (194ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:55.780 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:55.790 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:55.802 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:56.016 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:56.090 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:56.244 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:56.332 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:56.464 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:56.548 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:56.643 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:56.792 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:56.865 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.016 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.077 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.251 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.321 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.356 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.377 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.414 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.495 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.626 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.690 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.752 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.835 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:57.871 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:57.900 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.095 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.156 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.226 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.286 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.361 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.397 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.438 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.491 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.578 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.646 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.668 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 09:26:58.705 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 09:26:58.825 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:58.877 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:58.913 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.141 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.169 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.300 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.388 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.425 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.520 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.582 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.640 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.663 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.687 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.708 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 09:26:59.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:26:59.747 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 5367.8176ms
2025-08-08 09:26:59.788 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 09:26:59.799 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 5633.1016ms
2025-08-08 09:28:02.671 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:28:02.675 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:28:02.677 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 6.555ms
2025-08-08 09:28:02.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:28:02.696 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:28:02.708 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:28:02.715 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:28:02.802 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:28:02.826 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:02.841 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:02.875 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:02.905 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:03.028 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:03.074 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:03.103 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:03.203 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:28:03.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:28:03.247 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 523.9688ms
2025-08-08 09:28:03.263 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:28:03.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 595.2315ms
2025-08-08 09:34:10.014 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 09:34:10.051 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:34:10.065 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 54.177ms
2025-08-08 09:34:10.078 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 19
2025-08-08 09:34:10.120 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:34:10.270 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:34:10.404 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:34:11.017 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:34:11.252 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:34:11.404 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:34:11.439 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:34:11.453 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 1045.4418ms
2025-08-08 09:34:11.459 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:34:11.462 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 1383.6842ms
2025-08-08 09:39:06.429 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - null null
2025-08-08 09:39:06.447 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:06.455 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - 204 null null 26.9238ms
2025-08-08 09:39:06.468 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - application/json 21
2025-08-08 09:39:06.482 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:06.527 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:06.547 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:39:06.719 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:39:06.813 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:39:06.893 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:39:06.916 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:39:06.927 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 368.6606ms
2025-08-08 09:39:06.933 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:06.939 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - 200 null application/json; charset=utf-8 471.8805ms
2025-08-08 09:39:28.902 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:39:28.917 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:28.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 20.8932ms
2025-08-08 09:39:28.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:39:28.986 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:29.020 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:39:29.058 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:39:29.260 +02:00 [INF] Executed DbCommand (165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:39:29.468 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:29.590 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:29.667 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:29.928 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:30.036 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:30.094 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:30.191 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:30.401 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:30.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:39:30.918 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1836.2469ms
2025-08-08 09:39:30.926 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:39:30.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1967.5426ms
2025-08-08 09:39:35.720 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - null null
2025-08-08 09:39:35.726 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:35.730 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - 204 null null 9.6054ms
2025-08-08 09:39:35.739 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - application/json 21
2025-08-08 09:39:35.752 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:35.755 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:35.764 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:39:35.951 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:39:35.971 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:39:35.980 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:39:35.984 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:39:35.986 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 154.2514ms
2025-08-08 09:39:35.988 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:35.993 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - 200 null application/json; charset=utf-8 254.3787ms
2025-08-08 09:39:42.302 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - null null
2025-08-08 09:39:42.312 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:42.317 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - 204 null null 13.9376ms
2025-08-08 09:39:42.326 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - application/json 21
2025-08-08 09:39:42.337 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:42.413 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:42.415 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:39:42.680 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:39:42.749 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:39:42.765 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:39:42.768 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:39:42.776 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 358.9445ms
2025-08-08 09:39:42.780 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:39:42.782 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - 200 null application/json; charset=utf-8 456.2007ms
2025-08-08 09:39:56.166 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:39:56.172 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:56.176 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 9.5234ms
2025-08-08 09:39:56.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:39:56.198 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:39:56.202 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:39:56.205 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:39:56.334 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:39:56.387 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.448 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.465 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.485 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.497 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.559 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:56.837 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:57.120 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:39:57.348 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:39:57.351 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1140.905ms
2025-08-08 09:39:57.362 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:39:57.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1176.1456ms
2025-08-08 09:44:18.978 +02:00 [INF] Application is shutting down...
2025-08-08 09:45:41.841 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:45:41.903 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-08 09:45:42.080 +02:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-08 09:45:42.285 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-08 09:45:42.295 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 09:45:42.298 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-08 09:45:42.335 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-08 09:45:42.373 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-08 09:45:42.433 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-08 09:45:42.648 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 09:45:42.897 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-08 09:45:42.906 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 09:45:42.912 +02:00 [INF] Hosting environment: Development
2025-08-08 09:45:42.914 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-08 09:47:32.260 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:47:32.532 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-08 09:47:32.559 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:47:32.613 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 354.1561ms
2025-08-08 09:47:32.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:47:32.708 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:47:33.208 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:47:33.240 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:47:35.761 +02:00 [INF] Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:47:37.076 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:37.473 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:37.646 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:37.983 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:38.111 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:38.149 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:38.161 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:38.264 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:47:38.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:47:38.587 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 5308.656ms
2025-08-08 09:47:38.617 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:47:38.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 5964.0489ms
2025-08-08 09:49:39.176 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - null null
2025-08-08 09:49:39.185 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:49:39.188 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - 204 null null 12.405ms
2025-08-08 09:49:39.203 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - application/json 21
2025-08-08 09:49:39.220 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:49:39.299 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:49:39.410 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:49:39.469 +02:00 [INF] Updating manager with ID: 6, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 09:49:39.583 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:49:39.587 +02:00 [INF] Found manager: User ID 6, Current Active status: true
2025-08-08 09:49:39.588 +02:00 [INF] Updating status from 'inactive' to Active: false
2025-08-08 09:49:39.589 +02:00 [INF] User Active status after update: false
2025-08-08 09:49:39.779 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:49:39.793 +02:00 [INF] Manager updated successfully. Final Active status: false
2025-08-08 09:49:39.898 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:49:39.913 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:49:39.918 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 507.0631ms
2025-08-08 09:49:39.920 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:49:39.924 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - 200 null application/json; charset=utf-8 721.6285ms
2025-08-08 09:54:23.970 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 09:54:23.992 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:54:23.998 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 28.6545ms
2025-08-08 09:54:24.020 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 19
2025-08-08 09:54:24.032 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:54:24.179 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:54:24.207 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:54:24.307 +02:00 [INF] Updating manager with ID: 4, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 09:54:24.402 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:54:24.409 +02:00 [INF] Found manager: User ID 4, Current Active status: false
2025-08-08 09:54:24.410 +02:00 [INF] Updating status from 'active' to Active: true
2025-08-08 09:54:24.413 +02:00 [INF] User Active status after update: true
2025-08-08 09:54:24.451 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:54:24.468 +02:00 [INF] Manager updated successfully. Final Active status: true
2025-08-08 09:54:24.531 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:54:24.543 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:54:24.561 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 350.4593ms
2025-08-08 09:54:24.570 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:54:24.574 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 554.175ms
2025-08-08 09:54:28.246 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - null null
2025-08-08 09:54:28.252 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:54:28.255 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/006 - 204 null null 9.4412ms
2025-08-08 09:54:28.262 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - application/json 19
2025-08-08 09:54:28.272 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:54:28.275 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:54:28.279 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:54:28.300 +02:00 [INF] Updating manager with ID: 6, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 09:54:28.424 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:54:28.440 +02:00 [INF] Found manager: User ID 6, Current Active status: false
2025-08-08 09:54:28.442 +02:00 [INF] Updating status from 'active' to Active: true
2025-08-08 09:54:28.445 +02:00 [INF] User Active status after update: true
2025-08-08 09:54:28.519 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:54:28.565 +02:00 [INF] Manager updated successfully. Final Active status: true
2025-08-08 09:54:28.621 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:54:28.665 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:54:28.674 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 389.8506ms
2025-08-08 09:54:28.677 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:54:28.680 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/006 - 200 null application/json; charset=utf-8 417.1278ms
2025-08-08 09:55:25.236 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/020 - null null
2025-08-08 09:55:25.244 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:55:25.245 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/020 - 204 null null 9.1157ms
2025-08-08 09:55:25.248 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5238/api/admin/managers/020 - application/json null
2025-08-08 09:55:25.252 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:55:25.256 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.DeleteManager (backend)'
2025-08-08 09:55:25.303 +02:00 [INF] Route matched with {action = "DeleteManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteManager(Int64) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:55:25.395 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:55:25.407 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:55:25.412 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:55:25.442 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [managers]
OUTPUT 1
WHERE [user_id] = @p0;
2025-08-08 09:55:25.551 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-08 09:55:25.561 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p12='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString), @p11='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10, [work_id] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-08-08 09:55:25.567 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:55:25.570 +02:00 [INF] Manager with ID 20 has been deleted and user deactivated
2025-08-08 09:55:25.577 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-08 09:55:25.585 +02:00 [INF] Executed action backend.Controllers.AdminController.DeleteManager (backend) in 271.7021ms
2025-08-08 09:55:25.591 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.DeleteManager (backend)'
2025-08-08 09:55:25.596 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5238/api/admin/managers/020 - 204 null null 347.6015ms
2025-08-08 09:55:40.645 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:55:40.654 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:55:40.656 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 10.8058ms
2025-08-08 09:55:40.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:55:40.737 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:55:40.767 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:55:40.779 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:55:40.946 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:55:41.040 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:41.367 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:41.387 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:42.129 +02:00 [INF] Executed DbCommand (428ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:42.403 +02:00 [INF] Executed DbCommand (174ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:42.591 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:42.617 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:55:43.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:55:43.321 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 2530.6058ms
2025-08-08 09:55:43.593 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:55:43.603 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 2889.8295ms
2025-08-08 09:56:00.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/019 - null null
2025-08-08 09:56:00.395 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:56:00.398 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/019 - 204 null null 9.1008ms
2025-08-08 09:56:00.407 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5238/api/admin/managers/019 - application/json null
2025-08-08 09:56:00.412 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:56:00.415 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.DeleteManager (backend)'
2025-08-08 09:56:00.416 +02:00 [INF] Route matched with {action = "DeleteManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteManager(Int64) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:56:00.477 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:56:00.532 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:56:00.555 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:56:00.594 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [managers]
OUTPUT 1
WHERE [user_id] = @p0;
2025-08-08 09:56:00.630 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-08 09:56:00.668 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p12='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString), @p11='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10, [work_id] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-08-08 09:56:00.694 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:56:00.708 +02:00 [INF] Manager with ID 19 has been deleted and user deactivated
2025-08-08 09:56:00.713 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-08 09:56:00.717 +02:00 [INF] Executed action backend.Controllers.AdminController.DeleteManager (backend) in 294.3046ms
2025-08-08 09:56:00.722 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.DeleteManager (backend)'
2025-08-08 09:56:00.729 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5238/api/admin/managers/019 - 204 null null 321.7596ms
2025-08-08 09:56:22.213 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 09:56:22.220 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:56:22.222 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 9.8879ms
2025-08-08 09:56:22.236 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 09:56:22.241 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:56:22.246 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:56:22.256 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 09:56:22.379 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 09:56:22.473 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.506 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.522 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.537 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.567 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.593 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 09:56:22.598 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 09:56:22.604 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 338.1024ms
2025-08-08 09:56:22.659 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 09:56:22.696 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 455.2091ms
2025-08-08 09:57:44.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 09:57:44.105 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:57:44.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 7.8786ms
2025-08-08 09:57:44.122 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 143
2025-08-08 09:57:44.136 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:57:44.147 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:57:44.156 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:57:44.190 +02:00 [INF] Updating manager with ID: 4, Update fields: {"firstName":{"ValueKind":"String","$type":"JsonElement"},"lastName":{"ValueKind":"String","$type":"JsonElement"},"email":{"ValueKind":"String","$type":"JsonElement"},"phoneNumber":{"ValueKind":"String","$type":"JsonElement"},"nationalId":{"ValueKind":"String","$type":"JsonElement"},"workId":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 09:57:44.331 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:57:44.336 +02:00 [INF] Found manager: User ID 4, Current Active status: true
2025-08-08 09:57:44.402 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 228.0596ms
2025-08-08 09:57:44.412 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:57:44.433 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Text.Json.JsonElement' to type 'System.String'.
   at backend.Services.ManagerService.UpdateManagerAsync(Int64 id, Dictionary`2 updateFields) in C:\Users\Lamelo\RiderProject\backend\backend\Services\ManagerService.cs:line 182
   at backend.Controllers.AdminController.UpdateManager(Int64 id, Dictionary`2 updateRequest) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AdminController.cs:line 286
   at lambda_method382(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-08 09:57:44.584 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:57:44.600 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The exception handler configured on ExceptionHandlerOptions produced a 404 status response. This InvalidOperationException containing the original exception was thrown since this is often due to a misconfigured ExceptionHandlingPath. If the exception handler is expected to return 404 status responses then set AllowStatusCode404Response to true.
 ---> System.InvalidCastException: Unable to cast object of type 'System.Text.Json.JsonElement' to type 'System.String'.
   at backend.Services.ManagerService.UpdateManagerAsync(Int64 id, Dictionary`2 updateFields) in C:\Users\Lamelo\RiderProject\backend\backend\Services\ManagerService.cs:line 182
   at backend.Controllers.AdminController.UpdateManager(Int64 id, Dictionary`2 updateRequest) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AdminController.cs:line 286
   at lambda_method382(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.HandleException(HttpContext context, ExceptionDispatchInfo edi)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-08 09:57:44.661 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 500 null text/plain; charset=utf-8 538.2109ms
2025-08-08 09:57:44.682 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5238/api/admin/managers/004, Response status code: 500
2025-08-08 09:57:49.390 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 09:57:49.392 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:57:49.393 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 3.0842ms
2025-08-08 09:57:49.400 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 21
2025-08-08 09:57:49.404 +02:00 [INF] CORS policy execution successful.
2025-08-08 09:57:49.407 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:57:49.410 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 09:57:49.419 +02:00 [INF] Updating manager with ID: 4, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 09:57:49.496 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 09:57:49.514 +02:00 [INF] Found manager: User ID 4, Current Active status: true
2025-08-08 09:57:49.518 +02:00 [INF] Updating status from 'inactive' to Active: false
2025-08-08 09:57:49.525 +02:00 [INF] User Active status after update: false
2025-08-08 09:57:49.588 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 09:57:49.602 +02:00 [INF] Manager updated successfully. Final Active status: false
2025-08-08 09:57:49.612 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 09:57:49.625 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 09:57:49.630 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 212.9991ms
2025-08-08 09:57:49.647 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 09:57:49.652 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 251.3577ms
2025-08-08 10:00:43.452 +02:00 [INF] Application is shutting down...
2025-08-08 10:01:24.671 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:01:24.719 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-08 10:01:24.930 +02:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-08 10:01:25.059 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-08 10:01:25.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:01:25.074 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-08 10:01:25.165 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-08 10:01:25.201 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-08 10:01:25.236 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-08 10:01:25.448 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:01:25.651 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-08 10:01:25.654 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 10:01:25.657 +02:00 [INF] Hosting environment: Development
2025-08-08 10:01:25.659 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-08 10:08:54.927 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 10:08:55.127 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-08 10:08:55.202 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:08:55.299 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 368.5542ms
2025-08-08 10:08:55.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 10:08:55.512 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:08:56.134 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:08:56.189 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 10:08:57.512 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 10:08:57.960 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.128 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.156 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.180 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.189 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.213 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:08:58.242 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:08:58.364 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 2157.9588ms
2025-08-08 10:08:58.384 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:08:58.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 3008.2433ms
2025-08-08 10:09:04.727 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 10:09:04.732 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:09:04.733 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 6.5614ms
2025-08-08 10:09:04.741 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 19
2025-08-08 10:09:04.747 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:09:04.758 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:09:04.827 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 10:09:04.974 +02:00 [INF] Updating manager with ID: 4, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 10:09:05.063 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 10:09:05.066 +02:00 [INF] Found manager: User ID 4, Current Active status: false
2025-08-08 10:09:05.068 +02:00 [INF] Updating status from 'active' to Active: true
2025-08-08 10:09:05.069 +02:00 [INF] User Active status after update: true
2025-08-08 10:09:05.188 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 10:09:05.208 +02:00 [INF] Manager updated successfully. Final Active status: true
2025-08-08 10:09:05.298 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 10:09:05.309 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 10:09:05.313 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 471.9451ms
2025-08-08 10:09:05.315 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:09:05.321 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 579.4245ms
2025-08-08 10:12:29.658 +02:00 [INF] Application is shutting down...
2025-08-08 10:13:13.287 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:13:13.361 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-08 10:13:13.496 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-08 10:13:13.616 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-08 10:13:13.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-08 10:13:13.650 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-08 10:13:13.753 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-08 10:13:13.762 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-08 10:13:13.771 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-08 10:13:13.878 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-08 10:13:14.018 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-08 10:13:14.021 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-08 10:13:14.022 +02:00 [INF] Hosting environment: Development
2025-08-08 10:13:14.023 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-08 10:13:20.409 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 10:13:20.446 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-08 10:13:20.469 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:20.494 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 83.4507ms
2025-08-08 10:13:20.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 10:13:20.624 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:20.913 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:13:21.067 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 10:13:21.721 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 10:13:22.043 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.158 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.162 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.174 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.197 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:13:22.227 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:13:22.362 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 1241.4092ms
2025-08-08 10:13:22.367 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:13:22.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1788.8871ms
2025-08-08 10:13:38.972 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 10:13:38.974 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:38.985 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 16.0656ms
2025-08-08 10:13:38.999 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 21
2025-08-08 10:13:39.005 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:39.045 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:13:39.198 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 10:13:39.250 +02:00 [INF] Updating manager with ID: 4, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 10:13:39.339 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 10:13:39.342 +02:00 [INF] Found manager: User ID 4, Current Active status: true
2025-08-08 10:13:39.343 +02:00 [INF] Updating status from 'inactive' to Active: false
2025-08-08 10:13:39.344 +02:00 [INF] User Active status after update: false
2025-08-08 10:13:39.467 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 10:13:39.481 +02:00 [INF] Manager updated successfully. Final Active status: false
2025-08-08 10:13:39.567 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 10:13:39.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 10:13:39.582 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 377.6777ms
2025-08-08 10:13:39.585 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:13:39.589 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 589.8897ms
2025-08-08 10:13:55.607 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - null null
2025-08-08 10:13:55.611 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:55.612 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers/004 - 204 null null 4.6561ms
2025-08-08 10:13:55.625 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - application/json 19
2025-08-08 10:13:55.629 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:13:55.643 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:13:55.652 +02:00 [INF] Route matched with {action = "UpdateManager", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.UserDTO]] UpdateManager(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Object]) on controller backend.Controllers.AdminController (backend).
2025-08-08 10:13:55.714 +02:00 [INF] Updating manager with ID: 4, Update fields: {"status":{"ValueKind":"String","$type":"JsonElement"}}
2025-08-08 10:13:55.780 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-08 10:13:55.795 +02:00 [INF] Found manager: User ID 4, Current Active status: false
2025-08-08 10:13:55.798 +02:00 [INF] Updating status from 'active' to Active: true
2025-08-08 10:13:55.801 +02:00 [INF] User Active status after update: true
2025-08-08 10:13:55.836 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 100) (DbType = AnsiString), @p15='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 50) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [managers] SET [created_by] = @p0, [department] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13, [work_id] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-08-08 10:13:55.851 +02:00 [INF] Manager updated successfully. Final Active status: true
2025-08-08 10:13:55.872 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-08 10:13:55.887 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDTO'.
2025-08-08 10:13:55.889 +02:00 [INF] Executed action backend.Controllers.AdminController.UpdateManager (backend) in 226.1348ms
2025-08-08 10:13:55.893 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.UpdateManager (backend)'
2025-08-08 10:13:55.902 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5238/api/admin/managers/004 - 200 null application/json; charset=utf-8 276.4648ms
2025-08-08 10:14:06.464 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 10:14:06.469 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:06.470 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 6.6008ms
2025-08-08 10:14:06.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 10:14:06.481 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:06.487 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 10:14:06.497 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 10:14:06.713 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 10:14:06.853 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:06.876 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:06.891 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:06.925 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:06.975 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.018 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.074 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.110 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.141 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.197 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.240 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.299 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.331 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.344 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.354 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.375 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.437 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.534 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.656 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.707 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.843 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.892 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:07.925 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:07.951 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.020 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.050 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.073 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.125 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.136 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.189 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.236 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.267 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.296 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.320 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.341 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.367 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.398 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.430 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.491 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.553 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.567 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.589 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.599 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.771 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:08.800 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:08.857 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:09.066 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:09.197 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:09.295 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:09.371 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:09.418 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:09.580 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.585 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.588 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.591 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.598 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.606 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.614 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.620 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.635 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.725 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.806 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.840 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.857 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.865 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:09.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:14:09.913 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 3405.9024ms
2025-08-08 10:14:09.924 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 10:14:09.926 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 3449.4243ms
2025-08-08 10:14:34.239 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-08 10:14:34.248 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:34.252 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 13.1579ms
2025-08-08 10:14:34.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-08 10:14:34.279 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:34.288 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:14:34.295 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-08 10:14:34.350 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[created_by], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role], [u0].[work_id]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
INNER JOIN [users] AS [u0] ON [m].[created_by] = [u0].[Id]
2025-08-08 10:14:34.500 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.598 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.909 +02:00 [INF] Executed DbCommand (163ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.920 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.942 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.979 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-08 10:14:34.988 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:14:34.992 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 690.1366ms
2025-08-08 10:14:35.003 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-08 10:14:35.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 743.4889ms
2025-08-08 10:14:43.232 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-08 10:14:43.241 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:43.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 11.0448ms
2025-08-08 10:14:43.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-08 10:14:43.259 +02:00 [INF] CORS policy execution successful.
2025-08-08 10:14:43.262 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 10:14:43.265 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-08 10:14:43.299 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id]
FROM [users] AS [u]
2025-08-08 10:14:43.319 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.343 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.366 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.372 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.397 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.426 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.443 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.465 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.485 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.504 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.546 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.629 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.776 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.856 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:43.900 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:43.930 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.012 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.053 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.098 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.146 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.180 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.203 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.224 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.236 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.251 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.263 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.324 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.355 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.426 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.459 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.468 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.490 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.584 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.601 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.672 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.737 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.762 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.781 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.806 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.829 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.853 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.896 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.922 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.958 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:44.978 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:44.997 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:45.010 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:45.016 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:45.037 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:45.057 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:45.072 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-08 10:14:45.101 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[created_by], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-08 10:14:45.148 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.218 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.237 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.260 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.288 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.320 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.358 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.383 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.408 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.502 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.523 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.542 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.550 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u].[work_id], [m].[user_id], [m].[created_by], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-08 10:14:45.565 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-08 10:14:45.572 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 2293.6616ms
2025-08-08 10:14:45.574 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-08 10:14:45.576 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 2320.0056ms
