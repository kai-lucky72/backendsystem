2025-08-25 07:19:56.184 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 07:19:56.235 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 07:19:56.316 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 07:19:56.426 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 07:19:56.437 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 07:19:56.440 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 07:19:56.493 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 07:19:56.501 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 07:19:56.525 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 07:19:56.617 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 07:19:56.738 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 07:19:56.741 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 07:19:56.744 +02:00 [INF] Hosting environment: Development
2025-08-25 07:19:56.746 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 08:36:01.208 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 08:36:01.330 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 08:36:01.340 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:01.357 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 154.694ms
2025-08-25 08:36:01.373 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 08:36:01.385 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:01.604 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 08:36:01.643 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 08:36:01.792 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 08:36:01.802 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 08:36:01.819 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 08:36:01.834 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 08:36:01.840 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 08:36:02.117 +02:00 [INF] Received HTTP response headers after 270.1143ms - 200
2025-08-25 08:36:02.120 +02:00 [INF] End processing HTTP request after 288.7039ms - 200
2025-08-25 08:36:03.078 +02:00 [INF] Executed DbCommand (148ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 08:36:03.464 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 08:36:03.504 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 08:36:03.539 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1736.3728ms.
2025-08-25 08:36:03.557 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 08:36:03.581 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1915.7683ms
2025-08-25 08:36:03.587 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 08:36:03.615 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 2241.3494ms
2025-08-25 08:36:06.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 08:36:06.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 08:36:06.181 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:06.185 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 27.1028ms
2025-08-25 08:36:06.186 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:06.199 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 31.3356ms
2025-08-25 08:36:06.204 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 08:36:06.230 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:06.362 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 08:36:06.394 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 08:36:06.447 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 08:36:06.863 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 08:36:07.397 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 08:36:07.697 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 08:36:07.827 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 08:36:07.964 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 08:36:08.043 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1581.8617ms.
2025-08-25 08:36:08.046 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 08:36:08.096 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1696.8958ms
2025-08-25 08:36:08.104 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 08:36:08.105 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 08:36:08.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1905.4462ms
2025-08-25 08:36:08.113 +02:00 [INF] CORS policy execution successful.
2025-08-25 08:36:08.143 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 08:36:08.146 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 08:36:08.161 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 08:36:08.206 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 08:36:08.222 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 08:36:08.232 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 08:36:08.242 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 08:36:08.251 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 08:36:08.255 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.9089ms.
2025-08-25 08:36:08.257 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 08:36:08.258 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 105.2778ms
2025-08-25 08:36:08.260 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 08:36:08.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 156.536ms
2025-08-25 08:42:00.803 +02:00 [INF] Application is shutting down...
2025-08-25 10:13:31.667 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:13:31.732 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:13:31.736 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:13:31.746 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:14:11.080 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:14:11.170 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:14:11.180 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:14:11.190 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 10:14:13.016 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 10:14:13.036 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 10:14:13.393 +02:00 [INF] Executed DbCommand (339ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 10:14:13.884 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 10:14:13.949 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 10:14:13.970 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 10:14:14.087 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 10:14:14.128 +02:00 [INF] Applying migration '20250825081332_AddCollectedProposalsAndExternalAgentIds'.
2025-08-25 10:14:14.269 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [agents] ADD [external_distribution_channel_id] varchar(50) NULL;
2025-08-25 10:14:14.284 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [agents] ADD [external_user_id] varchar(50) NULL;
2025-08-25 10:14:14.355 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [collected_proposals] (
    [id] bigint NOT NULL IDENTITY,
    [agent_id] bigint NOT NULL,
    [proposal_number] nvarchar(450) NOT NULL,
    [customer_code] nvarchar(max) NULL,
    [customer_name] nvarchar(max) NULL,
    [proposal_date] datetime2 NULL,
    [premium] decimal(18,2) NULL,
    [risk_premium] decimal(18,2) NULL,
    [savings_premium] decimal(18,2) NULL,
    [total_premium] decimal(18,2) NULL,
    [premium_frequency] nvarchar(max) NULL,
    [payment_mode] nvarchar(max) NULL,
    [institutions] nvarchar(max) NULL,
    [due_date] datetime2 NULL,
    [converted] bit NULL,
    [converted_date] datetime2 NULL,
    [fetched_at_utc] datetime2 NOT NULL,
    CONSTRAINT [PK_collected_proposals] PRIMARY KEY ([id])
);
2025-08-25 10:14:14.394 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_collected_proposals_agent_id_proposal_date] ON [collected_proposals] ([agent_id], [proposal_date]);
2025-08-25 10:14:14.418 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_collected_proposals_proposal_number] ON [collected_proposals] ([proposal_number]);
2025-08-25 10:14:14.486 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250825081332_AddCollectedProposalsAndExternalAgentIds', N'9.0.7');
2025-08-25 10:14:14.538 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 11:04:26.583 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:04:26.658 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:04:26.666 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:04:26.669 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:04:27.104 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 11:04:27.114 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 11:04:27.178 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 11:04:27.315 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 11:04:27.323 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 11:04:27.328 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 11:04:27.416 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 11:04:27.424 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 11:04:27.441 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 11:04:27.564 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 11:04:27.689 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 11:04:27.693 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 11:04:27.695 +02:00 [INF] Hosting environment: Development
2025-08-25 11:04:27.697 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 11:06:28.934 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:06:29.041 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 11:06:29.061 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:29.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 168.283ms
2025-08-25 11:06:29.129 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:06:29.151 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:29.389 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:06:29.466 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:06:29.681 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 11:06:29.695 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 11:06:29.706 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:06:29.718 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:06:30.019 +02:00 [INF] Received HTTP response headers after 292.4786ms - 200
2025-08-25 11:06:30.024 +02:00 [INF] End processing HTTP request after 318.7948ms - 200
2025-08-25 11:06:30.663 +02:00 [INF] Executed DbCommand (153ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:06:30.969 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:06:30.986 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:06:31.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:06:31.084 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1604.0624ms
2025-08-25 11:06:31.093 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:06:31.111 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1981.6761ms
2025-08-25 11:06:34.514 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:06:34.514 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:06:34.524 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:34.526 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:34.529 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.6335ms
2025-08-25 11:06:34.532 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 17.6527ms
2025-08-25 11:06:34.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:06:34.798 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:34.983 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:06:35.067 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:06:35.782 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:06:36.237 +02:00 [INF] Executed DbCommand (236ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:06:37.138 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:06:37.773 +02:00 [INF] Executed DbCommand (184ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:06:38.169 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:06:38.370 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:06:38.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:06:38.656 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 3370.1367ms
2025-08-25 11:06:38.663 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:06:38.664 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:06:38.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 4086.758ms
2025-08-25 11:06:38.684 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:38.725 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:06:38.742 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:06:38.902 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:06:38.969 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:06:39.018 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:06:39.038 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:06:39.150 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:06:39.239 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:06:39.253 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:06:39.257 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 495.7255ms
2025-08-25 11:06:39.264 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:06:39.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 606.6676ms
2025-08-25 11:06:48.039 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 11:06:48.044 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:48.045 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 6.355ms
2025-08-25 11:06:48.054 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 11:06:48.059 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:06:48.078 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:06:48.123 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:06:48.289 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:06:48.322 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:06:48.380 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:06:48.554 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 412.5055ms
2025-08-25 11:06:48.556 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:06:48.558 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 503.8317ms
2025-08-25 11:07:03.601 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 11:07:03.606 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:03.607 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 6.3995ms
2025-08-25 11:07:03.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 11:07:03.629 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:03.648 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 11:07:03.729 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:07:03.872 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:07:03.885 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:07:03.926 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:07:04.046 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:07:04.053 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:07:04.062 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:07:04.171 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 424.9952ms
2025-08-25 11:07:04.174 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 11:07:04.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 560.2258ms
2025-08-25 11:07:16.382 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 11:07:16.384 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 11:07:16.386 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:16.395 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:16.397 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 15.4485ms
2025-08-25 11:07:16.398 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 14.6285ms
2025-08-25 11:07:16.434 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 11:07:16.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 11:07:16.454 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:16.465 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:16.471 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:07:16.473 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 11:07:16.476 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:07:16.543 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:07:16.814 +02:00 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:07:17.076 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:07:17.087 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:07:17.112 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 593.7214ms
2025-08-25 11:07:17.141 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:07:17.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 733.317ms
2025-08-25 11:07:17.379 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 11:07:17.485 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 11:07:17.801 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 11:07:18.096 +02:00 [INF] Executed DbCommand (236ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 11:07:18.108 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:07:18.124 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 1354.1292ms
2025-08-25 11:07:18.314 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 11:07:18.330 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 1881.4143ms
2025-08-25 11:07:36.003 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:07:36.003 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:07:36.006 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:36.012 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:36.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.9063ms
2025-08-25 11:07:36.014 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.7664ms
2025-08-25 11:07:36.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:07:36.063 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:36.085 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:07:36.111 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:07:36.291 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:07:36.449 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:07:36.529 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:07:36.617 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:07:36.793 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:07:36.876 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:07:36.899 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:07:36.907 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 755.5252ms
2025-08-25 11:07:36.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:07:36.937 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:07:36.984 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:07:36.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 964.1219ms
2025-08-25 11:07:37.015 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:07:37.029 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:07:37.071 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:07:37.103 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:07:37.165 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:07:37.261 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:07:37.301 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:07:37.372 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:07:37.394 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:07:37.403 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 368.6569ms
2025-08-25 11:07:37.413 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:07:37.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 500.5524ms
2025-08-25 11:09:12.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:09:12.401 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:09:12.409 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 20.3646ms
2025-08-25 11:09:12.480 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:09:12.495 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:09:12.516 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:09:12.525 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:09:12.596 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:09:12.636 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:09:12.664 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:09:12.673 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:09:12.874 +02:00 [INF] Received HTTP response headers after 182.7144ms - 200
2025-08-25 11:09:12.881 +02:00 [INF] End processing HTTP request after 218.4041ms - 200
2025-08-25 11:09:13.002 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:09:13.492 +02:00 [INF] Executed DbCommand (238ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:09:13.904 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:09:14.022 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:09:14.255 +02:00 [INF] Executed DbCommand (192ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:09:14.294 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:09:14.527 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1993.866ms
2025-08-25 11:09:14.779 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:09:14.817 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 2336.5533ms
2025-08-25 11:09:27.483 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:09:28.980 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:09:29.422 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 1938.8164ms
2025-08-25 11:09:29.846 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:09:30.111 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:09:30.342 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:09:30.561 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:09:31.222 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:09:31.788 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:09:32.458 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:09:32.910 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:09:33.202 +02:00 [INF] Received HTTP response headers after 31.6943ms - 200
2025-08-25 11:09:33.219 +02:00 [INF] End processing HTTP request after 761.5398ms - 200
2025-08-25 11:09:34.007 +02:00 [INF] Executed DbCommand (711ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:09:34.619 +02:00 [INF] Executed DbCommand (326ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:09:34.827 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:09:35.127 +02:00 [INF] Executed DbCommand (165ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:09:35.518 +02:00 [INF] Executed DbCommand (220ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:09:35.593 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:09:35.605 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 4435.7792ms
2025-08-25 11:09:35.785 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:09:35.828 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 5981.8675ms
2025-08-25 11:10:41.351 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:10:41.359 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:41.362 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 11.48ms
2025-08-25 11:10:41.368 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:10:41.370 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:41.390 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:10:41.408 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:10:41.463 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:10:41.473 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:10:41.484 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:10:41.491 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:10:41.547 +02:00 [INF] Received HTTP response headers after 50.6295ms - 200
2025-08-25 11:10:41.553 +02:00 [INF] End processing HTTP request after 70.6647ms - 200
2025-08-25 11:10:41.676 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:10:41.692 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:10:41.725 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:10:41.742 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:10:41.760 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:10:41.772 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:10:41.777 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 357.9207ms
2025-08-25 11:10:41.780 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:10:41.785 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 416.8874ms
2025-08-25 11:10:42.248 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:10:42.258 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:10:42.264 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.290 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:10:42.304 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:10:42.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:10:42.311 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:10:42.463 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.319 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 70.8423ms
2025-08-25 11:10:42.386 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.391 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.454 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.312 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.470 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 159.0729ms
2025-08-25 11:10:42.481 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:10:42.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 195.8199ms
2025-08-25 11:10:42.487 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 183.5719ms
2025-08-25 11:10:42.534 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 229.5461ms
2025-08-25 11:10:42.539 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 280.3713ms
2025-08-25 11:10:42.564 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.638 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:42.690 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:10:42.705 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.732 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:10:42.738 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:42.731 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:42.785 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:10:42.843 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:42.843 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:42.847 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:43.113 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:10:43.268 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:43.280 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:43.340 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:43.360 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 447.2507ms
2025-08-25 11:10:43.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:10:43.400 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:10:43.483 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:43.496 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 805.2721ms
2025-08-25 11:10:43.523 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:43.540 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:43.560 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:10:43.735 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:43.790 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:10:43.794 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:10:43.804 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:43.816 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 64.7146ms
2025-08-25 11:10:43.821 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:10:43.826 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 444.7672ms
2025-08-25 11:10:43.847 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:10:43.857 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:43.867 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:10:43.901 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:43.908 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 1050.2614ms
2025-08-25 11:10:43.915 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:43.921 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1283.6928ms
2025-08-25 11:10:43.947 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:43.957 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:43.971 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:43.980 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:44.024 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 1173.0396ms
2025-08-25 11:10:44.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:10:44.096 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:10:44.108 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:44.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1630.6557ms
2025-08-25 11:10:44.116 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:10:44.126 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:44.162 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:44.170 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:44.228 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.253 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.311 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:10:44.325 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.341 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:44.349 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 255.5019ms
2025-08-25 11:10:44.355 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:44.358 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 411.2876ms
2025-08-25 11:10:44.368 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:44.378 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:44.381 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:10:44.382 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:44.390 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:10:44.390 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:44.400 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 267.4273ms
2025-08-25 11:10:44.414 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:10:44.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 365.7287ms
2025-08-25 11:10:44.481 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:44.544 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.604 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.617 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:44.628 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 221.1376ms
2025-08-25 11:10:44.637 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:44.639 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:44.658 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:44.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 302.6222ms
2025-08-25 11:10:44.681 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:44.696 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:44.796 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:44.894 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.977 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:44.992 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:45.000 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 288.5691ms
2025-08-25 11:10:45.006 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:45.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:45.021 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 383.4455ms
2025-08-25 11:10:45.038 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:45.066 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:45.080 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:45.165 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:45.233 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:45.310 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:45.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:45.438 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 344.9746ms
2025-08-25 11:10:45.445 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:45.445 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:45.477 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:45.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 472.6718ms
2025-08-25 11:10:45.488 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:45.499 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:10:45.617 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:10:45.713 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:45.780 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:10:45.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:10:45.837 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 323.2713ms
2025-08-25 11:10:45.860 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:45.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 427.164ms
2025-08-25 11:10:59.344 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:10:59.345 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:10:59.345 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:10:59.350 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.350 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:10:59.354 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.359 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.361 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 16.304ms
2025-08-25 11:10:59.372 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.376 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 30.6485ms
2025-08-25 11:10:59.381 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 35.9731ms
2025-08-25 11:10:59.418 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 67.7398ms
2025-08-25 11:10:59.453 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:10:59.498 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:10:59.908 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.937 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:10:59.950 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:10:59.977 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:00.235 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:00.532 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:00.714 +02:00 [INF] Executed DbCommand (178ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:00.786 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:00.810 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:00.858 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:11:00.906 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:00.912 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:11:00.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:11:00.982 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 481.1132ms
2025-08-25 11:11:01.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:11:01.014 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:01.032 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:01.048 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1594.4741ms
2025-08-25 11:11:01.065 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:01.117 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:01.266 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:01.272 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 624.9709ms
2025-08-25 11:11:01.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:11:01.277 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:01.298 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:01.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 1804.1179ms
2025-08-25 11:11:01.321 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:01.327 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:01.339 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:01.437 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:01.461 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:11:01.467 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:01.470 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 336.3617ms
2025-08-25 11:11:01.530 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:01.587 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 584.2883ms
2025-08-25 11:11:01.600 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:11:01.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:11:01.704 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 320.703ms
2025-08-25 11:11:01.715 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:01.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 445.1451ms
2025-08-25 11:11:16.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:11:16.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:11:16.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:11:16.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:11:16.472 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.478 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.486 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.498 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.501 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 38.7659ms
2025-08-25 11:11:16.504 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 42.14ms
2025-08-25 11:11:16.508 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 46.4117ms
2025-08-25 11:11:16.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 50.3283ms
2025-08-25 11:11:16.584 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:11:16.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:11:16.602 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.614 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:16.633 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:16.638 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:16.640 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:16.655 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:16.786 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:16.787 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:16.873 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:16.881 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:11:16.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:11:16.923 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 256.402ms
2025-08-25 11:11:16.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:11:16.962 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:16.973 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:17.007 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:17.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:11:17.070 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 486.4969ms
2025-08-25 11:11:17.085 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:17.095 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 422.5992ms
2025-08-25 11:11:17.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:11:17.153 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:17.165 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:17.205 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:11:17.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 653.241ms
2025-08-25 11:11:17.256 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:17.262 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:17.276 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:11:17.307 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:11:17.334 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:11:17.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:11:17.360 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 132.6524ms
2025-08-25 11:11:17.368 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:11:17.371 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:17.379 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 443.7994ms
2025-08-25 11:11:17.402 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:11:17.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:11:17.441 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 128.2088ms
2025-08-25 11:11:17.449 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:11:17.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 325.548ms
2025-08-25 11:20:38.574 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients/sync - null null
2025-08-25 11:20:38.639 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:20:38.650 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients/sync - 204 null null 81.0185ms
2025-08-25 11:20:38.670 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - application/json 0
2025-08-25 11:20:38.686 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:20:38.869 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 11:20:39.048 +02:00 [INF] Route matched with {action = "SyncMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncMyClients(System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:20:39.351 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:20:39.402 +02:00 [INF] Executed action backend.Controllers.AgentController.SyncMyClients (backend) in 350.6973ms
2025-08-25 11:20:39.405 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 11:20:39.449 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent has no ExternalDistributionChannelId set.
   at backend.Services.CollectedProposalService.SyncAgentProposalsAsync(Int64 agentId, CancellationToken cancellationToken) in C:\Users\Lamelo\RiderProject\backend\backend\Services\CollectedProposalService.cs:line 21
   at backend.Controllers.AgentController.SyncMyClients(CancellationToken ct) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 38
   at lambda_method1139(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 11:20:39.649 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - application/json 0
2025-08-25 11:20:39.653 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:20:39.669 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 11:20:39.674 +02:00 [INF] Route matched with {action = "SyncMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncMyClients(System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:20:39.735 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:20:39.739 +02:00 [INF] Executed action backend.Controllers.AgentController.SyncMyClients (backend) in 54.2392ms
2025-08-25 11:20:39.742 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 11:20:39.745 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent has no ExternalDistributionChannelId set.
   at backend.Services.CollectedProposalService.SyncAgentProposalsAsync(Int64 agentId, CancellationToken cancellationToken) in C:\Users\Lamelo\RiderProject\backend\backend\Services\CollectedProposalService.cs:line 21
   at backend.Controllers.AgentController.SyncMyClients(CancellationToken ct) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 38
   at lambda_method1139(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 11:20:39.814 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - 500 null application/json; charset=utf-8 164.4789ms
2025-08-25 11:20:39.814 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - 500 null application/json; charset=utf-8 1144.109ms
2025-08-25 11:26:22.216 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:26:22.230 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:22.239 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 22.7802ms
2025-08-25 11:26:22.248 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:26:22.258 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:22.281 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:26:22.304 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:26:22.437 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:26:22.475 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:26:22.483 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:26:22.485 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:26:22.597 +02:00 [INF] Received HTTP response headers after 109.8372ms - 401
2025-08-25 11:26:22.598 +02:00 [INF] End processing HTTP request after 116.9794ms - 401
2025-08-25 11:26:22.603 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 11:26:22.611 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:22.641 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 334.4913ms
2025-08-25 11:26:22.643 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:26:22.645 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 397.1767ms
2025-08-25 11:26:35.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:26:35.393 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:35.394 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 5.3123ms
2025-08-25 11:26:35.409 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:26:35.426 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:35.432 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:26:35.438 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:26:35.444 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:26:35.456 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:26:35.463 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:26:35.473 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:26:35.540 +02:00 [INF] Received HTTP response headers after 57.9859ms - 200
2025-08-25 11:26:35.547 +02:00 [INF] End processing HTTP request after 83.5402ms - 200
2025-08-25 11:26:35.750 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:26:35.832 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:26:35.846 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:26:35.855 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:26:35.872 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:26:35.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:26:35.899 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 457.2475ms
2025-08-25 11:26:35.910 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:26:35.917 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 507.7919ms
2025-08-25 11:26:37.030 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:26:37.047 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.060 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 29.9112ms
2025-08-25 11:26:37.097 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:26:37.103 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:26:37.103 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:26:37.111 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:26:37.111 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:26:37.122 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.148 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:26:37.319 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.407 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.439 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 350.2516ms
2025-08-25 11:26:37.464 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 360.9622ms
2025-08-25 11:26:37.483 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 382.9367ms
2025-08-25 11:26:37.495 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 384.1964ms
2025-08-25 11:26:37.505 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 393.9068ms
2025-08-25 11:26:37.568 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:26:37.602 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:37.721 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:26:37.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:37.745 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.752 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:37.756 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:37.759 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:26:37.777 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:37.806 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:37.812 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:37.990 +02:00 [INF] Executed DbCommand (197ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:38.078 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:26:38.113 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:26:38.138 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:26:38.144 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:26:38.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:38.192 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 582.9966ms
2025-08-25 11:26:38.195 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 284.1364ms
2025-08-25 11:26:38.218 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:26:38.219 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:26:38.225 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:26:38.231 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:26:38.242 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:38.259 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:38.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1026.0978ms
2025-08-25 11:26:38.275 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 554.0779ms
2025-08-25 11:26:38.281 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:26:38.286 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:26:38.328 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:38.342 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:38.501 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:26:38.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:38.553 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 202.258ms
2025-08-25 11:26:38.558 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:26:38.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 359.7295ms
2025-08-25 11:26:38.644 +02:00 [INF] Executed DbCommand (547ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:38.686 +02:00 [INF] Executed DbCommand (274ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:38.773 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:38.776 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:38.814 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:26:38.832 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:38.844 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:26:38.850 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:38.859 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:26:38.865 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 922.2572ms
2025-08-25 11:26:38.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:38.889 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 479.456ms
2025-08-25 11:26:38.927 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:38.966 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:38.975 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:26:38.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1265.1202ms
2025-08-25 11:26:38.993 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:39.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 784.1947ms
2025-08-25 11:26:39.026 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:39.105 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:39.426 +02:00 [INF] Executed DbCommand (266ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:39.478 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:39.491 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:39.493 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 450.5385ms
2025-08-25 11:26:39.506 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:39.526 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:39.535 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:39.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 661.4395ms
2025-08-25 11:26:39.556 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:39.561 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:39.612 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:39.672 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:39.763 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:39.790 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:39.799 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 228.9107ms
2025-08-25 11:26:39.812 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:39.818 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:39.823 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:39.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 318.0378ms
2025-08-25 11:26:39.828 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:39.876 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:39.991 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:40.243 +02:00 [INF] Executed DbCommand (228ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:40.310 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:40.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:40.371 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 476.4068ms
2025-08-25 11:26:40.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:40.404 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:40.409 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:40.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 643.1835ms
2025-08-25 11:26:40.487 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:40.518 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:40.607 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:40.659 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:41.006 +02:00 [INF] Executed DbCommand (311ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:41.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:41.029 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 503.4306ms
2025-08-25 11:26:41.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:26:41.052 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:41.057 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:26:41.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 657.9621ms
2025-08-25 11:26:41.141 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:41.154 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:26:41.195 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:26:41.281 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:41.637 +02:00 [INF] Executed DbCommand (303ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:26:41.642 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:26:41.646 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 489.3306ms
2025-08-25 11:26:41.652 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:26:41.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 604.5828ms
2025-08-25 11:27:07.683 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:27:07.742 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:27:07.746 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 62.8561ms
2025-08-25 11:27:07.748 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:27:07.797 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:27:07.805 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 57.529ms
2025-08-25 11:27:07.809 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:27:08.035 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:27:08.041 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:27:08.043 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:27:08.122 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:27:08.242 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:27:08.661 +02:00 [INF] Executed DbCommand (344ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:27:08.695 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:27:08.699 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 650.6337ms
2025-08-25 11:27:08.705 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:27:08.716 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:27:08.784 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:27:08.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 977.359ms
2025-08-25 11:27:08.804 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:27:08.816 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:27:08.885 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:27:09.034 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:27:09.085 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:27:09.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:27:09.171 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 338.4951ms
2025-08-25 11:27:09.245 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:27:09.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 544.8595ms
2025-08-25 11:28:59.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:28:59.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:28:59.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:28:59.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:28:59.948 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:28:59.948 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:28:59.949 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:28:59.953 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:28:59.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 38.6063ms
2025-08-25 11:28:59.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 36.2312ms
2025-08-25 11:28:59.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 37.9079ms
2025-08-25 11:28:59.962 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 38.6656ms
2025-08-25 11:29:00.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:29:00.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:29:00.078 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:29:00.090 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:29:00.140 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:29:00.140 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:29:00.145 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:29:00.146 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:29:00.462 +02:00 [INF] Executed DbCommand (181ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:29:00.462 +02:00 [INF] Executed DbCommand (181ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:29:00.581 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:29:00.602 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:29:00.610 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:29:00.618 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 456.302ms
2025-08-25 11:29:00.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:29:00.622 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:29:00.624 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:29:00.627 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:29:00.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 564.4586ms
2025-08-25 11:29:00.652 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:29:00.653 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:29:00.678 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:29:00.716 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 563.7275ms
2025-08-25 11:29:00.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:29:00.761 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:29:00.787 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:29:00.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 791.6481ms
2025-08-25 11:29:00.819 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:29:00.839 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:29:01.011 +02:00 [INF] Executed DbCommand (263ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:29:01.022 +02:00 [INF] Executed DbCommand (177ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:29:01.029 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:29:01.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:29:01.041 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 309.1404ms
2025-08-25 11:29:01.043 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:29:01.045 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 423.4181ms
2025-08-25 11:29:01.056 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:29:01.129 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:29:01.146 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:29:01.151 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 309.216ms
2025-08-25 11:29:01.162 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:29:01.185 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 439.4816ms
2025-08-25 11:31:32.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:31:32.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:31:32.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:31:32.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:31:32.837 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:32.837 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:32.846 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:32.867 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 57.2427ms
2025-08-25 11:31:32.866 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 55.1123ms
2025-08-25 11:31:32.867 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 58.1983ms
2025-08-25 11:31:32.851 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:32.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:31:32.981 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:31:32.986 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 177.0917ms
2025-08-25 11:31:32.997 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:33.001 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:33.215 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:31:33.215 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:31:33.278 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:31:33.280 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:31:33.665 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:31:33.665 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:31:33.768 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:31:33.772 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:31:33.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:31:33.794 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 495.2164ms
2025-08-25 11:31:33.798 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:31:33.798 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:31:33.801 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 844.0902ms
2025-08-25 11:31:33.806 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:31:33.808 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:33.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:31:33.875 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:31:33.908 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 589.6409ms
2025-08-25 11:31:33.908 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:31:33.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:31:33.914 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:31:33.996 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:31:33.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1016.4774ms
2025-08-25 11:31:34.000 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:31:34.011 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:31:34.284 +02:00 [INF] Executed DbCommand (289ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:31:34.293 +02:00 [INF] Executed DbCommand (252ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:31:34.304 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:31:34.310 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:31:34.312 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 365.831ms
2025-08-25 11:31:34.315 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:31:34.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 520.4548ms
2025-08-25 11:31:34.324 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:31:34.465 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:31:34.472 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:31:34.478 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 450.4133ms
2025-08-25 11:31:34.495 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:31:34.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 595.5552ms
2025-08-25 11:32:28.519 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients - null null
2025-08-25 11:32:29.220 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:32:29.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients - 204 null null 793.9606ms
2025-08-25 11:32:29.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients - application/json null
2025-08-25 11:32:29.900 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:32:29.930 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:32:30.081 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:32:30.852 +02:00 [INF] Executed DbCommand (496ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:32:30.996 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:32:31.172 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:32:31.185 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 846.074ms
2025-08-25 11:32:31.189 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:32:31.192 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients - 200 null application/json; charset=utf-8 1707.0903ms
2025-08-25 11:33:03.569 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:33:03.570 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:33:03.584 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.598 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.598 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 29.1207ms
2025-08-25 11:33:03.600 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 30.6811ms
2025-08-25 11:33:03.607 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:33:03.627 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.632 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 25.5151ms
2025-08-25 11:33:03.638 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:33:03.643 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.645 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 7.1392ms
2025-08-25 11:33:03.651 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:33:03.659 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.674 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:33:03.680 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:33:03.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:33:03.710 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:03.719 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:33:03.725 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:33:03.927 +02:00 [INF] Executed DbCommand (175ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:33:03.927 +02:00 [INF] Executed DbCommand (236ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:33:04.078 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:33:04.079 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:33:04.094 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:33:04.141 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 400.8004ms
2025-08-25 11:33:04.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 11:33:04.154 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:33:04.158 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:04.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 472.4923ms
2025-08-25 11:33:04.166 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:33:04.296 +02:00 [INF] Executed DbCommand (197ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:33:04.305 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 11:33:04.319 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:33:04.328 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 644.7262ms
2025-08-25 11:33:04.331 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:33:04.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 682.2281ms
2025-08-25 11:33:04.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:33:04.356 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:33:04.359 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:33:04.362 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:33:04.484 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:33:04.484 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:33:04.593 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:33:04.617 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:33:04.652 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:33:04.658 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 337.7723ms
2025-08-25 11:33:04.667 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 11:33:04.831 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 684.0141ms
2025-08-25 11:33:04.854 +02:00 [INF] Executed DbCommand (198ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:33:04.859 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:33:04.864 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 498.1643ms
2025-08-25 11:33:04.869 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:33:04.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 522.1799ms
2025-08-25 11:33:53.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 11:33:53.666 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|manager|agent)
2025-08-25 11:33:53.776 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 11:33:53.783 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 401 0 null 246.4087ms
2025-08-25 11:37:59.467 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:37:59.478 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:37:59.481 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 15.4347ms
2025-08-25 11:37:59.490 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:37:59.495 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:37:59.514 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:37:59.519 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:37:59.569 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:37:59.581 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:37:59.589 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:37:59.590 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:37:59.994 +02:00 [INF] Received HTTP response headers after 402.3983ms - 401
2025-08-25 11:37:59.995 +02:00 [INF] End processing HTTP request after 408.2342ms - 401
2025-08-25 11:37:59.997 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 11:38:00.003 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:00.005 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 480.9721ms
2025-08-25 11:38:00.006 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:38:00.008 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 517.5948ms
2025-08-25 11:38:04.511 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:38:04.516 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:04.517 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 5.8564ms
2025-08-25 11:38:04.523 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:38:04.525 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:04.527 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:38:04.528 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:38:04.533 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:38:04.537 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:38:04.539 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:38:04.540 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:38:04.556 +02:00 [INF] Received HTTP response headers after 14.4955ms - 401
2025-08-25 11:38:04.558 +02:00 [INF] End processing HTTP request after 18.9539ms - 401
2025-08-25 11:38:04.560 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 11:38:04.562 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:04.564 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 32.2446ms
2025-08-25 11:38:04.567 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:38:04.570 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 47.1914ms
2025-08-25 11:38:11.920 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:38:11.925 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:11.927 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 6.4922ms
2025-08-25 11:38:11.940 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:38:11.950 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:11.953 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:38:11.956 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:38:11.973 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:38:11.976 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:38:11.981 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:38:11.984 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:38:12.018 +02:00 [INF] Received HTTP response headers after 29.7468ms - 200
2025-08-25 11:38:12.020 +02:00 [INF] End processing HTTP request after 39.0766ms - 200
2025-08-25 11:38:12.233 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:38:12.300 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:38:12.320 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:38:12.333 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:38:12.348 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:38:12.358 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:38:12.362 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 394.2652ms
2025-08-25 11:38:12.364 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:38:12.366 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 426.4578ms
2025-08-25 11:38:12.806 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:38:12.819 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.820 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:38:12.821 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 15.2167ms
2025-08-25 11:38:12.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:38:12.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:12.836 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.844 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:12.848 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:38:12.852 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.855 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:38:12.857 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.860 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 39.6071ms
2025-08-25 11:38:12.870 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.876 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.909 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 65.1426ms
2025-08-25 11:38:12.889 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.894 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 59.6899ms
2025-08-25 11:38:12.904 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:12.881 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 47.215ms
2025-08-25 11:38:12.910 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 61.7227ms
2025-08-25 11:38:12.930 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:12.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:12.934 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.962 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:12.968 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:12.970 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:12.980 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:12.984 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:12.986 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.052 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.052 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.133 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.133 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.137 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:13.157 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.165 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 175.0036ms
2025-08-25 11:38:13.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:13.168 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:13.169 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:13.170 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.173 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 273.0138ms
2025-08-25 11:38:13.189 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.190 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:13.201 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:13.205 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 208.5817ms
2025-08-25 11:38:13.205 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.211 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:13.215 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:38:13.216 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.235 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 301.9744ms
2025-08-25 11:38:13.231 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.238 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:13.241 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 268.243ms
2025-08-25 11:38:13.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:38:13.250 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.253 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.255 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:13.263 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.265 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.268 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 47.8278ms
2025-08-25 11:38:13.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 415.3394ms
2025-08-25 11:38:13.272 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:13.285 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:13.299 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.301 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 134.3659ms
2025-08-25 11:38:13.486 +02:00 [INF] Executed DbCommand (202ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.497 +02:00 [INF] Executed DbCommand (192ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.518 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.519 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.538 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:13.548 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.558 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 275.5667ms
2025-08-25 11:38:13.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:13.564 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:13.564 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.568 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.572 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:38:13.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 368.1749ms
2025-08-25 11:38:13.581 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.583 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 279.001ms
2025-08-25 11:38:13.597 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.599 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:13.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 356.7926ms
2025-08-25 11:38:13.635 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.668 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.697 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.701 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.703 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 100.1982ms
2025-08-25 11:38:13.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:13.705 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.712 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.714 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 150.0142ms
2025-08-25 11:38:13.716 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.721 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.748 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.768 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.779 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.787 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 59.7754ms
2025-08-25 11:38:13.791 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.794 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:13.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 92.2367ms
2025-08-25 11:38:13.801 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.812 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.814 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.850 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.881 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.905 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.914 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:13.916 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 98.4126ms
2025-08-25 11:38:13.917 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:13.918 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.922 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:13.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 131.4015ms
2025-08-25 11:38:13.929 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:13.934 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:13.961 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:13.972 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.992 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:13.997 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:14.000 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 62.8545ms
2025-08-25 11:38:14.001 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:14.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 85.2678ms
2025-08-25 11:38:31.154 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:31.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:31.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:31.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:31.162 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.167 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.169 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.172 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.173 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 18.5208ms
2025-08-25 11:38:31.174 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 17.8704ms
2025-08-25 11:38:31.175 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 19.0638ms
2025-08-25 11:38:31.177 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 19.3198ms
2025-08-25 11:38:31.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:31.197 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.198 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.200 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.230 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.248 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.263 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.281 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 77.4993ms
2025-08-25 11:38:31.283 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:31.287 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.293 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 105.7063ms
2025-08-25 11:38:31.299 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.313 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.318 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.323 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.328 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.334 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 17.1835ms
2025-08-25 11:38:31.335 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:31.336 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.339 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 58.8527ms
2025-08-25 11:38:31.344 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.351 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.357 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.361 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.364 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.368 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 14.3483ms
2025-08-25 11:38:31.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:31.370 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.380 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 46.845ms
2025-08-25 11:38:31.384 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.389 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.397 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.403 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.406 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.410 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.412 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 18.7521ms
2025-08-25 11:38:31.413 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:31.415 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 44.8411ms
2025-08-25 11:38:31.485 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:38:31.485 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:38:31.488 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.490 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.490 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 5.3735ms
2025-08-25 11:38:31.492 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 6.5813ms
2025-08-25 11:38:31.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:38:31.500 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.501 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:38:31.531 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.547 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.552 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.559 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.582 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.585 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 51.8452ms
2025-08-25 11:38:31.587 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:38:31.587 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:38:31.590 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 93.0989ms
2025-08-25 11:38:31.593 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:38:31.597 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.601 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:31.605 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:31.612 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.617 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.622 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:38:31.624 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 25.0965ms
2025-08-25 11:38:31.627 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.629 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:38:31.630 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 7.4648ms
2025-08-25 11:38:31.631 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 44.5438ms
2025-08-25 11:38:31.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:31.644 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.646 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:31.647 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.654 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.664 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.668 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 17.2147ms
2025-08-25 11:38:31.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:31.671 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:31.675 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:31.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 37.1417ms
2025-08-25 11:38:31.681 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:31.687 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:31.692 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:31.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:31.698 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 8.8101ms
2025-08-25 11:38:31.700 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:31.702 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 32.0651ms
2025-08-25 11:38:43.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 11:38:43.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:43.617 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.618 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 11:38:43.618 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:43.621 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.622 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 12.3666ms
2025-08-25 11:38:43.626 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.632 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.634 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 24.3606ms
2025-08-25 11:38:43.639 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 11:38:43.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 22.9969ms
2025-08-25 11:38:43.642 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 23.5498ms
2025-08-25 11:38:43.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:43.654 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.668 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.671 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 11:38:43.674 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:43.709 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:43.710 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:43.743 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:43.747 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:43.766 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:43.785 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:43.791 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:43.793 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 11:38:43.794 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 80.8714ms
2025-08-25 11:38:43.797 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:43.805 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.801 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:43.807 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:43.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 161.676ms
2025-08-25 11:38:43.818 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:43.822 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:43.831 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:43.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:43.842 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:43.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:43.847 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 19.0569ms
2025-08-25 11:38:43.849 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:43.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 54.812ms
2025-08-25 11:38:43.860 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 143.9186ms
2025-08-25 11:38:43.862 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 11:38:43.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 11:38:43.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 227.8094ms
2025-08-25 11:38:43.872 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:43.879 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 11:38:43.882 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:43.888 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:43.894 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 11:38:43.900 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:43.903 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 18.0605ms
2025-08-25 11:38:43.906 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 11:38:43.908 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 42.1902ms
2025-08-25 11:38:52.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:38:52.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:38:52.854 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:52.856 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:38:52.859 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:38:52.859 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:38:52.859 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.864 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.870 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.880 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.885 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.891 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.893 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 42.2029ms
2025-08-25 11:38:52.894 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 42.9501ms
2025-08-25 11:38:52.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 41.7406ms
2025-08-25 11:38:52.897 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 41.1012ms
2025-08-25 11:38:52.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 41.5208ms
2025-08-25 11:38:52.902 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 43.0566ms
2025-08-25 11:38:52.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:52.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:52.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:38:52.955 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.963 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.967 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:52.969 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:52.970 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:52.972 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:52.974 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:52.976 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:52.980 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:52.996 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:53.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.007 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 20.8689ms
2025-08-25 11:38:53.008 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:38:53.012 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:53.020 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.023 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.025 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 79.8584ms
2025-08-25 11:38:53.030 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:53.038 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.039 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.053 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.055 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:38:53.062 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.070 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.072 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 20.3536ms
2025-08-25 11:38:53.075 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 92.5173ms
2025-08-25 11:38:53.078 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:38:53.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:53.078 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:53.080 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 71.8477ms
2025-08-25 11:38:53.086 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.094 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 155.8975ms
2025-08-25 11:38:53.100 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:53.101 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.114 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:38:53.116 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.120 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 130.9092ms
2025-08-25 11:38:53.122 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:38:53.131 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.131 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:53.136 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.147 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 196.0708ms
2025-08-25 11:38:53.148 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.149 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:53.165 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.165 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.178 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 56.4918ms
2025-08-25 11:38:53.181 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.181 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.188 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 109.4554ms
2025-08-25 11:38:53.188 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.205 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:53.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:53.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:38:53.221 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.229 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:38:53.230 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.233 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 60.0616ms
2025-08-25 11:38:53.235 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.238 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:38:53.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 124.5032ms
2025-08-25 11:38:53.270 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.301 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.319 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.322 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.327 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 84.1406ms
2025-08-25 11:38:53.330 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:53.331 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.335 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 121.8496ms
2025-08-25 11:38:53.338 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.348 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.379 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.408 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.421 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.430 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.433 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 82.1068ms
2025-08-25 11:38:53.436 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:53.436 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.448 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 119.1669ms
2025-08-25 11:38:53.451 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.461 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.480 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.504 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.535 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.539 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.544 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 74.6877ms
2025-08-25 11:38:53.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:38:53.547 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.551 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:38:53.552 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 116.1433ms
2025-08-25 11:38:53.554 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.565 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:38:53.596 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:38:53.636 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.652 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:38:53.655 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:38:53.657 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 89.3572ms
2025-08-25 11:38:53.661 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:38:53.664 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 116.9985ms
2025-08-25 11:40:16.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:40:16.539 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:40:16.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:40:16.542 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:40:16.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:40:16.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:40:16.562 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.563 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.566 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.570 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.575 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.579 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.583 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 49.1054ms
2025-08-25 11:40:16.583 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 43.8694ms
2025-08-25 11:40:16.583 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 48.1122ms
2025-08-25 11:40:16.585 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 43.5436ms
2025-08-25 11:40:16.586 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 53.1164ms
2025-08-25 11:40:16.588 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 54.7584ms
2025-08-25 11:40:16.611 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:16.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:40:16.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:40:16.626 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.631 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.635 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:16.712 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:40:16.712 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:16.722 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:16.722 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:16.723 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:40:16.731 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:16.944 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:40:16.982 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:16.982 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:17.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:17.012 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 282.5899ms
2025-08-25 11:40:17.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:40:17.016 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:40:17.020 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:17.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 406.6863ms
2025-08-25 11:40:17.024 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:40:17.029 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:17.030 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:17.031 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:17.042 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:40:17.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:17.051 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 14.0459ms
2025-08-25 11:40:17.054 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:40:17.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 40.8592ms
2025-08-25 11:40:17.061 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:40:17.063 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:17.073 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:17.074 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:40:17.076 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 349.9658ms
2025-08-25 11:40:17.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:17.081 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:40:17.084 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:17.092 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:17.095 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 484.1043ms
2025-08-25 11:40:17.102 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 367.8055ms
2025-08-25 11:40:17.098 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:17.106 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:40:17.108 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:17.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 488.6483ms
2025-08-25 11:40:17.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:40:17.125 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:17.127 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:40:17.129 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:17.148 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:17.148 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:17.613 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:17.620 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:18.992 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:40:19.000 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.034 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:19.037 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 1923.6275ms
2025-08-25 11:40:19.039 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1962.1034ms
2025-08-25 11:40:19.040 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:40:19.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:19.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:40:19.057 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:19.067 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.069 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:19.065 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 1932.7306ms
2025-08-25 11:40:19.075 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:40:19.077 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1961.8153ms
2025-08-25 11:40:19.157 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:19.174 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.189 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.208 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:19.217 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 144.8148ms
2025-08-25 11:40:19.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:19.249 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:19.221 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.251 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.254 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 212.4093ms
2025-08-25 11:40:19.256 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:19.268 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:19.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.282 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.287 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:19.290 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 25.1177ms
2025-08-25 11:40:19.292 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 74.1719ms
2025-08-25 11:40:19.295 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:19.304 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:19.307 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.309 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:19.315 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:19.323 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.329 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:19.339 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 27.0861ms
2025-08-25 11:40:19.342 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 49.3926ms
2025-08-25 11:40:19.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:40:19.364 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:40:19.366 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.367 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:40:19.393 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:40:19.448 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.490 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:40:19.533 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:40:19.544 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 173.4903ms
2025-08-25 11:40:19.557 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:40:19.559 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 210.8913ms
2025-08-25 11:41:03.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:41:03.636 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:41:03.641 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.651 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.653 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 17.936ms
2025-08-25 11:41:03.658 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 21.9141ms
2025-08-25 11:41:03.677 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:03.681 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.682 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.685 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.696 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.705 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.715 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.720 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:03.721 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 34.9929ms
2025-08-25 11:41:03.723 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:03.724 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.726 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.728 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 50.3016ms
2025-08-25 11:41:03.729 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.733 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.741 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.745 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:03.753 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 17.5276ms
2025-08-25 11:41:03.756 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.756 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:03.759 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 35.7146ms
2025-08-25 11:41:03.769 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.777 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.778 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.784 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.789 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.795 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.802 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:03.805 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 24.7909ms
2025-08-25 11:41:03.809 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:03.810 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.813 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.815 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 58.7983ms
2025-08-25 11:41:03.817 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.822 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.860 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.874 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:03.878 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 52.5266ms
2025-08-25 11:41:03.885 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:03.881 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:41:03.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 78.5858ms
2025-08-25 11:41:03.892 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.898 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 17.3397ms
2025-08-25 11:41:03.905 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:41:03.909 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.911 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:41:03.913 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.922 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:03.939 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:03.952 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:03.956 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:03.961 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 44.4805ms
2025-08-25 11:41:03.965 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 11:41:03.965 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:41:03.971 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 67.1343ms
2025-08-25 11:41:03.974 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:41:03.978 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:41:03.979 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:03.982 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:03.988 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 10.2696ms
2025-08-25 11:41:03.989 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:03.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:41:04.002 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:04.003 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:04.004 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:04.005 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:04.020 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:04.021 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:04.026 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:04.029 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 15.0104ms
2025-08-25 11:41:04.032 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:04.034 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 41.3154ms
2025-08-25 11:41:04.039 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:04.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:04.047 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 60.03ms
2025-08-25 11:41:04.049 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 11:41:04.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 86.0869ms
2025-08-25 11:41:04.080 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:41:04.084 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:04.088 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:04.092 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:04.104 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:04.108 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:04.111 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 15.9145ms
2025-08-25 11:41:04.113 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:04.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 35.8635ms
2025-08-25 11:41:28.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:41:28.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:41:28.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:41:28.255 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.258 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.266 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 11:41:28.267 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 17.5886ms
2025-08-25 11:41:28.269 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 11:41:28.270 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 11:41:28.270 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 20.6959ms
2025-08-25 11:41:28.272 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 22.4145ms
2025-08-25 11:41:28.274 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.279 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:41:28.282 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.285 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:41:28.291 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.292 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 24.648ms
2025-08-25 11:41:28.294 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.295 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 26.0247ms
2025-08-25 11:41:28.296 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 26.3686ms
2025-08-25 11:41:28.300 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.306 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.323 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:28.339 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:41:28.339 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.340 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.342 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.343 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.357 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:28.361 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.363 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 18.8232ms
2025-08-25 11:41:28.369 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:28.371 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.371 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 11:41:28.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 92.3117ms
2025-08-25 11:41:28.376 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.380 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.389 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.391 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:28.391 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.403 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.414 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:28.421 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 11:41:28.425 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.425 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.427 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:28.429 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.431 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 16.7932ms
2025-08-25 11:41:28.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:41:28.438 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 86.8199ms
2025-08-25 11:41:28.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.439 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 11:41:28.441 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 93.552ms
2025-08-25 11:41:28.442 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.443 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 11:41:28.445 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 75.8352ms
2025-08-25 11:41:28.450 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:41:28.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 161.8532ms
2025-08-25 11:41:28.456 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.457 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 175.2349ms
2025-08-25 11:41:28.472 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:41:28.473 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.479 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.491 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.492 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.556 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.560 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.574 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.576 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:28.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.586 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 102.7635ms
2025-08-25 11:41:28.588 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 152.4643ms
2025-08-25 11:41:28.595 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:28.597 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.607 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 11:41:28.608 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.609 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 122.2377ms
2025-08-25 11:41:28.610 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.613 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 11:41:28.618 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 175.5077ms
2025-08-25 11:41:28.672 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.688 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.700 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.705 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 88.2112ms
2025-08-25 11:41:28.706 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.708 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 119.3047ms
2025-08-25 11:41:28.711 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.719 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.720 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.723 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.726 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.733 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.736 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.738 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 16.2702ms
2025-08-25 11:41:28.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.740 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.743 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 37.5031ms
2025-08-25 11:41:28.746 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.752 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.771 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.796 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.816 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.821 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 67.1175ms
2025-08-25 11:41:28.823 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 11:41:28.823 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.826 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:28.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 87.5577ms
2025-08-25 11:41:28.829 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.835 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 11:41:28.852 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 11:41:28.866 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.877 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:28.882 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:41:28.883 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 45.1851ms
2025-08-25 11:41:28.884 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 11:41:28.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 63.0716ms
2025-08-25 11:41:50.968 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:41:50.973 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:50.974 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 6.5679ms
2025-08-25 11:41:50.981 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:41:50.988 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:50.991 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:41:50.992 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:41:51.024 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 11:41:51.036 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 11:41:51.041 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:41:51.043 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:41:51.126 +02:00 [INF] Received HTTP response headers after 78.8351ms - 200
2025-08-25 11:41:51.129 +02:00 [INF] End processing HTTP request after 88.7592ms - 200
2025-08-25 11:41:51.151 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:41:51.185 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:41:51.198 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:41:51.204 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:41:51.205 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 211.2101ms
2025-08-25 11:41:51.208 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:41:51.210 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 228.4542ms
2025-08-25 11:41:53.097 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:41:53.101 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:41:53.104 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:53.113 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.6005ms
2025-08-25 11:41:53.110 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:53.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:41:53.140 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 38.3961ms
2025-08-25 11:41:53.154 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:53.172 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:41:53.181 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:41:53.301 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:41:53.324 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:41:53.351 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:53.372 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:53.431 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:41:53.472 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:41:53.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:41:53.502 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 313.9313ms
2025-08-25 11:41:53.505 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:41:53.507 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:41:53.524 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:41:53.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 397.8094ms
2025-08-25 11:41:53.539 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:41:53.546 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:41:53.571 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:41:53.590 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:41:53.619 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:41:53.632 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:41:53.648 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:41:53.664 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:41:53.669 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:41:53.671 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 120.945ms
2025-08-25 11:41:53.673 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:41:53.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 170.5316ms
2025-08-25 11:42:11.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 11:42:11.205 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 11:42:11.205 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:11.207 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:11.208 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 7.6612ms
2025-08-25 11:42:11.209 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 3.504ms
2025-08-25 11:42:11.219 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 11:42:11.222 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:11.223 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:42:11.224 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:42:11.252 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:42:11.275 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:42:11.286 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:42:11.291 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 65.3723ms
2025-08-25 11:42:11.297 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 11:42:11.299 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:42:11.306 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:11.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 92.4218ms
2025-08-25 11:42:11.322 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:42:11.345 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:42:11.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:42:11.363 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:42:11.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 11:42:11.370 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 18.7767ms
2025-08-25 11:42:11.372 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 11:42:11.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 77.2821ms
2025-08-25 11:42:19.654 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:42:19.658 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:19.659 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 11:42:19.660 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 6.788ms
2025-08-25 11:42:19.665 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:19.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:42:19.671 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 11.9658ms
2025-08-25 11:42:19.673 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:19.680 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:42:19.681 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:42:19.695 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:42:19.714 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:42:19.831 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:42:19.845 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:42:19.860 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:42:19.866 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:42:19.869 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:42:19.876 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 193.064ms
2025-08-25 11:42:19.879 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 11:42:19.879 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:42:19.882 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:42:19.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 212.868ms
2025-08-25 11:42:19.884 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:42:19.892 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 11:42:19.898 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 11:42:19.901 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 11:42:19.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 11:42:19.915 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 11:42:19.918 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:42:19.925 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 11:42:19.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 11:42:19.929 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 33.6619ms
2025-08-25 11:42:19.932 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 11:42:19.933 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 54.467ms
2025-08-25 11:42:45.982 +02:00 [INF] Application is shutting down...
2025-08-25 11:47:27.656 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:47:27.685 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:47:27.688 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:47:27.695 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 11:47:28.149 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 11:47:28.161 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 11:47:28.258 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 11:47:28.355 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 11:47:28.362 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 11:47:28.368 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 11:47:28.428 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 11:47:28.453 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 11:47:28.466 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 11:47:28.657 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 11:47:28.960 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 11:47:28.966 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 11:47:28.968 +02:00 [INF] Hosting environment: Development
2025-08-25 11:47:28.970 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 11:53:11.233 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 65
2025-08-25 11:53:11.438 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 11:53:11.579 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:53:11.625 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:53:11.899 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:53:11.982 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:53:12.019 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:53:12.027 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:53:12.428 +02:00 [INF] Received HTTP response headers after 392.0062ms - 401
2025-08-25 11:53:12.443 +02:00 [INF] End processing HTTP request after 428.4717ms - 401
2025-08-25 11:53:12.453 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 11:53:12.480 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:53:12.509 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 875.3849ms
2025-08-25 11:53:12.513 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:53:12.546 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 1349.7407ms
2025-08-25 11:53:53.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 11:53:53.859 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:53:53.872 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 32.566ms
2025-08-25 11:53:53.883 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 11:53:53.893 +02:00 [INF] CORS policy execution successful.
2025-08-25 11:53:54.014 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:53:54.017 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:53:54.026 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:53:54.028 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:53:54.032 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:53:54.033 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:53:54.048 +02:00 [INF] Received HTTP response headers after 13.5096ms - 401
2025-08-25 11:53:54.050 +02:00 [INF] End processing HTTP request after 18.0992ms - 401
2025-08-25 11:53:54.052 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 11:53:54.054 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 11:53:54.057 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 37.1209ms
2025-08-25 11:53:54.059 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:53:54.061 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 177.8585ms
2025-08-25 11:54:41.422 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 65
2025-08-25 11:54:41.437 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:54:41.439 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 11:54:41.456 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 11:54:41.458 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 11:54:41.464 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:54:41.465 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 11:54:41.496 +02:00 [INF] Received HTTP response headers after 24.1184ms - 200
2025-08-25 11:54:41.502 +02:00 [INF] End processing HTTP request after 38.6021ms - 200
2025-08-25 11:54:42.504 +02:00 [INF] Executed DbCommand (278ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 11:54:42.969 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 11:54:43.046 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:54:43.085 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString), @p14='?' (DbType = Int64), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 255) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (DbType = DateTime), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Size = 50) (DbType = AnsiString), @p10='?' (Size = 255) (DbType = AnsiString), @p11='?' (Size = 20) (DbType = AnsiString), @p12='?' (Size = 4000), @p13='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [agents] SET [external_distribution_channel_id] = @p0, [external_user_id] = @p1
OUTPUT 1
WHERE [user_id] = @p2;
UPDATE [users] SET [active] = @p3, [created_at] = @p4, [email] = @p5, [first_name] = @p6, [last_login] = @p7, [last_name] = @p8, [national_id] = @p9, [password_hash] = @p10, [phone_number] = @p11, [profile_image_url] = @p12, [role] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-08-25 11:54:43.094 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 11:54:43.103 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 11:54:43.107 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1664.9567ms
2025-08-25 11:54:43.109 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 11:54:43.112 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1690.0937ms
2025-08-25 12:01:15.997 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - null 0
2025-08-25 12:01:16.067 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 12:01:16.145 +02:00 [INF] Route matched with {action = "SyncMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncMyClients(System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:01:16.379 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:01:16.410 +02:00 [INF] Start processing HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 12:01:16.416 +02:00 [INF] Sending HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 12:01:16.844 +02:00 [INF] Received HTTP response headers after 423.8673ms - 200
2025-08-25 12:01:16.846 +02:00 [INF] End processing HTTP request after 436.4603ms - 200
2025-08-25 12:01:17.099 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__numbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[proposal_number] IN (
    SELECT [n].[value]
    FROM OPENJSON(@__numbers_0) WITH ([value] nvarchar(450) '$') AS [n]
)
2025-08-25 12:01:17.375 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 450), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int64), @p17='?' (DbType = Boolean), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 4000), @p27='?' (DbType = DateTime2), @p28='?' (Size = 450), @p29='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p31='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p32='?' (DbType = Int64), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (Size = 4000), @p40='?' (Size = 4000), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (Size = 4000), @p43='?' (DbType = DateTime2), @p44='?' (Size = 450), @p45='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p46='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p47='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p48='?' (DbType = Int64), @p49='?' (DbType = Boolean), @p50='?' (DbType = DateTime2), @p51='?' (Size = 4000), @p52='?' (Size = 4000), @p53='?' (DbType = DateTime2), @p54='?' (DbType = DateTime2), @p55='?' (Size = 4000), @p56='?' (Size = 4000), @p57='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p58='?' (Size = 4000), @p59='?' (DbType = DateTime2), @p60='?' (Size = 450), @p61='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p62='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (DbType = Int64), @p65='?' (DbType = Boolean), @p66='?' (DbType = DateTime2), @p67='?' (Size = 4000), @p68='?' (Size = 4000), @p69='?' (DbType = DateTime2), @p70='?' (DbType = DateTime2), @p71='?' (Size = 4000), @p72='?' (Size = 4000), @p73='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p74='?' (Size = 4000), @p75='?' (DbType = DateTime2), @p76='?' (Size = 450), @p77='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p78='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p79='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [collected_proposals] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2),
(@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 3),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, 4)) AS i ([agent_id], [converted], [converted_date], [customer_code], [customer_name], [due_date], [fetched_at_utc], [institutions], [payment_mode], [premium], [premium_frequency], [proposal_date], [proposal_number], [risk_premium], [savings_premium], [total_premium], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([agent_id], [converted], [converted_date], [customer_code], [customer_name], [due_date], [fetched_at_utc], [institutions], [payment_mode], [premium], [premium_frequency], [proposal_date], [proposal_number], [risk_premium], [savings_premium], [total_premium])
VALUES (i.[agent_id], i.[converted], i.[converted_date], i.[customer_code], i.[customer_name], i.[due_date], i.[fetched_at_utc], i.[institutions], i.[payment_mode], i.[premium], i.[premium_frequency], i.[proposal_date], i.[proposal_number], i.[risk_premium], i.[savings_premium], i.[total_premium])
OUTPUT INSERTED.[id], i._Position;
2025-08-25 12:01:17.396 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:01:17.412 +02:00 [INF] Executed action backend.Controllers.AgentController.SyncMyClients (backend) in 1258.0287ms
2025-08-25 12:01:17.422 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 12:01:17.429 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - 200 null application/json; charset=utf-8 1431.8072ms
2025-08-25 12:02:19.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:02:19.060 +02:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-08-25 12:02:19.102 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-08-25 12:02:19.109 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|manager|agent)
2025-08-25 12:02:19.120 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 12:02:19.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 401 0 null 95.8471ms
2025-08-25 12:03:04.918 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:03:04.937 +02:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output, Boolean needReplace, Int32 decodedLength)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(ReadOnlySpan`1 strSpan, Span`1 output)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-08-25 12:03:04.957 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-08-25 12:03:04.968 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|manager|agent)
2025-08-25 12:03:04.972 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 12:03:04.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 401 0 null 55.2769ms
2025-08-25 12:03:51.740 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:03:51.744 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:03:51.749 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:03:51.801 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:03:51.907 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:03:51.921 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:03:51.953 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 202.683ms
2025-08-25 12:03:51.957 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:03:51.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 219.9718ms
2025-08-25 12:07:24.055 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 12:07:24.060 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:24.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 11.2888ms
2025-08-25 12:07:24.069 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 12:07:24.071 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:24.074 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 12:07:24.076 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 12:07:24.087 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 12:07:24.092 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 12:07:24.094 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 12:07:24.096 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 12:07:24.139 +02:00 [INF] Received HTTP response headers after 42.4774ms - 200
2025-08-25 12:07:24.142 +02:00 [INF] End processing HTTP request after 48.3622ms - 200
2025-08-25 12:07:24.198 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 12:07:24.231 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 12:07:24.241 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 12:07:24.247 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 12:07:24.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 12:07:24.256 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 12:07:24.258 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 178.1783ms
2025-08-25 12:07:24.261 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 12:07:24.262 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 193.2241ms
2025-08-25 12:07:27.065 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 12:07:27.070 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.071 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 12:07:27.072 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 6.5312ms
2025-08-25 12:07:27.077 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:07:27.078 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 12:07:27.079 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.079 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:07:27.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 12:07:27.085 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 12:07:27.093 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.093 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 23.403ms
2025-08-25 12:07:27.098 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.101 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.103 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.105 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 27.6473ms
2025-08-25 12:07:27.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 27.314ms
2025-08-25 12:07:27.113 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 12:07:27.114 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 34.4212ms
2025-08-25 12:07:27.116 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 31.0601ms
2025-08-25 12:07:27.126 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.130 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.130 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 12:07:27.140 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.143 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 12:07:27.146 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.262 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.262 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.262 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.314 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.369 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.435 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 12:07:27.436 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.437 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.484 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:07:27.497 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.499 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:07:27.505 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 12:07:27.513 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.518 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 247.308ms
2025-08-25 12:07:27.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 12:07:27.520 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 12:07:27.527 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.531 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 417.8177ms
2025-08-25 12:07:27.533 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 12:07:27.537 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.548 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 282.7574ms
2025-08-25 12:07:27.550 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 282.1899ms
2025-08-25 12:07:27.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 12:07:27.551 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 12:07:27.553 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.554 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 12:07:27.556 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.567 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 485.9376ms
2025-08-25 12:07:27.570 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 443.9067ms
2025-08-25 12:07:27.575 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.579 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.582 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 12:07:27.591 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 51.0347ms
2025-08-25 12:07:27.596 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.596 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.598 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 12:07:27.604 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 84.2757ms
2025-08-25 12:07:27.618 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.618 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.635 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.636 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.649 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.650 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:07:27.652 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.655 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 55.2083ms
2025-08-25 12:07:27.658 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.663 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 110.0595ms
2025-08-25 12:07:27.664 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:07:27.666 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.673 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 12:07:27.676 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.679 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 76.5497ms
2025-08-25 12:07:27.680 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.682 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 12:07:27.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 134.2967ms
2025-08-25 12:07:27.686 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.697 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.700 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.703 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.704 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 20.5858ms
2025-08-25 12:07:27.706 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.708 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 46.9773ms
2025-08-25 12:07:27.713 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.717 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.718 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.734 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.754 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.767 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.770 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.771 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 51.3685ms
2025-08-25 12:07:27.773 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 70.8706ms
2025-08-25 12:07:27.780 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.784 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.785 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.800 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.817 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.833 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.836 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.838 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 50.3904ms
2025-08-25 12:07:27.839 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:07:27.839 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.847 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:07:27.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 75.702ms
2025-08-25 12:07:27.851 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.856 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:07:27.880 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:07:27.896 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.905 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:07:27.909 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:07:27.911 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 49.9354ms
2025-08-25 12:07:27.913 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:07:27.915 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 75.7912ms
2025-08-25 12:09:14.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:09:14.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:09:14.621 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.626 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.629 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 13.5354ms
2025-08-25 12:09:14.631 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 15.1094ms
2025-08-25 12:09:14.644 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:09:14.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:09:14.662 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:09:14.670 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.674 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.678 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.680 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:09:14.681 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:09:14.681 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 19.6181ms
2025-08-25 12:09:14.683 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:09:14.685 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:09:14.744 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:09:14.749 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:09:14.766 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:09:14.772 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:09:14.777 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 83.6817ms
2025-08-25 12:09:14.777 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:09:14.779 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:09:14.779 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:09:14.783 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 139.2899ms
2025-08-25 12:09:14.787 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.791 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:09:14.792 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:09:14.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:09:14.795 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:09:14.797 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 99.8088ms
2025-08-25 12:09:14.799 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:09:14.801 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:09:14.802 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:09:14.804 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:09:14.805 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 156.4181ms
2025-08-25 12:09:14.814 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:09:14.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:09:14.816 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:09:14.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:09:14.822 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 23.1425ms
2025-08-25 12:09:14.823 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:09:14.824 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:09:14.830 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 50.8212ms
2025-08-25 12:09:14.845 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:09:14.857 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:09:14.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:09:14.861 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 41.0029ms
2025-08-25 12:09:14.863 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:09:14.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 65.779ms
2025-08-25 12:15:41.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:15:41.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:15:41.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:15:41.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:15:42.005 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.002 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.003 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.002 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 28.147ms
2025-08-25 12:15:42.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 28.1342ms
2025-08-25 12:15:42.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 28.1712ms
2025-08-25 12:15:42.013 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 28.159ms
2025-08-25 12:15:42.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:15:42.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:15:42.044 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.047 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.086 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:42.091 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:42.094 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:42.096 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:42.265 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:42.272 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:42.292 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:15:42.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:15:42.298 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:42.305 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 205.9812ms
2025-08-25 12:15:42.307 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:15:42.308 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:42.311 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 295.6565ms
2025-08-25 12:15:42.316 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:42.319 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:42.325 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:42.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:15:42.335 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 241.1116ms
2025-08-25 12:15:42.337 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:42.338 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:15:42.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 307.5327ms
2025-08-25 12:15:42.346 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:42.353 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:42.353 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:42.354 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:42.361 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:42.361 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:15:42.367 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:15:42.370 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 37.8706ms
2025-08-25 12:15:42.371 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:42.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 65.8316ms
2025-08-25 12:15:42.379 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:42.388 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:42.390 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:15:42.392 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 33.3499ms
2025-08-25 12:15:42.394 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:42.395 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 57.4469ms
2025-08-25 12:15:49.361 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:15:49.364 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:15:49.364 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:15:49.364 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 12:15:49.366 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.370 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.375 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.386 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.392 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 31.0278ms
2025-08-25 12:15:49.397 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 32.5601ms
2025-08-25 12:15:49.399 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 34.6489ms
2025-08-25 12:15:49.402 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 37.8436ms
2025-08-25 12:15:49.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:15:49.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:15:49.430 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.434 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.436 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:49.437 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:49.438 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:49.440 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:49.474 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:49.480 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:49.486 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:15:49.490 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:49.491 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:15:49.495 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 49.283ms
2025-08-25 12:15:49.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:15:49.498 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:49.501 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.501 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:49.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 76.0001ms
2025-08-25 12:15:49.504 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:49.508 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:15:49.514 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:49.517 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 74.0867ms
2025-08-25 12:15:49.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 12:15:49.524 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:49.528 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:49.533 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:49.535 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 113.8235ms
2025-08-25 12:15:49.543 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:49.544 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:15:49.550 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:49.554 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:15:49.558 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 37.9092ms
2025-08-25 12:15:49.559 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:49.561 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:49.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 67.6443ms
2025-08-25 12:15:49.566 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:49.575 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 12:15:49.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:15:49.582 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 26.6148ms
2025-08-25 12:15:49.584 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 12:15:49.586 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 66.4381ms
2025-08-25 12:15:57.761 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients/sync - null null
2025-08-25 12:15:57.766 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:57.767 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients/sync - 204 null null 6.0492ms
2025-08-25 12:15:57.770 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - application/json 0
2025-08-25 12:15:57.773 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:57.774 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 12:15:57.777 +02:00 [INF] Route matched with {action = "SyncMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncMyClients(System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:57.794 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:57.804 +02:00 [INF] Start processing HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 12:15:57.806 +02:00 [INF] Sending HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 12:15:58.674 +02:00 [INF] Received HTTP response headers after 867.3745ms - 200
2025-08-25 12:15:58.677 +02:00 [INF] End processing HTTP request after 874.0761ms - 200
2025-08-25 12:15:58.748 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__numbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[proposal_number] IN (
    SELECT [n].[value]
    FROM OPENJSON(@__numbers_0) WITH ([value] nvarchar(450) '$') AS [n]
)
2025-08-25 12:15:58.807 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p5='?' (DbType = Int64), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p9='?' (DbType = Int64), @p8='?' (DbType = DateTime2), @p10='?' (DbType = Int64), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (Size = 450), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p0
OUTPUT 1
WHERE [id] = @p1;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p2
OUTPUT 1
WHERE [id] = @p3;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p4
OUTPUT 1
WHERE [id] = @p5;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p6
OUTPUT 1
WHERE [id] = @p7;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p8
OUTPUT 1
WHERE [id] = @p9;
INSERT INTO [collected_proposals] ([agent_id], [converted], [converted_date], [customer_code], [customer_name], [due_date], [fetched_at_utc], [institutions], [payment_mode], [premium], [premium_frequency], [proposal_date], [proposal_number], [risk_premium], [savings_premium], [total_premium])
OUTPUT INSERTED.[id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2025-08-25 12:15:58.814 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 12:15:58.816 +02:00 [INF] Executed action backend.Controllers.AgentController.SyncMyClients (backend) in 1035.7121ms
2025-08-25 12:15:58.818 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.SyncMyClients (backend)'
2025-08-25 12:15:58.819 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/clients/sync - 200 null application/json; charset=utf-8 1049.3996ms
2025-08-25 12:15:58.825 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 12:15:58.827 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:58.828 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 3.9219ms
2025-08-25 12:15:58.832 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 12:15:58.835 +02:00 [INF] CORS policy execution successful.
2025-08-25 12:15:58.836 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:58.838 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 12:15:58.855 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 12:15:58.866 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 12:15:58.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 12:15:58.872 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 30.7006ms
2025-08-25 12:15:58.873 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 12:15:58.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 42.0966ms
2025-08-25 13:33:40.111 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 13:33:40.131 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:33:40.136 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 27.2688ms
2025-08-25 13:33:40.141 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 13:33:40.146 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:33:40.167 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 13:33:40.181 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 13:33:40.405 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:33:40.437 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:33:40.441 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:33:40.448 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 262.989ms
2025-08-25 13:33:40.451 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 13:33:40.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 311.5093ms
2025-08-25 13:34:05.197 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 13:34:05.205 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:05.206 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 9.8506ms
2025-08-25 13:34:05.214 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 13:34:05.219 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:05.221 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 13:34:05.224 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 13:34:05.236 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 13:34:05.244 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 13:34:05.248 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 13:34:05.249 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 13:34:05.299 +02:00 [INF] Received HTTP response headers after 48.6337ms - 200
2025-08-25 13:34:05.301 +02:00 [INF] End processing HTTP request after 52.9954ms - 200
2025-08-25 13:34:05.338 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 13:34:05.389 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 13:34:05.396 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 13:34:05.403 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 13:34:05.405 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 179.4923ms
2025-08-25 13:34:05.406 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 13:34:05.407 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 192.8382ms
2025-08-25 13:34:09.408 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 13:34:09.413 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 13:34:09.421 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:09.427 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:09.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 22.3974ms
2025-08-25 13:34:09.431 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 17.7687ms
2025-08-25 13:34:09.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 13:34:09.487 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:09.506 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:34:09.621 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:09.878 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:09.960 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:34:10.134 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:10.250 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:34:10.369 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:10.500 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:10.515 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 13:34:10.552 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 916.3895ms
2025-08-25 13:34:10.558 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:34:10.558 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 13:34:10.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1102.0614ms
2025-08-25 13:34:10.568 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:10.580 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:34:10.583 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:10.601 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:10.626 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:34:10.796 +02:00 [INF] Executed DbCommand (165ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:10.812 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:34:10.834 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:10.853 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:10.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 13:34:10.859 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 274.2001ms
2025-08-25 13:34:10.862 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:34:10.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 305.9695ms
2025-08-25 13:34:16.777 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - null null
2025-08-25 13:34:16.786 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:16.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - 204 null null 13.2604ms
2025-08-25 13:34:16.801 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:34:16.809 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:16.814 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:16.825 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:16.847 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:16.951 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:34:16.970 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:16.985 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:17.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:34:17.045 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 215.5623ms
2025-08-25 13:34:17.050 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:34:17.054 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:17.058 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:17.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 258.1508ms
2025-08-25 13:34:17.063 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:17.072 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:17.080 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:17.089 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:34:17.097 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:17.121 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:17.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:34:17.178 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 102.4743ms
2025-08-25 13:34:17.184 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:17.188 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 137.9972ms
2025-08-25 13:34:27.687 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - null null
2025-08-25 13:34:27.694 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:27.697 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - 204 null null 10.1029ms
2025-08-25 13:34:27.703 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:34:27.706 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:27.709 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:27.712 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:27.723 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:27.735 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:34:27.746 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:27.758 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:27.762 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:34:27.764 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 49.6372ms
2025-08-25 13:34:27.767 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:27.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 65.8047ms
2025-08-25 13:34:51.474 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - null null
2025-08-25 13:34:51.478 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:51.480 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - 204 null null 6.7319ms
2025-08-25 13:34:51.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:34:51.490 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:34:51.491 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:51.494 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:34:51.505 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:34:51.525 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:34:51.536 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:34:51.548 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:34:51.552 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:34:51.553 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 57.9316ms
2025-08-25 13:34:51.555 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:34:51.557 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 71.6528ms
2025-08-25 13:39:01.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 13:39:01.083 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:01.086 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 12.6413ms
2025-08-25 13:39:01.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 13:39:01.102 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:01.116 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 13:39:01.201 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:01.380 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:39:01.434 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:39:01.469 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:01.494 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 13:39:01.621 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:01.633 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:39:01.637 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 425.1359ms
2025-08-25 13:39:01.642 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 13:39:01.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 550.0219ms
2025-08-25 13:39:21.558 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 13:39:21.569 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:21.573 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 15.8548ms
2025-08-25 13:39:21.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 13:39:21.586 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:21.588 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:39:21.595 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:21.633 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:39:21.669 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:21.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:39:21.690 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 91.6689ms
2025-08-25 13:39:21.692 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:39:21.695 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 116.6162ms
2025-08-25 13:39:27.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 13:39:27.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 13:39:27.284 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:27.288 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:27.289 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 7.5704ms
2025-08-25 13:39:27.289 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 7.7846ms
2025-08-25 13:39:27.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 13:39:27.299 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 13:39:27.302 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:27.304 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:27.306 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 13:39:27.306 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:39:27.310 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:27.315 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:27.324 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:39:27.390 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:27.393 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 13:39:27.395 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:39:27.399 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 85.8853ms
2025-08-25 13:39:27.400 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:39:27.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 102.099ms
2025-08-25 13:39:27.439 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 13:39:27.504 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 13:39:27.528 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 13:39:27.541 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:39:27.547 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 229.2584ms
2025-08-25 13:39:27.549 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 13:39:27.550 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 257.4464ms
2025-08-25 13:39:36.848 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 13:39:36.854 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:36.858 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 9.5523ms
2025-08-25 13:39:36.868 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 13:39:36.872 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:36.874 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:39:36.876 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:36.893 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:39:36.908 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:39:36.940 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:36.956 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:39:36.978 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:39:36.998 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:39:37.001 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 13:39:37.004 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 124.7111ms
2025-08-25 13:39:37.009 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:39:37.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 13:39:37.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 143.8019ms
2025-08-25 13:39:37.015 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:39:37.033 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:39:37.035 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:39:37.080 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:39:37.127 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:39:37.220 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:39:37.229 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:39:37.250 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:39:37.267 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:39:37.271 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 13:39:37.272 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 233.1317ms
2025-08-25 13:39:37.274 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 13:39:37.276 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 264.3188ms
2025-08-25 13:40:34.041 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - null null
2025-08-25 13:40:34.041 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - null null
2025-08-25 13:40:34.047 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:34.051 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:34.054 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - 204 null null 12.3395ms
2025-08-25 13:40:34.054 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/performance?period=monthly - 204 null null 12.7571ms
2025-08-25 13:40:34.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:40:34.066 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:34.075 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:40:34.079 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:40:34.179 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:40:34.211 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:40:34.223 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:40:34.240 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:40:34.250 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:40:34.254 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 171.5777ms
2025-08-25 13:40:34.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - application/json null
2025-08-25 13:40:34.257 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:40:34.260 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:34.262 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 201.5782ms
2025-08-25 13:40:34.263 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:40:34.269 +02:00 [INF] Route matched with {action = "GetManagerPerformance", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.Dictionary`2[System.String,System.Object]]] GetManagerPerformance(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:40:34.290 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 13:40:34.311 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 13:40:34.338 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 13:40:34.351 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:40:34.355 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:40:34.357 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerPerformance (backend) in 83.3609ms
2025-08-25 13:40:34.360 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerPerformance (backend)'
2025-08-25 13:40:34.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/performance?period=monthly - 200 null application/json; charset=utf-8 105.3097ms
2025-08-25 13:40:42.514 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 13:40:42.520 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:42.521 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 7.3287ms
2025-08-25 13:40:42.524 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 13:40:42.527 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:42.530 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:40:42.532 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:40:42.548 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:40:42.562 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:40:42.571 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:40:42.575 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 40.9581ms
2025-08-25 13:40:42.577 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:40:42.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 53.6079ms
2025-08-25 13:40:50.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - null null
2025-08-25 13:40:50.756 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:50.759 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 204 null null 8.3802ms
2025-08-25 13:40:50.764 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - application/json null
2025-08-25 13:40:50.772 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:50.780 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:40:50.812 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:40:50.858 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:40:50.887 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:40:50.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:40:50.900 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 84.6023ms
2025-08-25 13:40:50.902 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:40:50.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 200 null application/json; charset=utf-8 139.9791ms
2025-08-25 13:40:58.155 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - null null
2025-08-25 13:40:58.158 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:58.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 204 null null 4.0287ms
2025-08-25 13:40:58.164 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - application/json null
2025-08-25 13:40:58.166 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:40:58.169 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:40:58.172 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:40:58.195 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:40:58.203 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:40:58.207 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:40:58.208 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 32.3131ms
2025-08-25 13:40:58.209 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:40:58.212 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 200 null application/json; charset=utf-8 47.9434ms
2025-08-25 13:41:05.682 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - null null
2025-08-25 13:41:05.684 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:41:05.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 204 null null 2.1032ms
2025-08-25 13:41:05.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - application/json null
2025-08-25 13:41:05.692 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:41:05.694 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:41:05.698 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:41:05.726 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:41:05.742 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:41:05.745 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:41:05.749 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 44.2584ms
2025-08-25 13:41:05.752 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:41:05.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 200 null application/json; charset=utf-8 66.6391ms
2025-08-25 13:43:04.347 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 13:43:04.351 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:43:04.352 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 5.5792ms
2025-08-25 13:43:04.357 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 13:43:04.361 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:43:04.363 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:43:04.366 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:43:04.409 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:43:04.449 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:43:04.462 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:43:04.492 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 120.04ms
2025-08-25 13:43:04.516 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:43:04.527 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 169.5832ms
2025-08-25 13:46:58.436 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 13:46:58.445 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:46:58.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 18.4403ms
2025-08-25 13:46:58.460 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 13:46:58.467 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:46:58.494 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:46:58.497 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:46:58.634 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 13:46:58.672 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 13:46:58.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:46:58.685 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 182.318ms
2025-08-25 13:46:58.686 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 13:46:58.688 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 228.2471ms
2025-08-25 13:47:07.343 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - null null
2025-08-25 13:47:07.345 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:07.347 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 204 null null 3.6665ms
2025-08-25 13:47:07.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - application/json null
2025-08-25 13:47:07.352 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:07.353 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:07.354 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:07.403 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:07.420 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:07.422 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:07.424 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 67.7904ms
2025-08-25 13:47:07.428 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:07.431 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 200 null application/json; charset=utf-8 80.7675ms
2025-08-25 13:47:13.859 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - null null
2025-08-25 13:47:13.860 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:13.860 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 204 null null 1.6181ms
2025-08-25 13:47:13.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - application/json null
2025-08-25 13:47:13.865 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:13.866 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:13.868 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:13.916 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:13.929 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:13.932 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:13.935 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 60.6714ms
2025-08-25 13:47:13.937 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:13.939 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 200 null application/json; charset=utf-8 76.0633ms
2025-08-25 13:47:21.950 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - null null
2025-08-25 13:47:21.952 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:21.953 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 204 null null 2.8517ms
2025-08-25 13:47:21.956 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - application/json null
2025-08-25 13:47:21.958 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:21.959 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:21.960 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:21.971 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:21.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:21.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:21.991 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 27.5438ms
2025-08-25 13:47:21.994 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:21.995 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 200 null application/json; charset=utf-8 38.8493ms
2025-08-25 13:47:29.001 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - null null
2025-08-25 13:47:29.004 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:29.005 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 204 null null 4.0325ms
2025-08-25 13:47:29.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - application/json null
2025-08-25 13:47:29.013 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:29.016 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:29.018 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:29.037 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:29.053 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:29.059 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:29.065 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 44.2995ms
2025-08-25 13:47:29.069 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:29.070 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 200 null application/json; charset=utf-8 60.1954ms
2025-08-25 13:47:33.416 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients/sync - null null
2025-08-25 13:47:33.422 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:33.423 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients/sync - 204 null null 6.7663ms
2025-08-25 13:47:33.428 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/manager/agents/042/clients/sync - application/json 0
2025-08-25 13:47:33.434 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:33.439 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.SyncAgentClients (backend)'
2025-08-25 13:47:33.469 +02:00 [INF] Route matched with {action = "SyncAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncAgentClients(Int64, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:33.487 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:33.498 +02:00 [INF] Start processing HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 13:47:33.500 +02:00 [INF] Sending HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 13:47:34.468 +02:00 [INF] Received HTTP response headers after 967.3005ms - 200
2025-08-25 13:47:34.470 +02:00 [INF] End processing HTTP request after 973.5404ms - 200
2025-08-25 13:47:34.530 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__numbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[proposal_number] IN (
    SELECT [n].[value]
    FROM OPENJSON(@__numbers_0) WITH ([value] nvarchar(450) '$') AS [n]
)
2025-08-25 13:47:34.620 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p5='?' (DbType = Int64), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p9='?' (DbType = Int64), @p8='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p10='?' (DbType = DateTime2), @p12='?' (DbType = Int64), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p22='?' (Size = 4000), @p23='?' (DbType = DateTime2), @p24='?' (Size = 450), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int64), @p29='?' (DbType = Boolean), @p30='?' (DbType = DateTime2), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (Size = 4000), @p36='?' (Size = 4000), @p37='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (Size = 450), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p43='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p44='?' (DbType = Int64), @p45='?' (DbType = Boolean), @p46='?' (DbType = DateTime2), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (Size = 4000), @p52='?' (Size = 4000), @p53='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p54='?' (Size = 4000), @p55='?' (DbType = DateTime2), @p56='?' (Size = 450), @p57='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p59='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p0
OUTPUT 1
WHERE [id] = @p1;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p2
OUTPUT 1
WHERE [id] = @p3;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p4
OUTPUT 1
WHERE [id] = @p5;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p6
OUTPUT 1
WHERE [id] = @p7;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p8
OUTPUT 1
WHERE [id] = @p9;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p10
OUTPUT 1
WHERE [id] = @p11;
MERGE [collected_proposals] USING (
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 0),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, 1),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 2)) AS i ([agent_id], [converted], [converted_date], [customer_code], [customer_name], [due_date], [fetched_at_utc], [institutions], [payment_mode], [premium], [premium_frequency], [proposal_date], [proposal_number], [risk_premium], [savings_premium], [total_premium], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([agent_id], [converted], [converted_date], [customer_code], [customer_name], [due_date], [fetched_at_utc], [institutions], [payment_mode], [premium], [premium_frequency], [proposal_date], [proposal_number], [risk_premium], [savings_premium], [total_premium])
VALUES (i.[agent_id], i.[converted], i.[converted_date], i.[customer_code], i.[customer_name], i.[due_date], i.[fetched_at_utc], i.[institutions], i.[payment_mode], i.[premium], i.[premium_frequency], i.[proposal_date], i.[proposal_number], i.[risk_premium], i.[savings_premium], i.[total_premium])
OUTPUT INSERTED.[id], i._Position;
2025-08-25 13:47:34.646 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 13:47:34.650 +02:00 [INF] Executed action backend.Controllers.ManagerController.SyncAgentClients (backend) in 1178.991ms
2025-08-25 13:47:34.652 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.SyncAgentClients (backend)'
2025-08-25 13:47:34.655 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/manager/agents/042/clients/sync - 200 null application/json; charset=utf-8 1226.8414ms
2025-08-25 13:47:35.027 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - null null
2025-08-25 13:47:35.031 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:35.031 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 204 null null 4.4347ms
2025-08-25 13:47:35.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - application/json null
2025-08-25 13:47:35.039 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:35.040 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:35.045 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:35.063 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:35.080 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:35.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:35.102 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 48.2533ms
2025-08-25 13:47:35.107 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:35.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-07-31&to=2025-08-31 - 200 null application/json; charset=utf-8 74.2511ms
2025-08-25 13:47:48.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - null null
2025-08-25 13:47:48.269 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:48.269 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 204 null null 2.4058ms
2025-08-25 13:47:48.273 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - application/json null
2025-08-25 13:47:48.279 +02:00 [INF] CORS policy execution successful.
2025-08-25 13:47:48.283 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:48.284 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 13:47:48.339 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 13:47:48.349 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 13:47:48.352 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 13:47:48.353 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 66.4204ms
2025-08-25 13:47:48.355 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 13:47:48.356 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-25 - 200 null application/json; charset=utf-8 82.7418ms
2025-08-25 13:56:29.224 +02:00 [INF] Application is shutting down...
2025-08-25 13:58:14.545 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 13:58:17.384 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 13:58:19.144 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 13:58:20.267 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 13:58:32.507 +02:00 [INF] Executed DbCommand (2,194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 13:58:33.332 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 13:58:35.915 +02:00 [INF] Executed DbCommand (2,362ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 13:58:39.654 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 13:58:39.891 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 13:58:40.072 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 13:58:40.338 +02:00 [INF] Executed DbCommand (225ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 13:58:40.543 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 13:58:40.695 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 13:58:41.839 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 13:58:43.719 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 13:58:43.740 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 13:58:43.753 +02:00 [INF] Hosting environment: Development
2025-08-25 13:58:43.774 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 14:02:31.591 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 14:02:31.686 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 14:02:31.694 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:31.705 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 123.0313ms
2025-08-25 14:02:31.720 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 14:02:31.725 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:31.818 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:02:31.876 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 14:02:31.992 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 14:02:31.998 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0723374650
2025-08-25 14:02:32.530 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 14:02:32.791 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:02:32.840 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 841.9715ms.
2025-08-25 14:02:32.848 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 14:02:32.865 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 982.7173ms
2025-08-25 14:02:32.870 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:02:32.883 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1163.3116ms
2025-08-25 14:02:36.862 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:02:36.862 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:02:36.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 14:02:36.872 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:36.874 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 14:02:36.883 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:02:36.918 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:02:36.944 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:36.978 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:36.980 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 118.1287ms
2025-08-25 14:02:37.025 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 14:02:36.990 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:36.994 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.000 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 184.1496ms
2025-08-25 14:02:37.016 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 149.6953ms
2025-08-25 14:02:37.031 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 140.1708ms
2025-08-25 14:02:37.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 175.4678ms
2025-08-25 14:02:37.008 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 145.6913ms
2025-08-25 14:02:37.074 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 14:02:37.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:02:37.099 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 74.3591ms
2025-08-25 14:02:37.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:02:37.116 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 14:02:37.131 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 14:02:37.170 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.146 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.161 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.164 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.141 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:37.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 41.3817ms
2025-08-25 14:02:37.618 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:02:37.618 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:02:37.618 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:02:37.626 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:02:37.649 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:37.651 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:37.671 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:37.673 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:37.696 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:02:37.697 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:02:37.702 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:02:37.795 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:02:37.970 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:02:38.038 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:02:38.101 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:02:38.148 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:02:38.191 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.236 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 528.9873ms.
2025-08-25 14:02:38.262 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.268 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 469.5048ms.
2025-08-25 14:02:38.273 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.278 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.319 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:02:38.319 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.343 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 638.4321ms
2025-08-25 14:02:38.344 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.345 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 663.7205ms
2025-08-25 14:02:38.347 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 14:02:38.349 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:02:38.351 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 14:02:38.356 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:02:38.358 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:38.361 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 1286.4694ms
2025-08-25 14:02:38.367 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:38.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 1252.6838ms
2025-08-25 14:02:38.384 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.389 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:02:38.389 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:02:38.396 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:38.398 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:38.403 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:02:38.407 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:02:38.410 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.412 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 699.6751ms.
2025-08-25 14:02:38.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.434 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:02:38.442 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 755.8346ms
2025-08-25 14:02:38.442 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:02:38.444 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.9822ms.
2025-08-25 14:02:38.448 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:02:38.450 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:02:38.460 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.817ms.
2025-08-25 14:02:38.460 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.463 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1354.3757ms
2025-08-25 14:02:38.467 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:38.473 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.476 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 72.0305ms
2025-08-25 14:02:38.487 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:02:38.489 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 87.7698ms
2025-08-25 14:02:38.493 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:02:38.495 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:38.497 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:02:38.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 152.4481ms
2025-08-25 14:02:38.503 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:02:38.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 154.0737ms
2025-08-25 14:02:38.542 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:02:38.574 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:02:38.578 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:02:38.582 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.9588ms.
2025-08-25 14:02:38.582 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 872.0056ms.
2025-08-25 14:02:38.585 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.587 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.589 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 87.2563ms
2025-08-25 14:02:38.593 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:02:38.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 147.335ms
2025-08-25 14:02:38.616 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 944.3302ms
2025-08-25 14:02:38.619 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:02:38.619 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:02:38.621 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 1522.9263ms
2025-08-25 14:02:38.624 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:02:38.630 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:02:38.635 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:02:38.639 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:02:38.651 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:02:38.661 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.674 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.680 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.687 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.696 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:02:38.710 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:02:38.755 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:02:38.762 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 121.1573ms.
2025-08-25 14:02:38.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:02:38.791 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 152.9667ms
2025-08-25 14:02:38.794 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:02:38.796 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 176.9606ms
2025-08-25 14:03:01.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - null null
2025-08-25 14:03:01.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - null null
2025-08-25 14:03:01.308 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:01.310 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:01.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - 204 null null 7.6168ms
2025-08-25 14:03:01.310 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - 204 null null 5.3439ms
2025-08-25 14:03:01.334 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - application/json null
2025-08-25 14:03:01.338 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:01.340 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:01.345 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:01.351 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:03:01.366 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:03:01.378 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0213ms.
2025-08-25 14:03:01.381 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:01.387 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 37.5909ms
2025-08-25 14:03:01.389 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - application/json null
2025-08-25 14:03:01.389 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:01.391 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:01.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - 200 null application/json; charset=utf-8 58.4263ms
2025-08-25 14:03:01.394 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:01.399 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:01.405 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:03:01.409 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:03:01.412 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.5731ms.
2025-08-25 14:03:01.414 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:01.416 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 12.7738ms
2025-08-25 14:03:01.418 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:01.420 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - 200 null application/json; charset=utf-8 31.0541ms
2025-08-25 14:03:13.401 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:03:13.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:03:13.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 14:03:13.405 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 14:03:13.406 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:03:13.407 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:03:13.410 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.414 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.420 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.423 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.426 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.430 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.432 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 30.6062ms
2025-08-25 14:03:13.438 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 34.4079ms
2025-08-25 14:03:13.440 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 37.1174ms
2025-08-25 14:03:13.442 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 37.6783ms
2025-08-25 14:03:13.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 36.8784ms
2025-08-25 14:03:13.445 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 38.0021ms
2025-08-25 14:03:13.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 14:03:13.463 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 14:03:13.477 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 14:03:13.482 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:03:13.485 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 14:03:13.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:03:13.495 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.498 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.499 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.502 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.506 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.511 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 60.4691ms
2025-08-25 14:03:13.513 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 49.7122ms
2025-08-25 14:03:13.514 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:03:13.515 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:13.517 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:13.518 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:13.530 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.531 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.532 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.533 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.535 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:03:13.536 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:03:13.540 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:03:13.542 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:03:13.564 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:03:13.564 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:03:13.564 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:03:13.569 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.0329ms.
2025-08-25 14:03:13.574 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:03:13.575 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.2064ms.
2025-08-25 14:03:13.577 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.582 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.585 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 50.8669ms
2025-08-25 14:03:13.588 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.589 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 50.7772ms
2025-08-25 14:03:13.592 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:03:13.592 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 14:03:13.592 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:03:13.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 14:03:13.598 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:13.599 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 122.545ms
2025-08-25 14:03:13.601 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.601 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.603 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.7986ms.
2025-08-25 14:03:13.614 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.608 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.609 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 123.9496ms
2025-08-25 14:03:13.614 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:03:13.615 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.618 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:13.619 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.624 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.626 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 90.4712ms
2025-08-25 14:03:13.627 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:03:13.630 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.630 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:03:13.631 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:13.633 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:03:13.634 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 157.5746ms
2025-08-25 14:03:13.643 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.645 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:13.646 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:03:13.646 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:03:13.650 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.652 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.5733ms.
2025-08-25 14:03:13.658 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.6639ms.
2025-08-25 14:03:13.659 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:03:13.659 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:03:13.660 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.661 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.664 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 116.6037ms.
2025-08-25 14:03:13.665 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 35.029ms
2025-08-25 14:03:13.669 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:03:13.669 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 36.859ms
2025-08-25 14:03:13.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.677 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:03:13.681 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:13.683 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 140.9345ms
2025-08-25 14:03:13.684 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 91.7628ms
2025-08-25 14:03:13.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 91.0143ms
2025-08-25 14:03:13.686 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:03:13.690 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:13.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:03:13.700 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.7438ms.
2025-08-25 14:03:13.700 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 209.8515ms
2025-08-25 14:03:13.704 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:13.707 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.713 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:13.715 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 56.9014ms
2025-08-25 14:03:13.716 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:13.717 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:13.720 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:03:13.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 92.5026ms
2025-08-25 14:03:13.727 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:03:13.736 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.743 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.752 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.760 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.766 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:13.772 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:13.777 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:03:13.781 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.5131ms.
2025-08-25 14:03:13.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:13.806 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 86.3594ms
2025-08-25 14:03:13.809 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:13.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 118.4793ms
2025-08-25 14:03:38.503 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:03:38.506 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:38.508 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 4.5993ms
2025-08-25 14:03:38.523 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:03:38.528 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:38.531 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:38.532 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:38.535 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:03:38.555 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:03:38.814 +02:00 [INF] Executed DbCommand (252ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:03:38.819 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 282.2402ms.
2025-08-25 14:03:38.822 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:38.823 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 288.3161ms
2025-08-25 14:03:38.824 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:03:38.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 302.0083ms
2025-08-25 14:03:46.261 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:03:46.266 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:46.268 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 7.4168ms
2025-08-25 14:03:46.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:03:46.279 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:46.282 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:46.283 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:46.286 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:03:46.295 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:03:46.306 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:46.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:46.319 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:46.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:46.347 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:03:46.354 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:03:46.381 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:03:46.392 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.571ms.
2025-08-25 14:03:46.397 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:46.403 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 117.1744ms
2025-08-25 14:03:46.408 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:03:46.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 136.7051ms
2025-08-25 14:03:53.441 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - null null
2025-08-25 14:03:53.446 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:53.448 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - 204 null null 7.1669ms
2025-08-25 14:03:53.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - application/json null
2025-08-25 14:03:53.459 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:03:53.461 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:53.463 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:03:53.467 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:03:53.485 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:03:53.491 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.7126ms.
2025-08-25 14:03:53.494 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:03:53.498 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 31.5363ms
2025-08-25 14:03:53.501 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:03:53.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - 200 null application/json; charset=utf-8 48.0107ms
2025-08-25 14:04:20.662 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - null null
2025-08-25 14:04:20.670 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:20.673 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - 204 null null 10.7205ms
2025-08-25 14:04:20.683 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - application/json null
2025-08-25 14:04:20.690 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:20.691 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:04:20.693 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:04:20.696 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:04:20.717 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:04:20.722 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.8576ms.
2025-08-25 14:04:20.727 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:04:20.732 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 36.0154ms
2025-08-25 14:04:20.737 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:04:20.740 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - 200 null application/json; charset=utf-8 56.8674ms
2025-08-25 14:04:53.650 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 14:04:53.651 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 14:04:53.652 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 14:04:53.652 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 14:04:53.660 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.667 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.676 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.681 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.683 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 33.6932ms
2025-08-25 14:04:53.685 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 33.9098ms
2025-08-25 14:04:53.687 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 35.7346ms
2025-08-25 14:04:53.690 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 37.984ms
2025-08-25 14:04:53.696 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 14:04:53.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 14:04:53.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 14:04:53.713 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 14:04:53.718 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.723 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.727 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.732 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:04:53.734 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:04:53.736 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:04:53.737 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:04:53.740 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:04:53.741 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:04:53.743 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 14:04:53.749 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:04:53.752 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:04:53.756 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 14:04:53.761 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 14:04:53.765 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:04:53.769 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 14:04:53.800 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:04:53.804 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 14:04:53.809 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 14:04:53.813 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:04:53.817 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:04:53.818 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.375ms.
2025-08-25 14:04:53.824 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.4439ms.
2025-08-25 14:04:53.831 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:04:53.833 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 14:04:53.835 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:04:53.837 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:04:53.840 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 72.1055ms
2025-08-25 14:04:53.847 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.47ms.
2025-08-25 14:04:53.851 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 87.0824ms
2025-08-25 14:04:53.861 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 14:04:53.865 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:04:53.867 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:04:53.867 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:04:53.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 158.5862ms
2025-08-25 14:04:53.876 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 115.2922ms
2025-08-25 14:04:53.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 174.8481ms
2025-08-25 14:04:53.892 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:04:53.895 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 14:04:53.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 210.9756ms
2025-08-25 14:04:53.920 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:04:53.934 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:04:53.957 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:04:53.963 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.7721ms.
2025-08-25 14:04:53.968 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:04:53.972 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 216.3117ms
2025-08-25 14:04:53.975 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 14:04:53.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 282.3422ms
2025-08-25 14:05:03.138 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - null null
2025-08-25 14:05:03.140 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - null null
2025-08-25 14:05:03.143 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:05:03.149 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:05:03.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - 204 null null 12.882ms
2025-08-25 14:05:03.153 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?page=1&limit=10 - 204 null null 12.5777ms
2025-08-25 14:05:03.167 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - application/json null
2025-08-25 14:05:03.171 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:05:03.173 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:05:03.176 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:05:03.181 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:05:03.197 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:05:03.202 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.8785ms.
2025-08-25 14:05:03.206 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:05:03.210 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 30.2208ms
2025-08-25 14:05:03.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - application/json null
2025-08-25 14:05:03.215 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:05:03.221 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:05:03.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - 200 null application/json; charset=utf-8 57.0425ms
2025-08-25 14:05:03.227 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:05:03.235 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 14:05:03.243 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 14:05:03.251 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:05:03.259 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.5707ms.
2025-08-25 14:05:03.268 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:05:03.279 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 37.6829ms
2025-08-25 14:05:03.283 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 14:05:03.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?page=1&limit=10 - 200 null application/json; charset=utf-8 74.3948ms
2025-08-25 14:06:47.199 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 14:06:47.212 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:47.215 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 15.4651ms
2025-08-25 14:06:47.218 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 14:06:47.222 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:47.229 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:06:47.233 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 14:06:47.273 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 14:06:47.276 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 14:06:47.324 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 14:06:47.356 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:06:47.363 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:06:47.595 +02:00 [INF] Received HTTP response headers after 226.2349ms - 200
2025-08-25 14:06:47.598 +02:00 [INF] End processing HTTP request after 243.8535ms - 200
2025-08-25 14:06:47.663 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 14:06:47.723 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:06:47.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:06:47.747 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 470.9715ms.
2025-08-25 14:06:47.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 14:06:47.777 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 541.6435ms
2025-08-25 14:06:47.779 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:06:47.785 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 566.6572ms
2025-08-25 14:06:49.887 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 14:06:49.890 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 14:06:49.893 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:49.897 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 9.4673ms
2025-08-25 14:06:49.897 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:49.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 14:06:49.901 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 11.5956ms
2025-08-25 14:06:49.905 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:49.919 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:06:49.954 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:06:49.971 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 14:06:50.190 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:06:50.256 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:06:50.332 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:06:50.386 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:06:50.467 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:06:50.519 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:06:50.604 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 630.8447ms.
2025-08-25 14:06:50.606 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 14:06:50.639 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 678.4247ms
2025-08-25 14:06:50.643 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:06:50.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 14:06:50.649 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 748.6504ms
2025-08-25 14:06:50.652 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:06:50.660 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:06:50.664 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:06:50.669 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 14:06:50.673 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:06:50.683 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:06:50.689 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:06:50.697 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:06:50.700 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:06:50.704 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:06:50.706 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.9727ms.
2025-08-25 14:06:50.709 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 14:06:50.710 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 43.1168ms
2025-08-25 14:06:50.711 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:06:50.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 67.1434ms
2025-08-25 14:07:01.681 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:07:01.685 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:01.686 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 5.4079ms
2025-08-25 14:07:01.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:07:01.696 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:01.702 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:01.709 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:07:01.719 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 14:07:01.732 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:07:01.752 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:07:01.789 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.4785ms.
2025-08-25 14:07:01.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:07:01.805 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 92.7015ms
2025-08-25 14:07:01.807 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:01.808 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 115.8902ms
2025-08-25 14:07:07.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:07:07.696 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:07.699 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 8.9766ms
2025-08-25 14:07:07.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:07:07.717 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:07.719 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:07.723 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:07:07.728 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 14:07:07.741 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:07:07.771 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:07:07.779 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.7843ms.
2025-08-25 14:07:07.786 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:07:07.790 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 63.4068ms
2025-08-25 14:07:07.797 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:07.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 91.2514ms
2025-08-25 14:07:09.997 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - null null
2025-08-25 14:07:10.001 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:10.002 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 204 null null 5.5563ms
2025-08-25 14:07:10.007 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - application/json null
2025-08-25 14:07:10.014 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:10.016 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:07:10.027 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:07:10.035 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgentClients (backend) - Validation state: "Valid"
2025-08-25 14:07:10.087 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:07:10.118 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:07:10.123 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgentClients (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 86.4234ms.
2025-08-25 14:07:10.126 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:07:10.231 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 200.8936ms
2025-08-25 14:07:10.233 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:07:10.235 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 200 null application/json; charset=utf-8 227.1554ms
2025-08-25 14:07:58.042 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:07:58.086 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:58.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 52.3171ms
2025-08-25 14:07:58.149 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:07:58.160 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:07:58.212 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:58.226 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:07:58.259 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 14:07:58.666 +02:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:07:58.956 +02:00 [INF] Executed DbCommand (243ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:07:59.026 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 751.8606ms.
2025-08-25 14:07:59.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:07:59.070 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 837.4559ms
2025-08-25 14:07:59.196 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:07:59.239 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 1090.48ms
2025-08-25 14:08:45.249 +02:00 [INF] Application is shutting down...
2025-08-25 14:15:43.575 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:15:43.643 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:15:43.658 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:15:43.665 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:15:44.411 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 14:15:44.424 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 14:15:44.534 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 14:15:44.687 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 14:15:44.698 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 14:15:44.705 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 14:15:44.818 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 14:15:44.836 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 14:15:44.892 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 14:15:45.046 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 14:15:45.228 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 14:15:45.231 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:15:45.233 +02:00 [INF] Hosting environment: Development
2025-08-25 14:15:45.235 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 14:24:19.152 +02:00 [INF] Application is shutting down...
2025-08-25 14:48:49.273 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:48:49.306 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:48:49.308 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:48:49.309 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 14:48:49.769 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 14:48:49.780 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 14:48:49.856 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 14:48:49.919 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 14:48:49.930 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 14:48:49.934 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 14:48:49.975 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 14:48:49.983 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 14:48:49.994 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 14:48:50.056 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 14:48:50.163 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 14:48:50.167 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:48:50.168 +02:00 [INF] Hosting environment: Development
2025-08-25 14:48:50.170 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 14:50:23.946 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 14:50:24.023 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 14:50:24.050 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:24.074 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 130.6746ms
2025-08-25 14:50:24.097 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 14:50:24.108 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:24.241 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:50:24.284 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 14:50:24.397 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 14:50:24.407 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 14:50:24.430 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:50:24.443 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:50:24.606 +02:00 [INF] Received HTTP response headers after 157.9913ms - 200
2025-08-25 14:50:24.608 +02:00 [INF] End processing HTTP request after 178.1235ms - 200
2025-08-25 14:50:25.001 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 14:50:25.260 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:50:25.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:50:25.314 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 14:50:25.349 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1057.0245ms
2025-08-25 14:50:25.359 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:50:25.382 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1285.4827ms
2025-08-25 14:50:28.302 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 14:50:28.302 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 14:50:28.308 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:28.317 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:28.318 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.7744ms
2025-08-25 14:50:28.320 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 18.0985ms
2025-08-25 14:50:28.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 14:50:28.355 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:28.532 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:50:28.571 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:28.861 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:50:29.050 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:50:29.399 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:50:29.474 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:50:29.690 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:50:29.808 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:50:29.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 14:50:29.927 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1339.9019ms
2025-08-25 14:50:29.966 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 14:50:29.988 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:50:29.993 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:30.001 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1664.2102ms
2025-08-25 14:50:30.072 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:50:30.090 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:30.429 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:50:30.447 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:50:30.584 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:50:30.732 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:50:31.006 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:50:31.129 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:50:31.219 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 14:50:31.352 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1091.2332ms
2025-08-25 14:50:31.366 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 14:50:31.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1408.2571ms
2025-08-25 14:50:38.932 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:50:38.933 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:50:38.936 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:38.939 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:38.941 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 8.5035ms
2025-08-25 14:50:38.943 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 10.0197ms
2025-08-25 14:50:39.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:50:39.115 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:39.174 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:39.225 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:39.502 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:50:39.558 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:50:39.655 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:50:39.676 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 359.7701ms
2025-08-25 14:50:39.681 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:39.688 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 633.5046ms
2025-08-25 14:50:39.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:50:39.718 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:39.736 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:39.743 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:39.885 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:50:39.904 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:50:39.912 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:50:39.922 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 164.9382ms
2025-08-25 14:50:39.927 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:39.930 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 239.2635ms
2025-08-25 14:50:51.365 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:50:51.369 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:51.370 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 5.532ms
2025-08-25 14:50:51.374 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:50:51.382 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:51.385 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:51.386 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:51.395 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:50:51.404 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:50:51.409 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:50:51.414 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 25.4983ms
2025-08-25 14:50:51.416 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:50:51.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 49.0018ms
2025-08-25 14:50:53.471 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients/sync - null null
2025-08-25 14:50:53.475 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:53.476 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients/sync - 204 null null 4.9752ms
2025-08-25 14:50:53.479 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/manager/agents/042/clients/sync - application/json 0
2025-08-25 14:50:53.488 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:53.496 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.SyncAgentClients (backend)'
2025-08-25 14:50:53.511 +02:00 [INF] Route matched with {action = "SyncAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SyncAgentClients(Int64, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:53.613 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:50:53.619 +02:00 [INF] Start processing HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 14:50:53.621 +02:00 [INF] Sending HTTP request GET https://apps.prime.rw/customerbackend/api/proposalRegistersByAgent?*
2025-08-25 14:50:55.687 +02:00 [INF] Received HTTP response headers after 2063.5884ms - 200
2025-08-25 14:50:55.689 +02:00 [INF] End processing HTTP request after 2069.7548ms - 200
2025-08-25 14:50:55.862 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__numbers_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[proposal_number] IN (
    SELECT [n].[value]
    FROM OPENJSON(@__numbers_0) WITH ([value] nvarchar(450) '$') AS [n]
)
2025-08-25 14:50:55.975 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Int64), @p2='?' (DbType = DateTime2), @p5='?' (DbType = Int64), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p9='?' (DbType = Int64), @p8='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p10='?' (DbType = DateTime2), @p13='?' (DbType = Int64), @p12='?' (DbType = DateTime2), @p15='?' (DbType = Int64), @p14='?' (DbType = DateTime2), @p17='?' (DbType = Int64), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p0
OUTPUT 1
WHERE [id] = @p1;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p2
OUTPUT 1
WHERE [id] = @p3;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p4
OUTPUT 1
WHERE [id] = @p5;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p6
OUTPUT 1
WHERE [id] = @p7;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p8
OUTPUT 1
WHERE [id] = @p9;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p10
OUTPUT 1
WHERE [id] = @p11;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p12
OUTPUT 1
WHERE [id] = @p13;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p14
OUTPUT 1
WHERE [id] = @p15;
UPDATE [collected_proposals] SET [fetched_at_utc] = @p16
OUTPUT 1
WHERE [id] = @p17;
2025-08-25 14:50:55.986 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:50:56.000 +02:00 [INF] Executed action backend.Controllers.ManagerController.SyncAgentClients (backend) in 2480.659ms
2025-08-25 14:50:56.009 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.SyncAgentClients (backend)'
2025-08-25 14:50:56.012 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/manager/agents/042/clients/sync - 200 null application/json; charset=utf-8 2532.8339ms
2025-08-25 14:50:59.684 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - null null
2025-08-25 14:50:59.687 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:59.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 204 null null 3.7839ms
2025-08-25 14:50:59.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - application/json null
2025-08-25 14:50:59.695 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:50:59.698 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:50:59.716 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:50:59.877 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:50:59.898 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:50:59.910 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:50:59.953 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 232.4577ms
2025-08-25 14:50:59.959 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:50:59.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-08-24&to=2025-08-31 - 200 null application/json; charset=utf-8 271.3304ms
2025-08-25 14:51:11.405 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-05-24&to=2025-08-25 - null null
2025-08-25 14:51:11.409 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:11.412 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents/042/clients?from=2025-05-24&to=2025-08-25 - 204 null null 6.7358ms
2025-08-25 14:51:11.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-05-24&to=2025-08-25 - application/json null
2025-08-25 14:51:11.434 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:11.438 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:51:11.448 +02:00 [INF] Route matched with {action = "GetAgentClients", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetAgentClients(Int64, System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:51:11.469 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:51:11.496 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:51:11.513 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:51:11.521 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgentClients (backend) in 66.3464ms
2025-08-25 14:51:11.527 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgentClients (backend)'
2025-08-25 14:51:11.536 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents/042/clients?from=2025-05-24&to=2025-08-25 - 200 null application/json; charset=utf-8 115.7704ms
2025-08-25 14:51:21.095 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 14:51:21.101 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:21.104 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 8.0548ms
2025-08-25 14:51:21.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 14:51:21.123 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:21.130 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 14:51:21.147 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:51:21.245 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:51:21.284 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:51:21.442 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:51:21.738 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:51:21.838 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:51:21.847 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:51:21.905 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 747.5144ms
2025-08-25 14:51:21.906 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 14:51:21.908 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 795.3619ms
2025-08-25 14:51:53.303 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard/timeframe - null null
2025-08-25 14:51:53.304 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:53.306 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard/timeframe - 204 null null 3.179ms
2025-08-25 14:51:53.310 +02:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5238/api/manager/dashboard/timeframe - application/json 39
2025-08-25 14:51:53.312 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:53.315 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.UpdateAttendanceTimeframe (backend)'
2025-08-25 14:51:53.329 +02:00 [INF] Route matched with {action = "UpdateAttendanceTimeframe", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO+Timeframe]] UpdateAttendanceTimeframe(Timeframe) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:51:53.391 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:51:53.458 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:51:53.482 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 14:51:53.558 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p8='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int16), @p4='?' (DbType = Time), @p5='?' (DbType = Int64), @p6='?' (DbType = Time), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [attendance_timeframes] SET [applies_to_all_agents] = @p0, [break_duration] = @p1, [created_at] = @p2, [day_of_week] = @p3, [end_time] = @p4, [manager_id] = @p5, [start_time] = @p6, [updated_at] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-08-25 14:51:53.669 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-25 14:51:53.678 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO+Timeframe'.
2025-08-25 14:51:53.679 +02:00 [INF] Executed action backend.Controllers.ManagerController.UpdateAttendanceTimeframe (backend) in 342.3226ms
2025-08-25 14:51:53.693 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.UpdateAttendanceTimeframe (backend)'
2025-08-25 14:51:53.698 +02:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5238/api/manager/dashboard/timeframe - 200 null application/json; charset=utf-8 387.8767ms
2025-08-25 14:51:53.705 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 14:51:53.708 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:53.709 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 3.8248ms
2025-08-25 14:51:53.718 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 14:51:53.723 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:51:53.725 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 14:51:53.728 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:51:53.740 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 14:51:53.752 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:51:53.772 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:51:53.789 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:51:53.810 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:51:53.827 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:51:53.836 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 102.2655ms
2025-08-25 14:51:53.848 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 14:51:53.853 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 135.006ms
2025-08-25 14:52:09.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 14:52:09.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 14:52:09.330 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:52:09.335 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:52:09.337 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 12.3ms
2025-08-25 14:52:09.338 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 13.6844ms
2025-08-25 14:52:09.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 14:52:09.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 14:52:09.362 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:52:09.371 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:52:09.375 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:52:09.375 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 14:52:09.377 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:52:09.398 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:52:09.414 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 14:52:09.469 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:52:09.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:52:09.498 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 107.7764ms
2025-08-25 14:52:09.508 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 14:52:09.518 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 159.4966ms
2025-08-25 14:52:09.537 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 14:52:09.673 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:52:09.749 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:52:09.798 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 14:52:09.818 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:52:09.824 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 417.1526ms
2025-08-25 14:52:09.827 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 14:52:09.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 486.2787ms
2025-08-25 14:53:04.340 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 14:53:04.342 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:04.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 2.5031ms
2025-08-25 14:53:04.345 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/manager/notifications - application/json 199
2025-08-25 14:53:04.346 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:04.348 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.SendManagerNotification (backend)'
2025-08-25 14:53:04.365 +02:00 [INF] Route matched with {action = "SendManagerNotification", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendManagerNotification(backend.DTOs.Notification.NotificationRequestDTO) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:53:04.414 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 14:53:04.444 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 14:53:04.498 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:53:04.528 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:53:04.533 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 14:53:04.547 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 14:53:04.639 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Category], [Message], [Priority], [read_status], [recipient_id], [sender_id], [sent_at], [Status], [Title], [via_email])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-08-25 14:53:04.651 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-25 14:53:04.656 +02:00 [INF] WebSocket notification sent to null: system updates: the system will experience low in performance pls be standby the problem will be solved soon
2025-08-25 14:53:04.658 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:04.661 +02:00 [INF] Executed action backend.Controllers.ManagerController.SendManagerNotification (backend) in 283.2787ms
2025-08-25 14:53:04.663 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.SendManagerNotification (backend)'
2025-08-25 14:53:04.664 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/manager/notifications - 201 null application/json; charset=utf-8 319.2208ms
2025-08-25 14:53:04.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 14:53:04.675 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:04.682 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 14:53:04.685 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 14:53:04.717 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 14:53:04.755 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:53:04.874 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:53:04.888 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 14:53:04.895 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:04.902 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 213.9777ms
2025-08-25 14:53:04.907 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 14:53:04.911 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 242.0578ms
2025-08-25 14:53:11.700 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - null null
2025-08-25 14:53:11.703 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:11.704 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - 204 null null 4.0068ms
2025-08-25 14:53:11.706 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - application/json 0
2025-08-25 14:53:11.710 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:11.714 +02:00 [INF] Executing endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-25 14:53:11.730 +02:00 [INF] Route matched with {action = "MarkAllRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] MarkAllRead() on controller backend.Controllers.NotificationController (backend).
2025-08-25 14:53:11.764 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 14:53:11.798 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:53:11.814 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:11.832 +02:00 [INF] Executed action backend.Controllers.NotificationController.MarkAllRead (backend) in 98.9367ms
2025-08-25 14:53:11.835 +02:00 [INF] Executed endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-25 14:53:11.838 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - 200 null application/json; charset=utf-8 132.1976ms
2025-08-25 14:53:39.016 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 14:53:39.019 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:39.020 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 3.8009ms
2025-08-25 14:53:39.028 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 14:53:39.033 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:39.036 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:53:39.041 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 14:53:39.055 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 14:53:39.075 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 14:53:39.087 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:53:39.095 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 14:53:39.181 +02:00 [INF] Received HTTP response headers after 77.4125ms - 200
2025-08-25 14:53:39.185 +02:00 [INF] End processing HTTP request after 98.8251ms - 200
2025-08-25 14:53:39.279 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 14:53:39.303 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:53:39.410 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:53:39.417 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 14:53:39.421 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 14:53:39.428 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 14:53:39.433 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 380.8937ms
2025-08-25 14:53:39.435 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 14:53:39.436 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 408.3691ms
2025-08-25 14:53:42.068 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 14:53:42.081 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.087 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 14:53:42.088 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:53:42.089 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 14:53:42.090 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 22.2236ms
2025-08-25 14:53:42.090 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 14:53:42.091 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:53:42.106 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.118 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.122 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.334 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 14:53:42.339 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.345 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.347 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 259.5945ms
2025-08-25 14:53:42.348 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 259.2461ms
2025-08-25 14:53:42.349 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 259.7407ms
2025-08-25 14:53:42.356 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.360 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 269.1287ms
2025-08-25 14:53:42.367 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 275.9045ms
2025-08-25 14:53:42.495 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:53:42.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:42.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:53:42.647 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.658 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:42.661 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:42.667 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:42.707 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:53:42.746 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:42.781 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:42.854 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:43.005 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:53:43.015 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:43.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:43.080 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 230.7354ms
2025-08-25 14:53:43.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:53:43.099 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:53:43.110 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:43.117 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 480.979ms
2025-08-25 14:53:43.128 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:53:43.128 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.135 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.147 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:43.210 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:53:43.218 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:53:43.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:43.289 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:53:43.294 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 114.7558ms
2025-08-25 14:53:43.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 14:53:43.414 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:53:43.473 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 378.4313ms
2025-08-25 14:53:43.498 +02:00 [INF] Executed DbCommand (169ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.539 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:43.566 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 768.0582ms
2025-08-25 14:53:43.566 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 885.2608ms
2025-08-25 14:53:43.579 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:43.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:43.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 14:53:43.592 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:53:43.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1085.0054ms
2025-08-25 14:53:43.610 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:43.620 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:43.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1291.7671ms
2025-08-25 14:53:43.647 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:43.655 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:53:43.679 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:43.682 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:43.764 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:43.776 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:43.861 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.883 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.941 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:53:43.953 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:43.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:43.979 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 287.0853ms
2025-08-25 14:53:43.988 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:43.995 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:53:43.997 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:43.998 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 415.5583ms
2025-08-25 14:53:44.006 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 14:53:44.019 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:44.037 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 328.9345ms
2025-08-25 14:53:44.052 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:44.055 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:53:44.060 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:44.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 484.5791ms
2025-08-25 14:53:44.234 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:44.313 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:44.390 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:44.405 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:44.416 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 329.6695ms
2025-08-25 14:53:44.433 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:44.438 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:44.449 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:44.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 457.9799ms
2025-08-25 14:53:44.462 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:44.486 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:44.603 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:44.691 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:44.767 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:44.782 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:44.792 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 283.2747ms
2025-08-25 14:53:44.794 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:44.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:44.797 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 363.5896ms
2025-08-25 14:53:44.807 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:44.841 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:44.844 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:44.956 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:45.034 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:45.110 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:45.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:45.131 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 266.6081ms
2025-08-25 14:53:45.137 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:45.140 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:45.144 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:45.167 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 372.0647ms
2025-08-25 14:53:45.180 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:45.330 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:45.460 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:45.527 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:45.563 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:45.595 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:45.605 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 259.3135ms
2025-08-25 14:53:45.615 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:45.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 491.2742ms
2025-08-25 14:53:59.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance - null null
2025-08-25 14:53:59.283 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:59.284 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance - 204 null null 2.3287ms
2025-08-25 14:53:59.286 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/attendance - application/json 40
2025-08-25 14:53:59.295 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:59.305 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.MarkAttendance (backend)'
2025-08-25 14:53:59.319 +02:00 [INF] Route matched with {action = "MarkAttendance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] MarkAttendance(System.Collections.Generic.Dictionary`2[System.String,System.String]) on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:59.354 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:59.373 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:59.384 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:53:59.410 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 255), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [attendance] ([agent_id], [Location], [Sector], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-25 14:53:59.432 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-25 14:53:59.440 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:53:59.449 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:59.452 +02:00 [INF] Executed action backend.Controllers.AgentController.MarkAttendance (backend) in 130.0204ms
2025-08-25 14:53:59.454 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.MarkAttendance (backend)'
2025-08-25 14:53:59.455 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/attendance - 201 null application/json; charset=utf-8 168.9167ms
2025-08-25 14:53:59.458 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:53:59.463 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:59.468 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 7.507ms
2025-08-25 14:53:59.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:53:59.483 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:53:59.485 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:59.486 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:53:59.492 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:53:59.503 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:59.528 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:53:59.536 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:53:59.543 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 53.8804ms
2025-08-25 14:53:59.548 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:53:59.551 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 76.0263ms
2025-08-25 14:54:05.562 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 14:54:05.563 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:05.566 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 14:54:05.566 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:05.567 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.571 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.576 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.584 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.591 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 29.3555ms
2025-08-25 14:54:05.595 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 31.8681ms
2025-08-25 14:54:05.603 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 37.1474ms
2025-08-25 14:54:05.615 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 48.342ms
2025-08-25 14:54:05.674 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 14:54:05.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:05.710 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.718 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:05.732 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 14:54:05.733 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:05.741 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:05.795 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:05.855 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:05.869 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:05.900 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:05.903 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:54:05.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:54:05.952 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 139.2226ms
2025-08-25 14:54:05.960 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:05.979 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 14:54:05.993 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 14:54:06.010 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:06.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 339.7954ms
2025-08-25 14:54:06.036 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:06.045 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 284.1693ms
2025-08-25 14:54:06.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:06.063 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 14:54:06.065 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:06.078 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:06.081 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:06.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 396.9588ms
2025-08-25 14:54:06.103 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:06.140 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:06.155 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:06.190 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:06.265 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:54:06.566 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:54:06.573 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 461.1847ms
2025-08-25 14:54:06.581 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 14:54:06.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 599.3177ms
2025-08-25 14:54:06.610 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:06.622 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:06.626 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:06.638 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 491.3051ms
2025-08-25 14:54:06.676 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:06.685 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 627.3296ms
2025-08-25 14:54:16.263 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:16.263 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:16.265 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:16.265 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:16.266 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:16.268 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:16.271 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:16.276 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:16.281 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 18.3964ms
2025-08-25 14:54:16.284 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 21.0528ms
2025-08-25 14:54:16.288 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 22.9569ms
2025-08-25 14:54:16.296 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 30.1241ms
2025-08-25 14:54:16.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:16.366 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:16.380 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:16.393 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:16.906 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:16.993 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.034 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.049 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:17.052 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 241.1901ms
2025-08-25 14:54:17.055 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.055 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:17.061 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 708.237ms
2025-08-25 14:54:17.070 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.076 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 14:54:17.083 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.088 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.092 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:17.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 18.0064ms
2025-08-25 14:54:17.111 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 14:54:17.112 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:17.121 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.134 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 14:54:17.137 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.157 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.167 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:17.167 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:17.172 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 72.3647ms
2025-08-25 14:54:17.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:17.189 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.197 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.199 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 144.06ms
2025-08-25 14:54:17.208 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.208 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:17.225 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:17.250 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.262 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:17.313 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:17.325 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.372 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:17.440 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.453 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:17.464 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:17.506 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 269.0534ms
2025-08-25 14:54:17.513 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.526 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 344.4433ms
2025-08-25 14:54:17.526 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:17.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:17.555 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.562 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 381.9653ms
2025-08-25 14:54:17.568 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:17.571 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 14:54:17.572 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 14:54:17.577 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:17.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 471.2526ms
2025-08-25 14:54:17.593 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.679 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:17.679 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 14:54:17.686 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 14:54:17.701 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:17.704 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.707 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:17.709 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 29.9349ms
2025-08-25 14:54:17.736 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:17.770 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:17.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:54:17.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:18.009 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:18.022 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 417.1755ms
2025-08-25 14:54:18.040 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:54:18.044 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:18.050 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:18.055 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 528.956ms
2025-08-25 14:54:18.067 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:18.238 +02:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:18.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:18.276 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 212.7032ms
2025-08-25 14:54:18.280 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:18.285 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:54:18.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 518.5197ms
2025-08-25 14:54:18.327 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:18.648 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:18.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:18.726 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 978.5882ms
2025-08-25 14:54:18.779 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 14:54:18.787 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 1215.3682ms
2025-08-25 14:54:18.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:54:18.841 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:18.849 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:54:18.991 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:19.296 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:19.304 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:19.307 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 114.4214ms
2025-08-25 14:54:19.310 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:54:19.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 502.264ms
2025-08-25 14:54:28.088 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 14:54:28.089 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:28.089 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 14:54:28.089 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:28.092 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.098 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.104 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.117 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.119 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 31.2378ms
2025-08-25 14:54:28.124 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 34.3814ms
2025-08-25 14:54:28.127 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 37.417ms
2025-08-25 14:54:28.131 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 41.3897ms
2025-08-25 14:54:28.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:28.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 14:54:28.254 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.275 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.282 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:28.287 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 14:54:28.291 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:28.325 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:28.384 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:28.396 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:28.515 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:28.539 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:28.601 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:28.639 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:28.641 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:28.659 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 349.1427ms
2025-08-25 14:54:28.673 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:28.712 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:28.725 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:28.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 519.5201ms
2025-08-25 14:54:28.737 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:28.748 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:28.750 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:28.788 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:28.832 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:28.879 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:28.925 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:28.936 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.038 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.046 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:29.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-25 14:54:29.059 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:29.070 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 302.9666ms
2025-08-25 14:54:29.080 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:29.084 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 410.7185ms
2025-08-25 14:54:29.132 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 783.797ms
2025-08-25 14:54:29.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 14:54:29.160 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 14:54:29.173 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:29.195 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 953.1024ms
2025-08-25 14:54:29.215 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 14:54:29.271 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:29.365 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:29.466 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:29.510 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.569 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.608 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.663 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:29.678 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.729 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:54:29.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-25 14:54:29.776 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 485.2886ms
2025-08-25 14:54:29.797 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 14:54:29.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 667.2836ms
2025-08-25 14:54:43.680 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 14:54:43.682 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:43.682 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:54:43.683 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 14:54:43.686 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.689 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.694 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.706 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.711 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 30.8661ms
2025-08-25 14:54:43.713 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 30.611ms
2025-08-25 14:54:43.715 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 32.6647ms
2025-08-25 14:54:43.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 37.2152ms
2025-08-25 14:54:43.889 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:43.912 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 14:54:43.936 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.923 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:43.942 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 14:54:43.946 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:43.960 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:43.964 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:44.085 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:44.094 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:44.117 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:44.136 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:54:44.226 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:44.527 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 550.6136ms
2025-08-25 14:54:44.542 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 14:54:44.817 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 14:54:45.141 +02:00 [INF] Executed DbCommand (944ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:45.181 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:45.204 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 1292.4141ms
2025-08-25 14:54:45.262 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:45.264 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 14:54:45.371 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 1401.2262ms
2025-08-25 14:54:45.372 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:45.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:54:45.385 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:45.409 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:45.414 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1525.1021ms
2025-08-25 14:54:45.430 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:45.456 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:54:45.645 +02:00 [INF] Executed DbCommand (242ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:45.650 +02:00 [INF] Executed DbCommand (177ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:54:45.827 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:54:45.844 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:45.848 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:45.861 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 464.6715ms
2025-08-25 14:54:45.867 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 14:54:45.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 1327.7574ms
2025-08-25 14:54:46.016 +02:00 [INF] Executed DbCommand (161ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:54:46.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:46.021 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 555.7493ms
2025-08-25 14:54:46.023 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:54:46.025 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 643.1028ms
2025-08-25 14:54:53.187 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - null null
2025-08-25 14:54:53.189 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:53.195 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - 204 null null 7.5596ms
2025-08-25 14:54:53.198 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - application/json 0
2025-08-25 14:54:53.205 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:54:53.209 +02:00 [INF] Executing endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-25 14:54:53.212 +02:00 [INF] Route matched with {action = "MarkAllRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] MarkAllRead() on controller backend.Controllers.NotificationController (backend).
2025-08-25 14:54:53.233 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 14:54:53.252 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 14:54:53.291 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p10='?' (DbType = Int64), @p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [notifications] SET [Category] = @p0, [Message] = @p1, [Priority] = @p2, [read_status] = @p3, [recipient_id] = @p4, [sender_id] = @p5, [sent_at] = @p6, [Status] = @p7, [Title] = @p8, [via_email] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-08-25 14:54:53.295 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:54:53.299 +02:00 [INF] Executed action backend.Controllers.NotificationController.MarkAllRead (backend) in 83.1651ms
2025-08-25 14:54:53.301 +02:00 [INF] Executed endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-25 14:54:53.303 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - 200 null application/json; charset=utf-8 105.1107ms
2025-08-25 14:55:04.323 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 14:55:04.325 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:55:04.325 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 14:55:04.327 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 14:55:04.327 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.327 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 14:55:04.327 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 14:55:04.329 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.333 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.340 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.344 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 20.4885ms
2025-08-25 14:55:04.359 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.374 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.376 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 50.9663ms
2025-08-25 14:55:04.381 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 56.277ms
2025-08-25 14:55:04.385 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 57.7036ms
2025-08-25 14:55:04.395 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 14:55:04.400 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 72.552ms
2025-08-25 14:55:04.402 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 74.9124ms
2025-08-25 14:55:04.464 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.484 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:04.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:55:04.501 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:55:04.511 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.530 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.542 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:04.545 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:04.547 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:55:04.567 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:04.569 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:04.635 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:04.638 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:55:04.648 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:04.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:04.690 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 96.2195ms
2025-08-25 14:55:04.707 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 14:55:04.713 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:55:04.718 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:04.726 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:04.734 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 237.9267ms
2025-08-25 14:55:04.747 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:04.765 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:55:04.816 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:04.831 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:55:04.946 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:55:04.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 14:55:04.981 +02:00 [INF] Executed DbCommand (161ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:04.990 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 432.082ms
2025-08-25 14:55:04.992 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 14:55:05.004 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 14:55:05.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:05.012 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:55:05.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:05.041 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:05.048 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 470.6673ms
2025-08-25 14:55:05.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 658.8ms
2025-08-25 14:55:05.061 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 181.7154ms
2025-08-25 14:55:05.070 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:55:05.078 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:05.114 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 14:55:05.121 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:05.133 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 647.7641ms
2025-08-25 14:55:05.142 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:05.148 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 441.7273ms
2025-08-25 14:55:05.180 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.201 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:05.246 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:05.305 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:05.347 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:05.358 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:05.451 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:55:05.483 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:05.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:05.504 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 276.5926ms
2025-08-25 14:55:05.515 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:05.515 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 14:55:05.535 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.561 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:05.585 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 14:55:05.591 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 481.3767ms
2025-08-25 14:55:05.599 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.614 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 453.2462ms
2025-08-25 14:55:05.638 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:05.643 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 14:55:05.653 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 648.1856ms
2025-08-25 14:55:05.872 +02:00 [INF] Executed DbCommand (214ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:05.888 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:05.896 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:05.898 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:05.901 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 252.7906ms
2025-08-25 14:55:05.904 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:05.906 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 391.6156ms
2025-08-25 14:55:05.913 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:05.923 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:05.925 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:05.963 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:05.982 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.064 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.077 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:06.085 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 153.4774ms
2025-08-25 14:55:06.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:06.094 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:06.107 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:06.110 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 204.1582ms
2025-08-25 14:55:06.117 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:06.134 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:06.195 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:06.246 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.325 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.340 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:06.348 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 206.7298ms
2025-08-25 14:55:06.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 14:55:06.360 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:06.367 +02:00 [INF] CORS policy execution successful.
2025-08-25 14:55:06.374 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 281.2171ms
2025-08-25 14:55:06.382 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:06.396 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 14:55:06.475 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 14:55:06.593 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.663 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 14:55:06.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 14:55:06.680 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 275.793ms
2025-08-25 14:55:06.687 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 14:55:06.693 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 334.5327ms
2025-08-25 15:09:26.824 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:09:26.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:09:26.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:09:26.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:09:26.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:09:26.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:09:26.842 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.879 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.846 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.861 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.866 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.842 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:26.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 61.4789ms
2025-08-25 15:09:26.884 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 62.9571ms
2025-08-25 15:09:26.885 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 64.5522ms
2025-08-25 15:09:26.887 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 65.9712ms
2025-08-25 15:09:26.893 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 72.6703ms
2025-08-25 15:09:26.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 75.6575ms
2025-08-25 15:09:26.969 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:09:26.985 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:09:27.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:27.026 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.059 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.070 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.199 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:09:27.199 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:09:27.207 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:27.230 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:27.231 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:27.253 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:27.664 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:09:27.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:27.691 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 368.7127ms
2025-08-25 15:09:27.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:09:27.703 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:09:27.717 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:27.717 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:27.719 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.723 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 737.6924ms
2025-08-25 15:09:27.753 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:09:27.778 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:27.834 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:09:27.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:27.849 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 59.6693ms
2025-08-25 15:09:27.850 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:27.851 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:27.854 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:09:27.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 165.0481ms
2025-08-25 15:09:27.890 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:27.895 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:09:27.896 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:27.904 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 562.133ms
2025-08-25 15:09:27.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:27.907 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:27.911 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:09:27.912 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.914 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 901.2756ms
2025-08-25 15:09:27.919 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:09:27.921 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:27.930 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:27.933 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 643.7455ms
2025-08-25 15:09:27.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:09:27.936 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:09:27.942 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:27.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 978.0114ms
2025-08-25 15:09:27.988 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:09:27.999 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:28.004 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:28.514 +02:00 [INF] Executed DbCommand (457ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:28.536 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:28.551 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:28.560 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 623.9038ms
2025-08-25 15:09:28.573 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:28.574 +02:00 [INF] Executed DbCommand (505ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:28.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:28.589 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 682.5432ms
2025-08-25 15:09:28.682 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:28.733 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:28.739 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:28.764 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:28.806 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:09:28.810 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:28.904 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:09:28.926 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:09:28.933 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 867.1332ms
2025-08-25 15:09:28.947 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:28.948 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:09:28.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1035.6721ms
2025-08-25 15:09:29.235 +02:00 [INF] Executed DbCommand (267ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:29.245 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:29.250 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 502.0006ms
2025-08-25 15:09:29.259 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:29.268 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:29.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 693.1323ms
2025-08-25 15:09:29.297 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:29.328 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:29.333 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:29.467 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:29.580 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:29.665 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:29.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:29.689 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 326.6845ms
2025-08-25 15:09:29.701 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:29.712 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:29.715 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 446.9199ms
2025-08-25 15:09:29.761 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:29.789 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:29.815 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:29.942 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:30.046 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:30.114 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:30.134 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:30.148 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 311.9802ms
2025-08-25 15:09:30.166 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:09:30.175 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:30.188 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:09:30.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 485.8246ms
2025-08-25 15:09:30.211 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:30.293 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:09:30.456 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:09:30.610 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:30.641 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:09:30.653 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:09:30.659 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 343.7805ms
2025-08-25 15:09:30.672 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:09:30.677 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 511.6364ms
2025-08-25 15:25:17.573 +02:00 [INF] Application is shutting down...
2025-08-25 15:28:55.932 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 15:28:56.019 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 15:28:56.022 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 15:28:56.027 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 15:28:56.557 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 15:28:56.568 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 15:28:56.669 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 15:28:56.769 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 15:28:56.782 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 15:28:56.785 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 15:28:56.876 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 15:28:56.892 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 15:28:56.917 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 15:28:57.024 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:28:57.175 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 15:28:57.177 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:28:57.179 +02:00 [INF] Hosting environment: Development
2025-08-25 15:28:57.180 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:15.168 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:30:15.549 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.565 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:15.640 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 472.8317ms
2025-08-25 15:30:15.640 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 473.818ms
2025-08-25 15:30:15.640 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 473.8441ms
2025-08-25 15:30:15.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 473.8705ms
2025-08-25 15:30:15.642 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 472.9863ms
2025-08-25 15:30:15.649 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 473.6531ms
2025-08-25 15:30:16.269 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:30:16.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:30:16.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:16.551 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:16.585 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:16.598 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:17.053 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:17.053 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:17.053 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:17.130 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:17.130 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:17.130 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:17.811 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:30:17.889 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:17.889 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:18.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:18.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:30:18.114 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 957.2111ms
2025-08-25 15:30:18.120 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:18.126 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:18.150 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:18.153 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 1831.2857ms
2025-08-25 15:30:18.156 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:18.281 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:18.289 +02:00 [INF] Executed DbCommand (148ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:18.493 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:18.497 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:18.513 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:18.570 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:18.575 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:30:18.586 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 1435.2956ms
2025-08-25 15:30:18.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:18.620 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:18.624 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:18.636 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:18.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 2173.2568ms
2025-08-25 15:30:18.648 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 469.4965ms
2025-08-25 15:30:18.657 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:18.668 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:18.672 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:18.680 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 566.9968ms
2025-08-25 15:30:18.744 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:18.986 +02:00 [INF] Executed DbCommand (275ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:19.026 +02:00 [INF] Executed DbCommand (238ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:19.092 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:19.156 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:30:19.195 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:19.204 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:19.218 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 531.856ms
2025-08-25 15:30:19.223 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:19.242 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 638.28ms
2025-08-25 15:30:19.346 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 2203.9838ms
2025-08-25 15:30:19.354 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:19.363 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:30:19.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 3103.1341ms
2025-08-25 15:30:19.380 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:19.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:19.417 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:19.421 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:19.426 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:19.435 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:19.444 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:19.515 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:19.522 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:19.653 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:19.668 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:19.730 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:19.743 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:19.792 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:19.811 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 357.1894ms
2025-08-25 15:30:19.815 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:19.818 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:19.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 427.7124ms
2025-08-25 15:30:19.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:19.890 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:19.904 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:19.915 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:20.128 +02:00 [INF] Executed DbCommand (287ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:20.135 +02:00 [INF] Executed DbCommand (173ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:20.165 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:20.189 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:30:20.195 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 760.1709ms
2025-08-25 15:30:20.202 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:20.215 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 852.2817ms
2025-08-25 15:30:20.217 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:20.331 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:20.383 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:20.404 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 461.0982ms
2025-08-25 15:30:20.416 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:20.428 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:20.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 558.6216ms
2025-08-25 15:30:20.456 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:20.482 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:20.498 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:20.642 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:20.745 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:20.831 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:20.883 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:20.944 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 432.7014ms
2025-08-25 15:30:20.956 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:20.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 536.7189ms
2025-08-25 15:30:20.994 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:21.002 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:21.011 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 16.7199ms
2025-08-25 15:30:21.019 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:21.031 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:21.034 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:21.037 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:21.109 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:21.181 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:21.211 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:21.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:21.227 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 179.4148ms
2025-08-25 15:30:21.231 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:21.239 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 218.479ms
2025-08-25 15:30:42.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 15:30:42.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:42.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:42.587 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 15:30:42.590 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.593 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.599 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.604 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.609 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 22.2487ms
2025-08-25 15:30:42.613 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 25.7165ms
2025-08-25 15:30:42.615 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 28.1335ms
2025-08-25 15:30:42.616 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 29.6429ms
2025-08-25 15:30:42.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:42.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 15:30:42.696 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.707 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.720 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:42.723 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 15:30:42.728 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:42.824 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:42.863 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:42.900 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:42.911 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:42.927 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:42.927 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:42.932 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:42.935 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 194.8986ms
2025-08-25 15:30:42.935 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 15:30:42.942 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:42.945 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:42.947 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 278.3502ms
2025-08-25 15:30:42.949 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:42.964 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:42.966 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:42.981 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:42.989 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:42.999 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:43.000 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 166.91ms
2025-08-25 15:30:43.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:43.004 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 15:30:43.011 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 15:30:43.011 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 42.7787ms
2025-08-25 15:30:43.014 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 332.1837ms
2025-08-25 15:30:43.018 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:43.021 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:43.035 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 15:30:43.037 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 92.7396ms
2025-08-25 15:30:43.044 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:43.067 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:43.091 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:43.102 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 15:30:43.112 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 52.3218ms
2025-08-25 15:30:43.115 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 15:30:43.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 107.5635ms
2025-08-25 15:30:48.083 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:30:48.083 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:30:48.084 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:48.084 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 15:30:48.085 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 15:30:48.085 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:30:48.086 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.089 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.094 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.105 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.115 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.120 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.126 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 42.6505ms
2025-08-25 15:30:48.127 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 43.6906ms
2025-08-25 15:30:48.135 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 49.4089ms
2025-08-25 15:30:48.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 56.5865ms
2025-08-25 15:30:48.142 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 56.252ms
2025-08-25 15:30:48.146 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 60.5908ms
2025-08-25 15:30:48.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:48.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:30:48.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:30:48.259 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.266 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.268 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.283 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:48.289 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:48.283 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:48.290 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.292 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.295 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.360 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:30:48.374 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:48.386 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:48.387 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 74.9938ms
2025-08-25 15:30:48.394 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:48.401 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:48.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 15:30:48.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 171.0588ms
2025-08-25 15:30:48.421 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.445 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:48.451 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:48.454 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.461 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:48.497 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 15:30:48.501 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:48.518 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:48.526 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 51.7954ms
2025-08-25 15:30:48.534 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:48.539 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 15:30:48.553 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:48.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:48.610 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 208.2897ms
2025-08-25 15:30:48.671 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:48.682 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 378.1123ms
2025-08-25 15:30:48.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:48.728 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:48.729 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:48.741 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:30:48.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 558.4253ms
2025-08-25 15:30:48.780 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:48.788 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 461.6138ms
2025-08-25 15:30:48.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 15:30:48.809 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.812 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:48.826 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:48.844 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 616.3454ms
2025-08-25 15:30:48.854 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:48.857 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:48.883 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:48.910 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.049 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:49.153 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.176 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:49.244 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 406.5562ms
2025-08-25 15:30:49.266 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:49.261 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:49.266 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:49.352 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:49.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 667.0973ms
2025-08-25 15:30:49.391 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:49.395 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:49.453 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:49.661 +02:00 [INF] Executed DbCommand (210ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.673 +02:00 [INF] Executed DbCommand (178ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:49.695 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 15:30:49.713 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 15:30:49.726 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 809.1107ms
2025-08-25 15:30:49.737 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 15:30:49.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 940.4187ms
2025-08-25 15:30:49.753 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.853 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:49.868 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:49.875 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 401.2152ms
2025-08-25 15:30:49.884 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:49.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 629.5905ms
2025-08-25 15:30:49.900 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:49.917 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:49.933 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:49.938 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:50.035 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:50.122 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.169 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.185 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:50.193 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 238.6244ms
2025-08-25 15:30:50.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:50.208 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:50.221 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:50.224 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 323.9756ms
2025-08-25 15:30:50.233 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:50.249 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:50.324 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:50.407 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.466 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.491 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:50.503 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 246.1605ms
2025-08-25 15:30:50.510 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:50.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:30:50.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 312.0395ms
2025-08-25 15:30:50.537 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:30:50.571 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:50.581 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:30:50.668 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:30:50.733 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.800 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:30:50.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:30:50.831 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 239.5136ms
2025-08-25 15:30:50.837 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:30:50.847 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 330.6166ms
2025-08-25 15:32:47.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 15:32:47.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:32:47.586 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 15:32:47.586 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 15:32:47.588 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.590 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.597 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.607 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.617 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 32.3343ms
2025-08-25 15:32:47.618 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 34.1537ms
2025-08-25 15:32:47.624 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 37.7333ms
2025-08-25 15:32:47.628 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 41.8749ms
2025-08-25 15:32:47.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:32:47.688 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 15:32:47.698 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.708 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.716 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 15:32:47.716 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:32:47.740 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:32:47.761 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:32:47.827 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:32:47.827 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:32:47.877 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:32:47.918 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:32:47.930 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:32:47.934 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 186.182ms
2025-08-25 15:32:47.940 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:32:47.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 15:32:47.944 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 268.8018ms
2025-08-25 15:32:47.948 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:47.962 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:32:47.964 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:32:47.979 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:32:47.993 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:32:47.998 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 15:32:48.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:32:48.011 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 41.0305ms
2025-08-25 15:32:48.013 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 15:32:48.014 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 70.6142ms
2025-08-25 15:32:48.032 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 15:32:48.080 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:32:48.114 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 341.69ms
2025-08-25 15:32:48.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 15:32:48.120 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 15:32:48.127 +02:00 [INF] CORS policy execution successful.
2025-08-25 15:32:48.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 440.038ms
2025-08-25 15:32:48.130 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 15:32:48.144 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 15:32:48.148 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 15:32:48.163 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 15:32:48.177 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 15:32:48.181 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 34.9655ms
2025-08-25 15:32:48.186 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 15:32:48.194 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 75.0737ms
2025-08-25 15:52:35.777 +02:00 [INF] Application is shutting down...
2025-08-25 16:09:39.798 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 16:09:39.873 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 16:09:39.877 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 16:09:39.879 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 16:09:40.914 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 16:09:40.962 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 16:09:41.082 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 16:09:41.337 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 16:09:41.374 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 16:09:41.390 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 16:09:41.464 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 16:09:41.530 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 16:09:41.557 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 16:09:41.694 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 16:09:41.877 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 16:09:41.882 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 16:09:41.886 +02:00 [INF] Hosting environment: Development
2025-08-25 16:09:41.889 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 16:12:12.607 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 16:12:12.682 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 16:12:12.688 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:12.698 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 97.6653ms
2025-08-25 16:12:12.706 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 16:12:12.712 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:12.801 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:12:12.836 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 16:12:12.922 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 16:12:12.926 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0723374650
2025-08-25 16:12:13.703 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 16:12:13.945 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:12:13.995 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1069.5295ms.
2025-08-25 16:12:14.002 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 16:12:14.017 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1175.4949ms
2025-08-25 16:12:14.019 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:12:14.028 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1321.7221ms
2025-08-25 16:12:23.520 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:12:23.520 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:12:23.522 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:12:23.524 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:12:23.534 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.537 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:12:23.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:12:23.541 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.543 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.549 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.551 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 30.8518ms
2025-08-25 16:12:23.555 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.560 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.564 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 42.2065ms
2025-08-25 16:12:23.566 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 41.7578ms
2025-08-25 16:12:23.567 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 47.0595ms
2025-08-25 16:12:23.573 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:12:23.574 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 37.5009ms
2025-08-25 16:12:23.577 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 39.0357ms
2025-08-25 16:12:23.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:12:23.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:12:23.603 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:12:23.611 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:12:23.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:12:23.638 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.642 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.648 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.650 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 76.7487ms
2025-08-25 16:12:23.655 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.661 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:23.676 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 73.4921ms
2025-08-25 16:12:23.984 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:12:23.984 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:12:23.984 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:12:23.985 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:12:23.999 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.001 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.001 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.001 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.014 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 16:12:24.016 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 16:12:24.033 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:12:24.046 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 16:12:24.169 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 16:12:24.221 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:12:24.267 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 16:12:24.309 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.317 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:12:24.330 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 279.6971ms.
2025-08-25 16:12:24.335 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.385 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.428 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 411.1805ms
2025-08-25 16:12:24.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:12:24.440 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:12:24.447 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:24.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 832.0502ms
2025-08-25 16:12:24.458 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.476 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:12:24.478 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 442.3465ms.
2025-08-25 16:12:24.480 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.480 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.486 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.498 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 16:12:24.509 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.511 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 16:12:24.524 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:12:24.532 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 518.8629ms
2025-08-25 16:12:24.533 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.9979ms.
2025-08-25 16:12:24.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:12:24.535 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:12:24.539 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.544 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:24.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 916.423ms
2025-08-25 16:12:24.569 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 73.5878ms
2025-08-25 16:12:24.572 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:12:24.579 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:12:24.581 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 559.3291ms.
2025-08-25 16:12:24.581 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.581 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.583 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 142.9263ms
2025-08-25 16:12:24.586 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.595 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:12:24.610 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 606.8715ms
2025-08-25 16:12:24.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:12:24.614 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:12:24.620 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:24.622 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 1030.3285ms
2025-08-25 16:12:24.624 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:12:24.630 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:12:24.632 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.638 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.7081ms.
2025-08-25 16:12:24.641 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 16:12:24.647 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.651 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 58.2279ms
2025-08-25 16:12:24.654 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:12:24.657 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 121.8953ms
2025-08-25 16:12:24.682 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 16:12:24.683 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:12:24.695 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 676.0609ms.
2025-08-25 16:12:24.699 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.712 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 704.4218ms
2025-08-25 16:12:24.715 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:12:24.715 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:12:24.719 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:12:24.721 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 1136.4325ms
2025-08-25 16:12:24.724 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:12:24.730 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:12:24.734 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 16:12:24.785 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 16:12:24.787 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 16:12:24.796 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 148.6846ms.
2025-08-25 16:12:24.797 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.807 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 167.5696ms
2025-08-25 16:12:24.810 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.810 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:12:24.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 204.254ms
2025-08-25 16:12:24.826 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.842 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.877 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:12:24.897 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:12:24.947 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:12:24.957 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 220.3932ms.
2025-08-25 16:12:24.959 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:12:24.962 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 229.088ms
2025-08-25 16:12:24.969 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:12:24.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 256.1524ms
2025-08-25 16:15:49.644 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:15:49.652 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:15:49.653 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:15:49.653 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:15:49.654 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:15:49.655 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:15:49.655 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.658 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.667 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.671 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.676 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.681 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 31.8655ms
2025-08-25 16:15:49.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 42.2312ms
2025-08-25 16:15:49.685 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 31.6435ms
2025-08-25 16:15:49.686 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 32.8828ms
2025-08-25 16:15:49.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 33.4341ms
2025-08-25 16:15:49.689 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 34.5907ms
2025-08-25 16:15:49.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:15:49.696 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:15:49.698 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:15:49.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:15:49.703 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:15:49.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:15:49.708 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.712 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.713 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.714 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.716 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.717 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.718 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 22.6562ms
2025-08-25 16:15:49.720 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 21.2465ms
2025-08-25 16:15:49.722 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.722 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.722 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.722 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.734 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.734 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.734 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.734 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.735 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 401 0 null 34.0591ms
2025-08-25 16:15:49.736 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 401 0 null 30.0134ms
2025-08-25 16:15:49.737 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 401 0 null 45.5136ms
2025-08-25 16:15:49.739 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 401 0 null 35.2103ms
2025-08-25 16:15:49.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:15:49.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:15:49.749 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:15:49.750 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:15:49.752 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.753 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.755 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.756 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:15:49.757 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.757 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.758 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.758 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2025-08-25 16:15:49.760 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.761 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.761 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.762 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 16:15:49.763 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 401 0 null 20.6301ms
2025-08-25 16:15:49.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 401 0 null 19.5368ms
2025-08-25 16:15:49.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 401 0 null 18.2509ms
2025-08-25 16:15:49.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 401 0 null 18.1061ms
2025-08-25 16:16:19.481 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 16:16:19.490 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:19.491 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 9.7636ms
2025-08-25 16:16:19.493 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 16:16:19.494 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:19.495 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:16:19.496 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 16:16:19.505 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 16:16:19.506 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0723374650
2025-08-25 16:16:19.536 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 16:16:19.548 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:16:19.552 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.9128ms.
2025-08-25 16:16:19.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 16:16:19.554 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 56.8556ms
2025-08-25 16:16:19.555 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:16:19.556 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 63.0102ms
2025-08-25 16:16:20.114 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:16:20.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:16:20.115 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:16:20.116 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - null null
2025-08-25 16:16:20.116 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:16:20.119 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.119 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - null null
2025-08-25 16:16:20.123 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.127 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.133 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.138 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.139 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 24.6497ms
2025-08-25 16:16:20.144 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.146 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 30.6761ms
2025-08-25 16:16:20.147 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 31.099ms
2025-08-25 16:16:20.148 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/managers - 204 null null 31.5473ms
2025-08-25 16:16:20.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 33.9051ms
2025-08-25 16:16:20.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:16:20.160 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/users - 204 null null 41.2415ms
2025-08-25 16:16:20.167 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - null null
2025-08-25 16:16:20.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:16:20.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:16:20.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:16:20.184 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:16:20.194 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.196 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.199 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.201 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.203 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 44.8889ms
2025-08-25 16:16:20.208 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.210 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/logs?limit=10 - 204 null null 43.1671ms
2025-08-25 16:16:20.213 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:16:20.213 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:16:20.213 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:16:20.218 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:16:20.246 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.246 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.246 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.246 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.249 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 16:16:20.251 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 16:16:20.254 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:16:20.256 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 16:16:20.305 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 16:16:20.316 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 16:16:20.321 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:16:20.328 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.329 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.144ms.
2025-08-25 16:16:20.329 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:16:20.334 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.342 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 92.0834ms
2025-08-25 16:16:20.342 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.343 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84.1086ms.
2025-08-25 16:16:20.346 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:16:20.346 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - application/json null
2025-08-25 16:16:20.349 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 16:16:20.351 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.352 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.355 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 164.2838ms
2025-08-25 16:16:20.358 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.361 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.1731ms.
2025-08-25 16:16:20.363 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 111.2281ms
2025-08-25 16:16:20.365 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.367 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications - application/json null
2025-08-25 16:16:20.370 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:16:20.371 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.372 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:16:20.379 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.379 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.380 +02:00 [INF] Route matched with {action = "GetAuditLogsAdvanced", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetAuditLogsAdvanced(System.String, System.String, System.String, Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 200.7843ms
2025-08-25 16:16:20.381 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 125.5251ms
2025-08-25 16:16:20.385 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:16:20.390 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) - Validation state: "Valid"
2025-08-25 16:16:20.390 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/managers - application/json null
2025-08-25 16:16:20.392 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:16:20.393 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.397 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Details], [a].[entity_id], [a].[entity_type], [a].[event_type], [a].[Timestamp], [a].[user_id], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [audit_log] AS [a]
LEFT JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:16:20.399 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.401 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 228.3224ms
2025-08-25 16:16:20.404 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:16:20.407 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAuditLogsAdvanced (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.7353ms.
2025-08-25 16:16:20.407 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:16:20.408 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:16:20.412 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`3[[System.Collections.Generic.List`1[[<>f__AnonymousType2`8[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`4[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.413 +02:00 [INF] Route matched with {action = "GetAllManagers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.Manager.ManagerListItemDTO]]] GetAllManagers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.413 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:16:20.415 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.4347ms.
2025-08-25 16:16:20.417 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAuditLogsAdvanced (backend) in 27.4514ms
2025-08-25 16:16:20.420 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllManagers (backend) - Validation state: "Valid"
2025-08-25 16:16:20.422 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.7415ms.
2025-08-25 16:16:20.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.423 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAuditLogsAdvanced (backend)'
2025-08-25 16:16:20.426 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.427 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
2025-08-25 16:16:20.428 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 179.657ms
2025-08-25 16:16:20.428 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/logs?limit=10 - 200 null application/json; charset=utf-8 81.8575ms
2025-08-25 16:16:20.431 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 27.372ms
2025-08-25 16:16:20.435 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:16:20.438 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0 OR [a].[manager_id] IS NULL
2025-08-25 16:16:20.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/users - application/json null
2025-08-25 16:16:20.440 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:16:20.441 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 264.0607ms
2025-08-25 16:16:20.445 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllManagers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.3057ms.
2025-08-25 16:16:20.447 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:16:20.449 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications - 200 null application/json; charset=utf-8 82.66ms
2025-08-25 16:16:20.456 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Manager.ManagerListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.457 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:16:20.462 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllManagers (backend) in 43.7013ms
2025-08-25 16:16:20.464 +02:00 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend.DTOs.UserDTO]]] GetAllUsers() on controller backend.Controllers.AdminController (backend).
2025-08-25 16:16:20.465 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllManagers (backend)'
2025-08-25 16:16:20.469 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetAllUsers (backend) - Validation state: "Valid"
2025-08-25 16:16:20.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/managers - 200 null application/json; charset=utf-8 77.9878ms
2025-08-25 16:16:20.474 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [users] AS [u]
2025-08-25 16:16:20.493 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.500 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.512 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.520 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector]
FROM [agents] AS [a]
WHERE [a].[user_id] = @__p_0
2025-08-25 16:16:20.544 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department]
FROM [managers] AS [m]
WHERE [m].[user_id] = @__p_0
2025-08-25 16:16:20.554 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:16:20.559 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetAllUsers (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 88.0538ms.
2025-08-25 16:16:20.561 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.UserDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:16:20.563 +02:00 [INF] Executed action backend.Controllers.AdminController.GetAllUsers (backend) in 94.8339ms
2025-08-25 16:16:20.564 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetAllUsers (backend)'
2025-08-25 16:16:20.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/users - 200 null application/json; charset=utf-8 126.6781ms
2025-08-25 16:17:12.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - null null
2025-08-25 16:17:12.869 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:12.871 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - 204 null null 4.8612ms
2025-08-25 16:17:12.875 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - application/json null
2025-08-25 16:17:12.877 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:12.880 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:17:12.881 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:17:12.884 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:17:12.914 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:17:12.918 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.4184ms.
2025-08-25 16:17:12.920 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:17:12.921 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 38.6824ms
2025-08-25 16:17:12.925 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:17:12.927 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - 200 null application/json; charset=utf-8 52.0577ms
2025-08-25 16:17:33.861 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - null null
2025-08-25 16:17:33.864 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:33.865 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications - 204 null null 4.2055ms
2025-08-25 16:17:33.868 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/admin/notifications - application/json 112
2025-08-25 16:17:33.869 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:33.872 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.SendNotification (backend)'
2025-08-25 16:17:33.888 +02:00 [INF] Route matched with {action = "SendNotification", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] SendNotification(System.Collections.Generic.Dictionary`2[System.String,System.String]) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:17:33.904 +02:00 [INF] Executing action method backend.Controllers.AdminController.SendNotification (backend) - Validation state: "Valid"
2025-08-25 16:17:33.938 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 16:17:34.035 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Category], [Message], [Priority], [read_status], [recipient_id], [sender_id], [sent_at], [Status], [Title], [via_email])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-08-25 16:17:34.065 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-25 16:17:34.069 +02:00 [INF] Executed action method backend.Controllers.AdminController.SendNotification (backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 164.3129ms.
2025-08-25 16:17:34.070 +02:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType10`11[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType11`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:17:34.076 +02:00 [INF] Executed action backend.Controllers.AdminController.SendNotification (backend) in 186.2378ms
2025-08-25 16:17:34.077 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.SendNotification (backend)'
2025-08-25 16:17:34.078 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/admin/notifications - 201 null application/json; charset=utf-8 209.9665ms
2025-08-25 16:17:34.082 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - null null
2025-08-25 16:17:34.083 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:34.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/admin/notifications?page=1&limit=10 - 204 null null 0.8294ms
2025-08-25 16:17:34.085 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - application/json null
2025-08-25 16:17:34.086 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:34.087 +02:00 [INF] Executing endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:17:34.087 +02:00 [INF] Route matched with {action = "GetNotifications", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] GetNotifications(Int32, Int32) on controller backend.Controllers.AdminController (backend).
2025-08-25 16:17:34.089 +02:00 [INF] Executing action method backend.Controllers.AdminController.GetNotifications (backend) - Validation state: "Valid"
2025-08-25 16:17:34.098 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
2025-08-25 16:17:34.102 +02:00 [INF] Executed action method backend.Controllers.AdminController.GetNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.5702ms.
2025-08-25 16:17:34.103 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`3[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType4`3[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:17:34.105 +02:00 [INF] Executed action backend.Controllers.AdminController.GetNotifications (backend) in 15.9584ms
2025-08-25 16:17:34.107 +02:00 [INF] Executed endpoint 'backend.Controllers.AdminController.GetNotifications (backend)'
2025-08-25 16:17:34.108 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/admin/notifications?page=1&limit=10 - 200 null application/json; charset=utf-8 22.5893ms
2025-08-25 16:17:51.940 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 16:17:51.951 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:51.954 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 13.5076ms
2025-08-25 16:17:51.956 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 16:17:51.961 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:51.963 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:17:51.964 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 16:17:51.967 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 16:17:51.968 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 16:17:51.992 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 16:17:52.002 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 16:17:52.004 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 16:17:52.171 +02:00 [INF] Received HTTP response headers after 164.3793ms - 200
2025-08-25 16:17:52.173 +02:00 [INF] End processing HTTP request after 171.4605ms - 200
2025-08-25 16:17:52.188 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 16:17:52.205 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:17:52.212 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:17:52.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:17:52.219 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 16:17:52.221 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 252.4076ms.
2025-08-25 16:17:52.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 16:17:52.222 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 257.5951ms
2025-08-25 16:17:52.223 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:17:52.224 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 267.4906ms
2025-08-25 16:17:53.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 16:17:53.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 16:17:53.740 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.747 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 17.5702ms
2025-08-25 16:17:53.747 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 16:17:53.747 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 16:17:53.747 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 16:17:53.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 16:17:53.753 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 16:17:53.759 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.763 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.765 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 28.4622ms
2025-08-25 16:17:53.769 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.776 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.781 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.783 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 36.0015ms
2025-08-25 16:17:53.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 37.3066ms
2025-08-25 16:17:53.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 16:17:53.789 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 38.8638ms
2025-08-25 16:17:53.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 39.4674ms
2025-08-25 16:17:53.799 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 16:17:53.809 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:53.816 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.834 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:53.837 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 16:17:53.837 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:53.839 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:53.847 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:53.850 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:53.857 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:53.857 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 16:17:53.857 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:17:53.951 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:53.952 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:53.979 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 16:17:54.069 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.069 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.073 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 206.5293ms.
2025-08-25 16:17:54.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.087 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 235.8533ms
2025-08-25 16:17:54.089 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 16:17:54.092 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 16:17:54.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 310.5473ms
2025-08-25 16:17:54.117 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.122 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 16:17:54.126 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.133 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 16:17:54.137 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 16:17:54.146 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.0412ms.
2025-08-25 16:17:54.149 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.164 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 33.6715ms
2025-08-25 16:17:54.166 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 16:17:54.168 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 75.8421ms
2025-08-25 16:17:54.174 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.180 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.204 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 339.666ms.
2025-08-25 16:17:54.210 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.222 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.236 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 382.5286ms
2025-08-25 16:17:54.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:54.238 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.246 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.247 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.249 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 439.9188ms
2025-08-25 16:17:54.254 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.266 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.269 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:54.282 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.306 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 437.6957ms.
2025-08-25 16:17:54.314 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 16:17:54.348 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 500.6592ms
2025-08-25 16:17:54.350 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 16:17:54.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 16:17:54.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 598.2746ms
2025-08-25 16:17:54.355 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.367 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 16:17:54.370 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.377 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:17:54.389 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:54.402 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:54.413 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.416 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.420 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.430 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.432 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.434 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 162.6759ms.
2025-08-25 16:17:54.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.437 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.438 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 169.4074ms
2025-08-25 16:17:54.444 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:54.448 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.450 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:17:54.451 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 213.7929ms
2025-08-25 16:17:54.455 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 74.0157ms.
2025-08-25 16:17:54.465 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.466 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 16:17:54.467 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.468 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 94.5761ms
2025-08-25 16:17:54.471 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:54.471 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 16:17:54.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 128.872ms
2025-08-25 16:17:54.504 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:54.550 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.599 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.603 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.5365ms.
2025-08-25 16:17:54.605 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.614 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 144.3756ms
2025-08-25 16:17:54.618 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:54.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 175.3433ms
2025-08-25 16:17:54.626 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.635 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.636 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.644 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:54.669 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:54.696 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.715 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.718 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.0543ms.
2025-08-25 16:17:54.721 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.729 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 91.5859ms
2025-08-25 16:17:54.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:54.733 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.736 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.737 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 118.9679ms
2025-08-25 16:17:54.739 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.750 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.753 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:54.791 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:54.849 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.921 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:54.930 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 175.2029ms.
2025-08-25 16:17:54.932 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:54.934 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 181.177ms
2025-08-25 16:17:54.935 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.936 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:17:54.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 204.3629ms
2025-08-25 16:17:54.942 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:17:54.952 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:54.953 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:17:54.957 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:17:54.992 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:17:55.011 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:55.019 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:17:55.021 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.86ms.
2025-08-25 16:17:55.023 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:17:55.025 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 69.5953ms
2025-08-25 16:17:55.026 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:17:55.027 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 91.0417ms
2025-08-25 16:18:08.671 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 16:18:08.671 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 16:18:08.672 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 16:18:08.672 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 16:18:08.675 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.677 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.680 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.683 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.685 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 13.9599ms
2025-08-25 16:18:08.686 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 15.253ms
2025-08-25 16:18:08.687 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 15.5312ms
2025-08-25 16:18:08.689 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 17.0041ms
2025-08-25 16:18:08.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:18:08.704 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 16:18:08.706 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.708 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.709 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:18:08.710 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 16:18:08.710 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:18:08.714 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:18:08.716 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:18:08.718 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAgentNotifications (backend) - Validation state: "Valid"
2025-08-25 16:18:08.730 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:18:08.730 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:18:08.738 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:08.745 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:08.747 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.7031ms.
2025-08-25 16:18:08.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:18:08.749 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 36.1316ms
2025-08-25 16:18:08.750 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 16:18:08.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 16:18:08.751 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:18:08.754 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAgentNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.2103ms.
2025-08-25 16:18:08.754 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.755 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 55.7058ms
2025-08-25 16:18:08.756 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:18:08.757 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:18:08.760 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:18:08.762 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 16:18:08.764 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:18:08.767 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:08.767 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 49.7299ms
2025-08-25 16:18:08.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 16:18:08.770 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 16:18:08.770 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:08.772 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:08.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 68.934ms
2025-08-25 16:18:08.775 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.1102ms.
2025-08-25 16:18:08.776 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 16:18:08.779 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:18:08.780 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 16:18:08.781 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 18.7688ms
2025-08-25 16:18:08.783 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAgentNotifications (backend) - Validation state: "Valid"
2025-08-25 16:18:08.783 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 16:18:08.785 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 34.5833ms
2025-08-25 16:18:08.786 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 16:18:08.794 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 16:18:08.797 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAgentNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1018ms.
2025-08-25 16:18:08.798 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:18:08.799 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 16.6697ms
2025-08-25 16:18:08.800 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 16:18:08.800 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 31.5403ms
2025-08-25 16:18:29.886 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 16:18:29.893 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:29.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 9.617ms
2025-08-25 16:18:29.901 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 16:18:29.902 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:29.902 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:18:29.903 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 16:18:29.905 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 16:18:29.906 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 16:18:29.906 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 16:18:29.907 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 16:18:29.907 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 16:18:29.935 +02:00 [INF] Received HTTP response headers after 27.4607ms - 200
2025-08-25 16:18:29.936 +02:00 [INF] End processing HTTP request after 29.3267ms - 200
2025-08-25 16:18:29.956 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 16:18:29.968 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:18:29.974 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 16:18:29.975 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 69.5489ms.
2025-08-25 16:18:29.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 16:18:29.977 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 72.6081ms
2025-08-25 16:18:29.978 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 16:18:29.979 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 77.7415ms
2025-08-25 16:18:31.658 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 16:18:31.659 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 16:18:31.662 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:31.667 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 9.0676ms
2025-08-25 16:18:31.668 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:31.672 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 16:18:31.673 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.4661ms
2025-08-25 16:18:31.676 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:31.684 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:18:31.697 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:18:31.702 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:18:31.772 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 16:18:31.930 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 16:18:32.001 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:32.018 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:18:32.074 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:18:32.120 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:18:32.134 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 428.3525ms.
2025-08-25 16:18:32.136 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 16:18:32.148 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 447.9376ms
2025-08-25 16:18:32.150 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 16:18:32.150 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:18:32.151 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:32.152 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 480.1487ms
2025-08-25 16:18:32.154 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:18:32.157 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:18:32.166 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:18:32.181 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 16:18:32.190 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 16:18:32.211 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:32.236 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:18:32.251 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:18:32.264 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:18:32.266 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.976ms.
2025-08-25 16:18:32.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 16:18:32.268 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 102.5564ms
2025-08-25 16:18:32.269 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:18:32.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 120.2791ms
2025-08-25 16:18:37.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 16:18:37.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 16:18:37.991 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:37.994 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:37.996 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 10.9705ms
2025-08-25 16:18:37.995 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 10.1367ms
2025-08-25 16:18:38.003 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 16:18:38.008 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 16:18:38.010 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:38.013 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:38.014 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 16:18:38.016 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 16:18:38.022 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:18:38.024 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:18:38.025 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 16:18:38.027 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetManagerNotifications (backend) - Validation state: "Valid"
2025-08-25 16:18:38.036 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 16:18:38.040 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 16:18:38.055 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:18:38.062 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.0165ms.
2025-08-25 16:18:38.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 16:18:38.077 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 52.8108ms
2025-08-25 16:18:38.080 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 16:18:38.081 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 78.2123ms
2025-08-25 16:18:38.086 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 16:18:38.095 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 16:18:38.140 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 16:18:38.150 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetManagerNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.9239ms.
2025-08-25 16:18:38.151 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 16:18:38.158 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 131.4324ms
2025-08-25 16:18:38.160 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 16:18:38.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 152.7445ms
2025-08-25 16:18:53.705 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/5/read - null null
2025-08-25 16:18:53.707 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:53.709 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/5/read - 204 null null 4.3233ms
2025-08-25 16:18:53.712 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/notifications/5/read - application/json 0
2025-08-25 16:18:53.714 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:18:53.715 +02:00 [INF] Executing endpoint 'backend.Controllers.NotificationController.MarkRead (backend)'
2025-08-25 16:18:53.718 +02:00 [INF] Route matched with {action = "MarkRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] MarkRead(Int64) on controller backend.Controllers.NotificationController (backend).
2025-08-25 16:18:53.720 +02:00 [INF] Executing action method backend.Controllers.NotificationController.MarkRead (backend) - Validation state: "Valid"
2025-08-25 16:18:53.730 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 16:18:53.748 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[Id] = @__id_0
2025-08-25 16:18:53.758 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int64), @p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [notifications] SET [Category] = @p0, [Message] = @p1, [Priority] = @p2, [read_status] = @p3, [recipient_id] = @p4, [sender_id] = @p5, [sent_at] = @p6, [Status] = @p7, [Title] = @p8, [via_email] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-08-25 16:18:53.759 +02:00 [INF] Executed action method backend.Controllers.NotificationController.MarkRead (backend), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 39.0066ms.
2025-08-25 16:18:53.764 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-25 16:18:53.764 +02:00 [INF] Executed action backend.Controllers.NotificationController.MarkRead (backend) in 45.2923ms
2025-08-25 16:18:53.765 +02:00 [INF] Executed endpoint 'backend.Controllers.NotificationController.MarkRead (backend)'
2025-08-25 16:18:53.765 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/notifications/5/read - 204 null null 53.4898ms
2025-08-25 16:25:43.227 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 16:25:43.232 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:25:43.235 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.2485ms
2025-08-25 16:25:43.242 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 16:25:43.246 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 16:25:43.248 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:25:43.251 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:25:43.254 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 12.2276ms
2025-08-25 16:25:43.257 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:25:43.260 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:25:43.262 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:25:43.297 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 16:25:43.315 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 16:25:43.338 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:25:43.364 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:25:43.382 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:25:43.395 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:25:43.398 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 134.8009ms.
2025-08-25 16:25:43.400 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 16:25:43.401 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 139.1899ms
2025-08-25 16:25:43.404 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:25:43.404 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 16:25:43.405 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 159.6184ms
2025-08-25 16:25:43.408 +02:00 [INF] CORS policy execution successful.
2025-08-25 16:25:43.413 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:25:43.415 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 16:25:43.418 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 16:25:43.425 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 16:25:43.438 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 16:25:43.448 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 16:25:43.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 16:25:43.464 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:25:43.479 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 16:25:43.484 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.2982ms.
2025-08-25 16:25:43.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 16:25:43.497 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 79.5049ms
2025-08-25 16:25:43.499 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 16:25:43.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 103.34ms
2025-08-25 17:01:33.545 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 17:01:33.557 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:33.559 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 14.9382ms
2025-08-25 17:01:33.563 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 17:01:33.567 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:33.573 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:01:33.576 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 17:01:33.609 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 17:01:33.611 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 17:01:33.625 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 17:01:33.631 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:01:33.633 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:01:33.747 +02:00 [INF] Received HTTP response headers after 113.7772ms - 200
2025-08-25 17:01:33.749 +02:00 [INF] End processing HTTP request after 118.0117ms - 200
2025-08-25 17:01:33.885 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 17:01:33.931 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:01:34.033 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 17:01:34.046 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:01:34.056 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 17:01:34.062 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 451.7176ms.
2025-08-25 17:01:34.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 17:01:34.065 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 487.4759ms
2025-08-25 17:01:34.066 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:01:34.067 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 504.5342ms
2025-08-25 17:01:34.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:01:34.299 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.300 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:01:34.302 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 13.8689ms
2025-08-25 17:01:34.306 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:01:34.311 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.314 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:01:34.316 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:01:34.318 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:01:34.324 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:01:34.327 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.328 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 27.7382ms
2025-08-25 17:01:34.335 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.338 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.341 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.344 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.346 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 39.7746ms
2025-08-25 17:01:34.352 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:01:34.354 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 40.3307ms
2025-08-25 17:01:34.354 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 38.3201ms
2025-08-25 17:01:34.356 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 32.6704ms
2025-08-25 17:01:34.358 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:01:34.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:34.363 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.380 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.385 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.387 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:01:34.389 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:01:34.389 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.390 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.392 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.396 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:01:34.403 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:34.419 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:34.427 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:34.433 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:01:34.441 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.7368ms.
2025-08-25 17:01:34.444 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:34.453 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.453 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 58.9972ms
2025-08-25 17:01:34.457 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:01:34.457 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.459 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:01:34.461 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.471 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 118.3493ms
2025-08-25 17:01:34.474 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:01:34.478 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.486 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.487 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:01:34.487 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.497 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:01:34.500 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.514ms.
2025-08-25 17:01:34.503 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.504 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.8963ms.
2025-08-25 17:01:34.506 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:34.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:34.520 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.522 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 121.1909ms
2025-08-25 17:01:34.522 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 36.5238ms
2025-08-25 17:01:34.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:34.528 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.534 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:01:34.537 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.538 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.549 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.1853ms.
2025-08-25 17:01:34.541 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 84.5282ms
2025-08-25 17:01:34.540 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 180.1455ms
2025-08-25 17:01:34.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:01:34.553 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.568 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.570 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 181.7732ms
2025-08-25 17:01:34.573 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:01:34.572 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:34.573 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:01:34.576 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.581 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 263.5527ms
2025-08-25 17:01:34.586 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:01:34.591 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.596 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:01:34.636 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:34.640 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:34.657 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.660 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.675 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.686 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.692 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 114.5812ms.
2025-08-25 17:01:34.697 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:34.704 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 132.3043ms
2025-08-25 17:01:34.708 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 185.2224ms
2025-08-25 17:01:34.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:34.728 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.734 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.740 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.742 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.750 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:34.873 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.884 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:34.892 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:34.901 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 301.3442ms.
2025-08-25 17:01:34.903 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:01:34.905 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 311.0358ms
2025-08-25 17:01:34.906 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:01:34.907 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 334.3175ms
2025-08-25 17:01:34.909 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.934 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:34.937 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.5463ms.
2025-08-25 17:01:34.940 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:34.941 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 196.6504ms
2025-08-25 17:01:34.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:34.943 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.949 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:34.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 225.7074ms
2025-08-25 17:01:34.953 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:34.956 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:34.959 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:34.977 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:35.001 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.010 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.017 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.5367ms.
2025-08-25 17:01:35.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:35.021 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 62.6339ms
2025-08-25 17:01:35.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:35.022 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:35.025 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:35.027 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 83.5465ms
2025-08-25 17:01:35.031 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:35.037 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:35.039 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:35.042 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:35.048 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.053 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.054 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7619ms.
2025-08-25 17:01:35.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:35.057 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 18.7963ms
2025-08-25 17:01:35.058 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:01:35.058 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:35.060 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:35.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 38.2943ms
2025-08-25 17:01:35.067 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:35.072 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:01:35.074 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:01:35.100 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:01:35.124 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.138 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:35.141 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.8312ms.
2025-08-25 17:01:35.142 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:01:35.143 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 68.9569ms
2025-08-25 17:01:35.146 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:01:35.148 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 89.8071ms
2025-08-25 17:01:45.570 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 17:01:45.578 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:45.581 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 11.0699ms
2025-08-25 17:01:45.588 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 17:01:45.593 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:45.595 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:01:45.597 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 17:01:45.602 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 17:01:45.603 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 17:01:45.604 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 17:01:45.605 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:01:45.605 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:01:45.623 +02:00 [INF] Received HTTP response headers after 17.0782ms - 200
2025-08-25 17:01:45.624 +02:00 [INF] End processing HTTP request after 19.4025ms - 200
2025-08-25 17:01:45.633 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 17:01:45.642 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:01:45.646 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:01:45.648 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.9933ms.
2025-08-25 17:01:45.650 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 17:01:45.651 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 51.3323ms
2025-08-25 17:01:45.653 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:01:45.653 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 65.8437ms
2025-08-25 17:01:45.777 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:01:45.782 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:01:45.785 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:45.794 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:45.795 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 18.2195ms
2025-08-25 17:01:45.798 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.5578ms
2025-08-25 17:01:45.813 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:01:45.822 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:45.827 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:01:45.832 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:01:45.838 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:01:45.861 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:01:45.894 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:01:45.938 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:45.955 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:46.031 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:01:46.062 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:01:46.079 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 236.466ms.
2025-08-25 17:01:46.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:01:46.086 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 249.327ms
2025-08-25 17:01:46.095 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:01:46.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:01:46.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 283.67ms
2025-08-25 17:01:46.100 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:01:46.112 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:01:46.114 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:01:46.117 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:01:46.128 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:01:46.138 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:01:46.149 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:01:46.162 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:01:46.169 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:01:46.182 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:01:46.191 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.1001ms.
2025-08-25 17:01:46.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:01:46.197 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 80.3628ms
2025-08-25 17:01:46.199 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:01:46.202 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 107.3897ms
2025-08-25 17:02:23.001 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 17:02:23.002 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:02:23.003 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:02:23.003 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 17:02:23.006 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.008 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.013 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.017 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.018 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 17.0411ms
2025-08-25 17:02:23.020 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 17.5674ms
2025-08-25 17:02:23.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 21.3004ms
2025-08-25 17:02:23.027 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 23.3344ms
2025-08-25 17:02:23.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:02:23.040 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 17:02:23.042 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.048 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.049 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:02:23.054 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:02:23.060 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:02:23.060 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:02:23.079 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:02:23.092 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 32.5858ms
2025-08-25 17:02:23.094 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:02:23.094 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:02:23.101 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetMyClients (backend) - Validation state: "Valid"
2025-08-25 17:02:23.102 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent not found with ID: 43
   at backend.Services.AgentService.GetAgentByIdAsync(Int64 id) in C:\Users\Lamelo\RiderProject\backend\backend\Services\AgentService.cs:line 114
   at backend.Controllers.AgentController.GetAttendanceStatus() in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 167
   at lambda_method903(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 17:02:23.131 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:02:23.216 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 120.3127ms
2025-08-25 17:02:23.218 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:02:23.219 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent not found with ID: 43
   at backend.Services.AgentService.GetAgentByIdAsync(Int64 id) in C:\Users\Lamelo\RiderProject\backend\backend\Services\AgentService.cs:line 114
   at backend.Controllers.AgentController.GetMyClients(String from, String to, CancellationToken ct) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 48
   at lambda_method1559(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 17:02:23.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 500 null application/json; charset=utf-8 246.5613ms
2025-08-25 17:02:23.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 500 null application/json; charset=utf-8 243.3336ms
2025-08-25 17:02:23.287 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 17:02:23.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:02:23.292 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.294 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:02:23.295 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:02:23.295 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:02:23.296 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:02:23.298 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:02:23.301 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetMyClients (backend) - Validation state: "Valid"
2025-08-25 17:02:23.303 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:02:23.380 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:02:23.383 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 84.2552ms
2025-08-25 17:02:23.384 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:02:23.384 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:02:23.386 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 84.9171ms
2025-08-25 17:02:23.387 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent not found with ID: 43
   at backend.Services.AgentService.GetAgentByIdAsync(Int64 id) in C:\Users\Lamelo\RiderProject\backend\backend\Services\AgentService.cs:line 114
   at backend.Controllers.AgentController.GetMyClients(String from, String to, CancellationToken ct) in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 48
   at lambda_method1559(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 17:02:23.397 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:02:23.404 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Agent not found with ID: 43
   at backend.Services.AgentService.GetAgentByIdAsync(Int64 id) in C:\Users\Lamelo\RiderProject\backend\backend\Services\AgentService.cs:line 114
   at backend.Controllers.AgentController.GetAttendanceStatus() in C:\Users\Lamelo\RiderProject\backend\backend\Controllers\AgentController.cs:line 167
   at lambda_method903(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at backend.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Lamelo\RiderProject\backend\backend\Middleware\RateLimitingMiddleware.cs:line 82
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-25 17:02:23.408 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 500 null application/json; charset=utf-8 120.7146ms
2025-08-25 17:02:23.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 500 null application/json; charset=utf-8 133.0769ms
2025-08-25 17:05:57.708 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:05:57.724 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:05:57.727 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:05:57.735 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:05:57.738 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 30.4637ms
2025-08-25 17:05:57.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.7774ms
2025-08-25 17:05:57.756 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:05:57.766 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:05:57.791 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:05:57.804 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:05:57.835 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:05:58.022 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:05:58.058 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:05:58.120 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:05:58.148 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:05:58.188 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:05:58.209 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:05:58.224 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 384.547ms.
2025-08-25 17:05:58.230 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:05:58.238 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 429.6814ms
2025-08-25 17:05:58.239 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:05:58.240 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:05:58.251 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:05:58.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 500.1638ms
2025-08-25 17:05:58.258 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:05:58.268 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:05:58.273 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:05:58.286 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:05:58.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:05:58.304 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:05:58.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:05:58.343 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:05:58.356 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:05:58.361 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85.6999ms.
2025-08-25 17:05:58.364 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:05:58.367 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 94.7053ms
2025-08-25 17:05:58.370 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:05:58.373 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 133.7886ms
2025-08-25 17:06:39.462 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:06:39.467 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:39.468 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:06:39.469 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.4487ms
2025-08-25 17:06:39.474 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:39.480 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:06:39.482 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.2761ms
2025-08-25 17:06:39.487 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:39.493 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:39.495 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:06:39.500 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:06:39.533 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:06:39.556 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:06:39.609 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:06:39.625 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:06:39.658 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:39.690 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:39.702 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 199.366ms.
2025-08-25 17:06:39.706 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:06:39.710 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 210.4912ms
2025-08-25 17:06:39.715 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:39.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:06:39.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 237.4054ms
2025-08-25 17:06:39.723 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:39.735 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:39.739 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:06:39.749 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:06:39.756 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:06:39.770 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:06:39.787 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:06:39.798 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:06:39.808 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:39.819 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:39.825 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.4709ms.
2025-08-25 17:06:39.830 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:06:39.832 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 87.6082ms
2025-08-25 17:06:39.834 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:39.836 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 119.2006ms
2025-08-25 17:06:44.709 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:06:44.715 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:44.718 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 8.3921ms
2025-08-25 17:06:44.731 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:06:44.741 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:44.747 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:44.751 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:06:44.758 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:06:44.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:06:44.767 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:06:44.777 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:06:44.791 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:06:44.797 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:44.803 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:44.809 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.3689ms.
2025-08-25 17:06:44.813 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:06:44.815 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 58.4345ms
2025-08-25 17:06:44.817 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:44.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 89.0441ms
2025-08-25 17:06:47.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:06:47.754 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:06:47.757 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:47.760 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:06:47.768 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:06:47.779 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:06:47.786 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:06:47.796 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:06:47.810 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:06:47.818 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:47.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:06:47.836 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 63.7766ms.
2025-08-25 17:06:47.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:06:47.847 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 80.2947ms
2025-08-25 17:06:47.851 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:06:47.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 106.6735ms
2025-08-25 17:06:52.839 +02:00 [INF] Application is shutting down...
2025-08-25 17:07:18.986 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:07:19.088 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:07:19.092 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:07:19.095 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:07:19.889 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 17:07:19.909 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 17:07:20.002 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 17:07:20.222 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 17:07:20.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 17:07:20.256 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 17:07:20.324 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 17:07:20.344 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 17:07:20.391 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 17:07:20.546 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 17:07:20.771 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 17:07:20.779 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 17:07:20.782 +02:00 [INF] Hosting environment: Development
2025-08-25 17:07:20.787 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 17:08:06.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 17:08:06.114 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 17:08:06.121 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:06.138 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 77.2254ms
2025-08-25 17:08:06.153 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 17:08:06.160 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:06.317 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:08:06.350 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 17:08:06.473 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 17:08:06.481 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 17:08:06.493 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 17:08:06.502 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:08:06.507 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:08:06.693 +02:00 [INF] Received HTTP response headers after 179.3394ms - 401
2025-08-25 17:08:06.699 +02:00 [INF] End processing HTTP request after 196.9672ms - 401
2025-08-25 17:08:06.709 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-25 17:08:06.726 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 243.5965ms.
2025-08-25 17:08:06.780 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:06.794 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 426.8339ms
2025-08-25 17:08:06.800 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:08:06.815 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 662.2789ms
2025-08-25 17:08:15.073 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 17:08:15.088 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:15.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 17.6277ms
2025-08-25 17:08:15.102 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 17:08:15.108 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:15.112 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:08:15.114 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 17:08:15.130 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 17:08:15.136 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-25 17:08:15.138 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-25 17:08:15.140 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:08:15.142 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:08:15.169 +02:00 [INF] Received HTTP response headers after 24.3818ms - 200
2025-08-25 17:08:15.171 +02:00 [INF] End processing HTTP request after 31.2083ms - 200
2025-08-25 17:08:15.824 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 17:08:16.207 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:08:16.284 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 17:08:16.295 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:08:16.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-25 17:08:16.365 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1229.6726ms.
2025-08-25 17:08:16.368 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 17:08:16.377 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1256.3053ms
2025-08-25 17:08:16.378 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:08:16.388 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1286.0888ms
2025-08-25 17:08:18.816 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:08:18.823 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:08:18.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:08:18.829 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.832 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:18.835 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:18.839 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:08:18.839 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.848 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.852 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 40.3579ms
2025-08-25 17:08:18.860 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.865 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.871 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.872 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 49.1393ms
2025-08-25 17:08:18.875 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 40.7526ms
2025-08-25 17:08:18.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:08:18.884 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 52.1086ms
2025-08-25 17:08:18.885 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 50.0646ms
2025-08-25 17:08:18.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 49.4733ms
2025-08-25 17:08:18.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:08:18.906 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.920 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:18.929 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.936 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:18.994 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:18.995 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:18.995 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:19.014 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:19.014 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:19.014 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:19.044 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:08:19.044 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:19.044 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:08:19.384 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:19.409 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:19.460 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:08:19.691 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:19.706 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:19.771 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 723.9367ms.
2025-08-25 17:08:19.791 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:19.850 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 829.0902ms
2025-08-25 17:08:19.856 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:08:19.952 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:19.958 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:19.968 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 1066.7981ms
2025-08-25 17:08:20.018 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:20.024 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:20.053 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:20.058 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.140 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:08:20.157 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1107.3957ms.
2025-08-25 17:08:20.166 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:20.175 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:08:20.196 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.0672ms.
2025-08-25 17:08:20.207 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:20.216 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 100.8137ms
2025-08-25 17:08:20.221 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 1203.4307ms
2025-08-25 17:08:20.223 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:20.224 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:20.232 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.235 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 379.1641ms
2025-08-25 17:08:20.244 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:20.255 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1334.6295ms
2025-08-25 17:08:20.267 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:20.275 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.303 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:20.318 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:20.357 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:20.388 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.390 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.438 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.446 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:20.452 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 129.5008ms.
2025-08-25 17:08:20.469 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:20.474 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 159.5055ms
2025-08-25 17:08:20.484 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 265.9664ms
2025-08-25 17:08:20.522 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1470.371ms.
2025-08-25 17:08:20.532 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:08:20.623 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 1598.6745ms
2025-08-25 17:08:20.625 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:08:20.625 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:20.631 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:20.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1751.1661ms
2025-08-25 17:08:20.638 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:20.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:20.644 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:20.649 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:20.653 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:08:20.654 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.657 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:20.667 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:20.685 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:20.692 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:20.728 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.735 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.768 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:20.789 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:20.822 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 152.2843ms.
2025-08-25 17:08:20.838 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:20.853 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 188.3826ms
2025-08-25 17:08:20.858 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.864 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 222.3118ms
2025-08-25 17:08:20.877 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:20.885 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:20.889 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:20.892 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:20.903 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:20.949 +02:00 [INF] Executed DbCommand (158ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:20.972 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:20.998 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.025 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.042 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:21.056 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 400.7136ms.
2025-08-25 17:08:21.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:08:21.072 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 419.5542ms
2025-08-25 17:08:21.074 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.077 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:21.089 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 464.1966ms
2025-08-25 17:08:21.091 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.825ms.
2025-08-25 17:08:21.220 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:21.224 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 323.2004ms
2025-08-25 17:08:21.233 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:21.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:21.238 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 360.4772ms
2025-08-25 17:08:21.255 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:21.269 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:21.272 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:21.282 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:21.323 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:21.356 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.385 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.390 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.2136ms.
2025-08-25 17:08:21.395 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:21.398 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 119.084ms
2025-08-25 17:08:21.401 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:21.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 169.4585ms
2025-08-25 17:08:21.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:21.429 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:21.431 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:21.433 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:21.437 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:21.466 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:21.498 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.532 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:21.539 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 98.8684ms.
2025-08-25 17:08:21.557 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:21.564 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 127.4841ms
2025-08-25 17:08:21.569 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:21.572 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 149.9251ms
2025-08-25 17:08:40.471 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:08:40.478 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.482 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:08:40.483 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:40.483 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 11.9519ms
2025-08-25 17:08:40.483 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-25 17:08:40.483 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:08:40.484 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:40.488 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.493 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.502 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:08:40.506 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.509 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.515 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.516 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 33.6674ms
2025-08-25 17:08:40.517 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 34.5544ms
2025-08-25 17:08:40.541 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:08:40.523 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 39.8599ms
2025-08-25 17:08:40.524 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 40.8624ms
2025-08-25 17:08:40.526 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 42.0179ms
2025-08-25 17:08:40.536 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:40.522 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.549 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.571 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.573 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:40.574 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:40.579 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:40.577 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:40.580 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:40.583 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:08:40.584 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:40.587 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:08:40.594 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:40.621 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:08:40.635 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.9697ms.
2025-08-25 17:08:40.637 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:40.640 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:40.641 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:40.650 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 63.8736ms
2025-08-25 17:08:40.656 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:08:40.663 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:40.673 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 134.4078ms
2025-08-25 17:08:40.687 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:40.701 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:40.706 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:08:40.712 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:40.722 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:40.732 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:08:40.742 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.9261ms.
2025-08-25 17:08:40.752 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:40.756 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:40.757 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 51.2795ms
2025-08-25 17:08:40.759 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:40.766 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 166.8825ms.
2025-08-25 17:08:40.767 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:08:40.788 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:40.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 135.0862ms
2025-08-25 17:08:40.799 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 207.5764ms
2025-08-25 17:08:40.805 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:40.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:40.808 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:40.819 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:40.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 285.0883ms
2025-08-25 17:08:40.824 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:40.838 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:40.850 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:41.029 +02:00 [INF] Executed DbCommand (208ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.039 +02:00 [INF] Executed DbCommand (185ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.058 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:41.066 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 477.2982ms.
2025-08-25 17:08:41.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:08:41.073 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 490.0851ms
2025-08-25 17:08:41.077 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:41.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-25 17:08:41.082 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.082 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 579.8923ms
2025-08-25 17:08:41.087 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:41.101 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.104 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:41.108 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 256.166ms.
2025-08-25 17:08:41.109 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:41.117 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:41.121 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:08:41.123 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 274.9557ms
2025-08-25 17:08:41.130 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:41.134 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.139 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:41.140 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.141 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 334.8828ms
2025-08-25 17:08:41.143 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.163 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:41.164 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.169 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:41.201 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2), @__toDate_Value_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1 AND [c].[proposal_date] <= @__toDate_Value_2
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:41.218 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.350 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:41.369 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.391 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.395 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.403 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:41.408 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 230.0299ms.
2025-08-25 17:08:41.424 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 299.2847ms.
2025-08-25 17:08:41.438 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:41.453 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-25 17:08:41.458 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 289.4073ms
2025-08-25 17:08:41.466 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 346.5228ms
2025-08-25 17:08:41.471 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.475 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-25 17:08:41.482 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 351.9967ms
2025-08-25 17:08:41.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 406.8891ms
2025-08-25 17:08:41.500 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:41.514 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:41.517 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.520 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:41.533 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:41.595 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.623 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.639 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.648 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.923ms.
2025-08-25 17:08:41.650 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:41.653 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 122.4281ms
2025-08-25 17:08:41.655 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:41.658 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 158.5669ms
2025-08-25 17:08:41.664 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:41.674 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.678 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:41.683 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:41.709 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.734 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.757 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.764 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.5694ms.
2025-08-25 17:08:41.769 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:41.772 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 89.8645ms
2025-08-25 17:08:41.775 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.777 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 121.8923ms
2025-08-25 17:08:41.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:41.790 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:41.793 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.796 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:41.801 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:41.822 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:41.840 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.853 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:41.858 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.4671ms.
2025-08-25 17:08:41.862 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:41.864 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 63.9216ms
2025-08-25 17:08:41.866 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:41.868 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 82.8714ms
2025-08-25 17:08:48.035 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 17:08:48.035 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:48.038 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - null null
2025-08-25 17:08:48.038 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:08:48.041 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.045 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.051 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.059 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.061 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 26.0389ms
2025-08-25 17:08:48.062 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 27.1777ms
2025-08-25 17:08:48.064 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/clients?from=auto - 204 null null 26.0068ms
2025-08-25 17:08:48.067 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 28.2902ms
2025-08-25 17:08:48.083 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 17:08:48.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:48.099 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.104 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.106 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:08:48.107 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:48.110 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:48.117 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:48.127 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:48.139 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:48.143 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetMyClients (backend) - Validation state: "Valid"
2025-08-25 17:08:48.152 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:48.156 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:48.167 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:48.174 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:48.176 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetMyClients (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.6442ms.
2025-08-25 17:08:48.179 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.4419ms.
2025-08-25 17:08:48.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:08:48.182 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:48.187 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 73.8022ms
2025-08-25 17:08:48.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:08:48.191 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:48.196 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 103.1094ms
2025-08-25 17:08:48.200 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:48.205 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:48.208 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:08:48.213 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:48.218 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:48.226 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:08:48.231 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.643ms.
2025-08-25 17:08:48.233 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:08:48.236 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 27.8644ms
2025-08-25 17:08:48.239 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:08:48.242 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 51.1571ms
2025-08-25 17:08:48.281 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 150.0842ms
2025-08-25 17:08:48.285 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:08:48.286 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - application/json null
2025-08-25 17:08:48.289 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 206.4629ms
2025-08-25 17:08:48.294 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:08:48.300 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:08:48.302 +02:00 [INF] Route matched with {action = "GetMyClients", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[backend.Models.CollectedProposal]]] GetMyClients(System.String, System.String, System.Threading.CancellationToken) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:08:48.308 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetMyClients (backend) - Validation state: "Valid"
2025-08-25 17:08:48.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:08:48.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:08:48.335 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetMyClients (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.7067ms.
2025-08-25 17:08:48.339 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.CollectedProposal, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:08:48.342 +02:00 [INF] Executed action backend.Controllers.AgentController.GetMyClients (backend) in 36.2174ms
2025-08-25 17:08:48.345 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetMyClients (backend)'
2025-08-25 17:08:48.349 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/clients?from=auto - 200 null application/json; charset=utf-8 62.8682ms
2025-08-25 17:09:03.787 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:03.788 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:03.793 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:03.795 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:03.805 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:03.811 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:03.816 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:03.894 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:03.901 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 113.9058ms
2025-08-25 17:09:03.903 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 115.4297ms
2025-08-25 17:09:03.906 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 112.6262ms
2025-08-25 17:09:03.910 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 114.779ms
2025-08-25 17:09:03.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:03.959 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:03.962 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:03.965 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:03.973 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:04.009 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.031 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.050 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.055 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 76.1368ms.
2025-08-25 17:09:04.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.063 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 91.8152ms
2025-08-25 17:09:04.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:04.065 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.070 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 152.4067ms
2025-08-25 17:09:04.074 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 17:09:04.082 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.087 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.091 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:04.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 14.3362ms
2025-08-25 17:09:04.101 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 17:09:04.112 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.113 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.133 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 17:09:04.134 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.147 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.5107ms.
2025-08-25 17:09:04.154 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.211 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.280 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceHistory (backend) - Validation state: "Valid"
2025-08-25 17:09:04.297 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 206.8407ms
2025-08-25 17:09:04.299 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:04.355 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.368 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.369 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.371 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 305.9919ms
2025-08-25 17:09:04.374 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.392 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.451 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.458 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:04.496 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.511 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.527 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.547 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.547 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.579 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.582 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceHistory (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 276.1048ms.
2025-08-25 17:09:04.586 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 107.2333ms.
2025-08-25 17:09:04.588 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.596 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 139.3528ms
2025-08-25 17:09:04.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:04.598 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.602 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 323.1501ms
2025-08-25 17:09:04.603 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.605 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 305.1552ms
2025-08-25 17:09:04.607 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 17:09:04.609 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-25 17:09:04.616 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 512.7108ms
2025-08-25 17:09:04.619 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.624 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-25 17:09:04.633 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:04.640 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 17:09:04.644 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.649 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.650 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 21.2657ms
2025-08-25 17:09:04.655 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceHistory (backend) - Validation state: "Valid"
2025-08-25 17:09:04.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:09:04.669 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.680 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.688 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:09:04.691 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.697 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:09:04.700 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:04.709 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.713 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.726 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.5403ms.
2025-08-25 17:09:04.730 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.735 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.735 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:04.736 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 39.9232ms
2025-08-25 17:09:04.751 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.172ms.
2025-08-25 17:09:04.753 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:09:04.756 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.757 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.760 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 94.8829ms
2025-08-25 17:09:04.772 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 140.278ms
2025-08-25 17:09:04.783 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.786 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:04.795 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 197.2079ms
2025-08-25 17:09:04.804 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.816 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceHistory (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 148.3546ms.
2025-08-25 17:09:04.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.828 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 173.2172ms
2025-08-25 17:09:04.832 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-25 17:09:04.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 219.8806ms
2025-08-25 17:09:04.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-25 17:09:04.892 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:04.896 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:09:04.898 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:04.902 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend) - Validation state: "Valid"
2025-08-25 17:09:04.922 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:04.929 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceTimeframe (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.8713ms.
2025-08-25 17:09:04.936 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:04.948 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 46.1212ms
2025-08-25 17:09:04.953 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-25 17:09:04.958 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 74.0233ms
2025-08-25 17:09:41.375 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 17:09:41.377 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:41.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 17:09:41.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:09:41.383 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.387 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.391 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.396 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.397 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 22.1496ms
2025-08-25 17:09:41.398 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 21.0229ms
2025-08-25 17:09:41.399 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 18.5597ms
2025-08-25 17:09:41.400 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 19.7712ms
2025-08-25 17:09:41.414 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:41.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 17:09:41.421 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.424 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.427 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 17:09:41.427 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:41.431 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:41.434 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:41.440 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:41.444 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetPerformance (backend) - Validation state: "Valid"
2025-08-25 17:09:41.452 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:41.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:41.464 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.472 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.475 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.514ms.
2025-08-25 17:09:41.479 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:41.481 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 47.1495ms
2025-08-25 17:09:41.482 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:41.483 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:09:41.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 69.0398ms
2025-08-25 17:09:41.486 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.490 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:41.491 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:41.493 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:09:41.494 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.496 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:41.502 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.505 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.509 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.510 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.6068ms.
2025-08-25 17:09:41.515 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:09:41.519 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 26.2641ms
2025-08-25 17:09:41.520 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:09:41.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 38.963ms
2025-08-25 17:09:41.524 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.536 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.547 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.557 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetPerformance (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.6036ms.
2025-08-25 17:09:41.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-25 17:09:41.580 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 137.156ms
2025-08-25 17:09:41.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-25 17:09:41.583 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 17:09:41.585 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:09:41.587 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 168.2946ms
2025-08-25 17:09:41.589 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 17:09:41.595 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-25 17:09:41.599 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetPerformance (backend) - Validation state: "Valid"
2025-08-25 17:09:41.602 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:09:41.607 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.613 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.616 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.619 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.627 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:09:41.633 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.638 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:09:41.642 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetPerformance (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.5524ms.
2025-08-25 17:09:41.647 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-25 17:09:41.649 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 50.755ms
2025-08-25 17:09:41.650 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-25 17:09:41.651 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 68.6876ms
2025-08-25 17:10:16.193 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 17:10:16.194 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:10:16.196 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-25 17:10:16.196 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-25 17:10:16.199 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.202 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.205 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.207 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.210 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 17.2039ms
2025-08-25 17:10:16.211 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 16.8936ms
2025-08-25 17:10:16.212 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 16.1317ms
2025-08-25 17:10:16.214 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 18.0259ms
2025-08-25 17:10:16.235 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 17:10:16.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:10:16.246 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.251 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.254 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 17:10:16.254 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:10:16.257 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:10:16.260 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:10:16.260 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:10:16.266 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAgentNotifications (backend) - Validation state: "Valid"
2025-08-25 17:10:16.275 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:10:16.276 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:10:16.288 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:10:16.301 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:10:16.305 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 43.9474ms.
2025-08-25 17:10:16.308 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:10:16.310 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 51.1966ms
2025-08-25 17:10:16.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-25 17:10:16.313 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:10:16.318 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 78.5554ms
2025-08-25 17:10:16.327 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:10:16.335 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:10:16.345 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAttendanceStatus (backend) - Validation state: "Valid"
2025-08-25 17:10:16.354 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:10:16.360 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:10:16.364 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:10:16.368 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAttendanceStatus (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.173ms.
2025-08-25 17:10:16.370 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:10:16.371 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 17:10:16.372 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 29.4274ms
2025-08-25 17:10:16.375 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-25 17:10:16.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 64.4403ms
2025-08-25 17:10:16.438 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAgentNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.4794ms.
2025-08-25 17:10:16.440 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:10:16.457 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 191.0084ms
2025-08-25 17:10:16.459 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-25 17:10:16.459 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 17:10:16.463 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:10:16.466 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 230.3369ms
2025-08-25 17:10:16.468 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 17:10:16.471 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-25 17:10:16.474 +02:00 [INF] Executing action method backend.Controllers.AgentController.GetAgentNotifications (backend) - Validation state: "Valid"
2025-08-25 17:10:16.477 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-25 17:10:16.484 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 17:10:16.491 +02:00 [INF] Executed action method backend.Controllers.AgentController.GetAgentNotifications (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.0285ms.
2025-08-25 17:10:16.494 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType17`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:10:16.499 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 25.4431ms
2025-08-25 17:10:16.507 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-25 17:10:16.511 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 51.4979ms
2025-08-25 17:11:01.373 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-25 17:11:01.379 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:01.382 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 9.0654ms
2025-08-25 17:11:01.386 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-25 17:11:01.388 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:01.389 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:11:01.390 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-25 17:11:01.395 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-25 17:11:01.397 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-25 17:11:01.400 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-25 17:11:01.401 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:11:01.402 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-25 17:11:01.444 +02:00 [INF] Received HTTP response headers after 40.8024ms - 200
2025-08-25 17:11:01.445 +02:00 [INF] End processing HTTP request after 44.0418ms - 200
2025-08-25 17:11:01.475 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-25 17:11:01.505 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:11:01.515 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-25 17:11:01.524 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.3109ms.
2025-08-25 17:11:01.528 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-25 17:11:01.530 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 138.1883ms
2025-08-25 17:11:01.531 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-25 17:11:01.532 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 145.6881ms
2025-08-25 17:11:03.266 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:11:03.268 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:11:03.279 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:03.304 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 38.3863ms
2025-08-25 17:11:03.305 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:03.320 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:11:03.333 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 64.8027ms
2025-08-25 17:11:03.361 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:03.420 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:11:03.487 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:11:03.528 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:11:03.723 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:11:03.803 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:11:03.838 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:11:03.871 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:11:04.013 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:11:04.168 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:11:04.180 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 642.5173ms.
2025-08-25 17:11:04.183 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:11:04.204 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 696.6801ms
2025-08-25 17:11:04.206 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:11:04.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:11:04.210 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 889.2919ms
2025-08-25 17:11:04.215 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:04.222 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:11:04.229 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:11:04.237 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetDashboard (backend) - Validation state: "Valid"
2025-08-25 17:11:04.272 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:11:04.320 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:11:04.340 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:11:04.352 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:11:04.370 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:11:04.433 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:11:04.437 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetDashboard (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 197.3861ms.
2025-08-25 17:11:04.439 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:11:04.441 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 206.3866ms
2025-08-25 17:11:04.445 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:11:04.447 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 240.9373ms
2025-08-25 17:11:19.585 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:11:19.593 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:19.595 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 10.7209ms
2025-08-25 17:11:19.603 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:11:19.608 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:19.610 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:11:19.623 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:11:19.635 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 17:11:19.656 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:11:19.682 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:11:19.692 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.9247ms.
2025-08-25 17:11:19.701 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:11:19.721 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 90.6309ms
2025-08-25 17:11:19.723 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:11:19.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 122.459ms
2025-08-25 17:11:25.242 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:11:25.246 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:25.249 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 6.9409ms
2025-08-25 17:11:25.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:11:25.262 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:11:25.264 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:11:25.266 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:11:25.269 +02:00 [INF] Executing action method backend.Controllers.ManagerController.GetAgents (backend) - Validation state: "Valid"
2025-08-25 17:11:25.280 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:11:25.294 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:11:25.300 +02:00 [INF] Executed action method backend.Controllers.ManagerController.GetAgents (backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.3304ms.
2025-08-25 17:11:25.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:11:25.304 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 35.5482ms
2025-08-25 17:11:25.307 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:11:25.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 53.6978ms
2025-08-25 17:11:54.660 +02:00 [INF] Application is shutting down...
2025-08-25 17:15:33.984 +02:00 [WRN] No store type was specified for the decimal property 'Premium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:15:34.048 +02:00 [WRN] No store type was specified for the decimal property 'RiskPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:15:34.057 +02:00 [WRN] No store type was specified for the decimal property 'SavingsPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:15:34.062 +02:00 [WRN] No store type was specified for the decimal property 'TotalPremium' on entity type 'CollectedProposal'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-25 17:15:34.555 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 17:15:34.565 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-25 17:15:34.651 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-25 17:15:34.774 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-25 17:15:34.786 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-25 17:15:34.794 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-25 17:15:34.896 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-25 17:15:34.905 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-25 17:15:34.916 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-25 17:15:35.096 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 17:15:35.235 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-25 17:15:35.237 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 17:15:35.239 +02:00 [INF] Hosting environment: Development
2025-08-25 17:15:35.240 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-25 17:16:07.648 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:16:07.745 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 17:16:07.774 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:16:07.833 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 184.0134ms
2025-08-25 17:16:07.880 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:16:07.919 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:16:08.236 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:16:08.289 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:16:08.983 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:16:09.261 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:16:09.420 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:16:09.585 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:16:09.735 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:16:09.946 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:16:10.066 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:16:10.144 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1812.9905ms
2025-08-25 17:16:10.168 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:16:10.236 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 2355.8849ms
2025-08-25 17:18:00.958 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:18:00.981 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:18:00.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 36.304ms
2025-08-25 17:18:01.001 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:18:01.006 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:18:01.053 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:18:01.060 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:18:01.289 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:18:01.310 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:18:01.340 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:18:01.356 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:18:01.384 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:18:01.396 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:18:01.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:18:01.419 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 356.6009ms
2025-08-25 17:18:01.421 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:18:01.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 422.7836ms
2025-08-25 17:19:00.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:19:00.963 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:19:00.973 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 68.0584ms
2025-08-25 17:19:01.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:19:01.029 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:19:01.146 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:01.359 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:19:01.713 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:19:01.990 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:19:02.691 +02:00 [INF] Executed DbCommand (217ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:19:02.859 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:19:03.040 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:03.140 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:03.557 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:19:03.877 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 2452.0175ms
2025-08-25 17:19:04.347 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:04.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 3637.8732ms
2025-08-25 17:19:12.488 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:19:12.520 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:19:12.530 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 41.678ms
2025-08-25 17:19:12.566 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:19:12.575 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:19:12.584 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:12.586 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:19:12.630 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:19:12.640 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:19:12.666 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:19:12.683 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:19:12.763 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:12.935 +02:00 [INF] Executed DbCommand (148ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:12.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:19:12.960 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 370.03ms
2025-08-25 17:19:12.963 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:12.966 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 400.0871ms
2025-08-25 17:19:17.182 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:19:17.186 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:19:17.188 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:17.189 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:19:17.222 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:19:17.231 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:19:17.241 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:19:17.248 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:19:17.262 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:17.278 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:19:17.283 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:19:17.289 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 90.8987ms
2025-08-25 17:19:17.292 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:19:17.296 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 112.5179ms
2025-08-25 17:20:23.012 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:20:23.018 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:20:23.021 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 8.9986ms
2025-08-25 17:20:23.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:20:23.029 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:20:23.031 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:20:23.036 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:20:23.058 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:20:23.064 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:20:23.077 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:20:23.084 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:20:23.095 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:20:23.105 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:20:23.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:20:23.115 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 69.2675ms
2025-08-25 17:20:23.119 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:20:23.122 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 96.1568ms
2025-08-25 17:21:32.100 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:21:32.104 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:32.106 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 6.0973ms
2025-08-25 17:21:32.110 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:21:32.113 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:32.115 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:32.116 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:21:32.158 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:21:32.167 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:21:32.186 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:21:32.207 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:21:32.231 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:32.253 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:32.260 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:21:32.264 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 144.7956ms
2025-08-25 17:21:32.266 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:32.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 157.845ms
2025-08-25 17:21:43.125 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:21:43.131 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:43.135 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.277ms
2025-08-25 17:21:43.150 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:21:43.165 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:43.174 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:43.176 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:21:43.196 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:21:43.205 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:21:43.222 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:21:43.234 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:21:43.250 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:43.265 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:43.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:21:43.273 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 94.0961ms
2025-08-25 17:21:43.277 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:43.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 130.4687ms
2025-08-25 17:21:49.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:21:49.742 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:49.744 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.3475ms
2025-08-25 17:21:49.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:21:49.761 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:21:49.763 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:49.767 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:21:49.805 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:21:49.816 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:21:49.839 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:21:49.863 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:21:49.881 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:49.903 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:21:49.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:21:49.914 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 143.6399ms
2025-08-25 17:21:49.918 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:21:49.920 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 165.6045ms
2025-08-25 17:22:22.077 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:22:22.088 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:22.092 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.4645ms
2025-08-25 17:22:22.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:22:22.104 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:22.109 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:22:22.111 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:22.129 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:22:22.140 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:22.156 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:22.170 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:22:22.177 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:22:22.202 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:22:22.212 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:22:22.218 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 104.4257ms
2025-08-25 17:22:22.225 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:22:22.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 131.6708ms
2025-08-25 17:22:26.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:22:26.502 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:26.507 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:22:26.511 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:26.537 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:22:26.549 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:26.565 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:26.584 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:22:26.595 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:22:26.625 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:22:26.630 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:22:26.635 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 115.9489ms
2025-08-25 17:22:26.641 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:22:26.644 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 150.1514ms
2025-08-25 17:22:37.689 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:22:37.699 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:37.702 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 12.5538ms
2025-08-25 17:22:37.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:22:37.710 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:37.715 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:37.758 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:37.784 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:37.812 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:37.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:22:37.836 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 71.9086ms
2025-08-25 17:22:37.840 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:37.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 135.6347ms
2025-08-25 17:22:44.243 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:22:44.249 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:44.252 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 8.8422ms
2025-08-25 17:22:44.258 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:22:44.262 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:44.289 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:44.292 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:44.307 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:44.321 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:44.324 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:22:44.326 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 27.1409ms
2025-08-25 17:22:44.327 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:44.328 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 70.2083ms
2025-08-25 17:22:49.052 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-25 17:22:49.054 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:22:49.059 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:49.067 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:49.070 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 17.9123ms
2025-08-25 17:22:49.072 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:49.082 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-25 17:22:49.084 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:49.089 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:49.095 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 17:22:49.118 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:49.139 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:49.151 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:49.156 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:22:49.158 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 66.1457ms
2025-08-25 17:22:49.161 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:22:49.162 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 107.8827ms
2025-08-25 17:22:49.257 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-25 17:22:49.312 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 17:22:49.395 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-25 17:22:49.443 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-25 17:22:49.456 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:22:49.496 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 349.981ms
2025-08-25 17:22:49.498 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-25 17:22:49.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 417.4899ms
2025-08-25 17:22:56.439 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 17:22:56.446 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:56.447 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 8.907ms
2025-08-25 17:22:56.455 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 17:22:56.458 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:22:56.463 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 17:22:56.484 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:22:56.516 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:22:56.530 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:22:56.540 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:56.575 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:22:56.581 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:22:56.585 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:22:56.589 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:22:56.591 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:22:56.593 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 105.7649ms
2025-08-25 17:22:56.594 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 17:22:56.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 141.3488ms
2025-08-25 17:23:00.567 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:23:00.573 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:23:00.575 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.1118ms
2025-08-25 17:23:00.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:23:00.588 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:23:00.590 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:23:00.591 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:23:00.602 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:23:00.610 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:23:00.625 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:23:00.632 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:23:00.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:23:00.652 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:23:00.658 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:23:00.659 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 65.2984ms
2025-08-25 17:23:00.660 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:23:00.661 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 78.3699ms
2025-08-25 17:23:42.211 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - null null
2025-08-25 17:23:42.215 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:23:42.218 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-25 - 204 null null 6.6422ms
2025-08-25 17:23:42.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - application/json null
2025-08-25 17:23:42.231 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:23:42.233 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 17:23:42.236 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:23:42.251 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:23:42.258 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:23:42.276 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:23:42.285 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:23:42.292 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:23:42.306 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:23:42.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-25 17:23:42.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-25 17:23:42.340 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 101.2251ms
2025-08-25 17:23:42.343 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-25 17:23:42.346 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-25 - 200 null application/json; charset=utf-8 118.5483ms
2025-08-25 17:26:23.542 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:26:23.554 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:23.558 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 16.0751ms
2025-08-25 17:26:23.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:26:23.569 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:23.573 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:23.576 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:26:23.612 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:26:23.628 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:26:23.658 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:26:23.673 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:26:23.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:23.691 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:23.693 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:26:23.695 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 116.9836ms
2025-08-25 17:26:23.696 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:23.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 133.5594ms
2025-08-25 17:26:26.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:26:26.257 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:26.259 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:26.260 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:26:26.272 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:26:26.277 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:26:26.290 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:26:26.297 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:26:26.301 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:26.310 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:26.314 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:26:26.316 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 52.5901ms
2025-08-25 17:26:26.317 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:26.319 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 67.9376ms
2025-08-25 17:26:28.060 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:26:28.062 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-25 17:26:28.067 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:28.075 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:28.081 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 19.9624ms
2025-08-25 17:26:28.086 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 23.7773ms
2025-08-25 17:26:28.107 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:26:28.116 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:28.120 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:26:28.123 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:26:28.139 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:26:28.150 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:26:28.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:26:28.155 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 28.1861ms
2025-08-25 17:26:28.156 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-25 17:26:28.156 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:26:28.159 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:28.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 52.6208ms
2025-08-25 17:26:28.163 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:26:28.167 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:26:28.171 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:26:28.175 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:26:28.177 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 17:26:28.180 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 10.533ms
2025-08-25 17:26:28.182 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-25 17:26:28.183 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 27.5311ms
2025-08-25 17:26:31.319 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-25 17:26:31.327 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:31.329 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.1443ms
2025-08-25 17:26:31.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-25 17:26:31.347 +02:00 [INF] CORS policy execution successful.
2025-08-25 17:26:31.358 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:31.364 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-25 17:26:31.379 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-25 17:26:31.387 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[external_distribution_channel_id], [a].[external_user_id], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-25 17:26:31.398 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-25 17:26:31.407 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__fromDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[id], [c].[agent_id], [c].[converted], [c].[converted_date], [c].[customer_code], [c].[customer_name], [c].[due_date], [c].[fetched_at_utc], [c].[institutions], [c].[payment_mode], [c].[premium], [c].[premium_frequency], [c].[proposal_date], [c].[proposal_number], [c].[risk_premium], [c].[savings_premium], [c].[total_premium]
FROM [collected_proposals] AS [c]
WHERE [c].[agent_id] = @__agentId_0 AND [c].[proposal_date] >= @__fromDate_1
ORDER BY [c].[proposal_date] DESC
2025-08-25 17:26:31.414 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[external_distribution_channel_id], [a0].[external_user_id], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:31.433 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-25 17:26:31.437 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-25 17:26:31.439 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 69.9618ms
2025-08-25 17:26:31.448 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-25 17:26:31.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 115.4685ms
2025-08-25 17:36:00.109 +02:00 [INF] Application is shutting down...
