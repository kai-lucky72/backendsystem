2025-08-24 07:30:38.526 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 07:30:38.654 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 07:30:38.997 +02:00 [INF] Executed DbCommand (314ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 07:30:39.274 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 07:30:39.284 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 07:30:39.289 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 07:30:39.484 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 07:30:39.494 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-24 07:30:39.522 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 07:30:39.761 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 07:30:39.896 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-24 07:30:39.900 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 07:30:39.901 +02:00 [INF] Hosting environment: Development
2025-08-24 07:30:39.903 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-24 07:35:22.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 07:35:22.297 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 07:35:22.304 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:22.336 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 72.1939ms
2025-08-24 07:35:22.379 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 07:35:22.414 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:22.600 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 07:35:22.640 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 07:35:22.747 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 07:35:22.757 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 07:35:22.769 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 07:35:22.772 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 07:35:23.042 +02:00 [INF] Received HTTP response headers after 266.2668ms - 200
2025-08-24 07:35:23.045 +02:00 [INF] End processing HTTP request after 278.731ms - 200
2025-08-24 07:35:23.559 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 07:35:23.797 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 07:35:23.831 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 07:35:23.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 07:35:23.904 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1252.3131ms
2025-08-24 07:35:23.912 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 07:35:23.930 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1549.5394ms
2025-08-24 07:35:26.984 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 07:35:26.984 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 07:35:26.995 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:26.997 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 12.6ms
2025-08-24 07:35:26.997 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:27.002 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 07:35:27.003 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 19.111ms
2025-08-24 07:35:27.006 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:27.179 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:27.200 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 07:35:27.436 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 07:35:27.582 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 07:35:27.737 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 07:35:27.923 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:28.103 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:28.213 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 07:35:28.248 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1035.7167ms
2025-08-24 07:35:28.253 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 07:35:28.255 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:28.264 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:28.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1267.7685ms
2025-08-24 07:35:28.292 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:28.312 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 07:35:28.474 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 07:35:28.554 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 07:35:28.622 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 07:35:28.753 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:28.871 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:28.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 07:35:28.880 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 557.4052ms
2025-08-24 07:35:28.883 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:28.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 631.6843ms
2025-08-24 07:35:43.487 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 07:35:43.492 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:43.494 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.582ms
2025-08-24 07:35:43.507 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 07:35:43.520 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:35:43.536 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:43.539 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 07:35:43.691 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 07:35:43.717 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 07:35:43.741 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 07:35:43.790 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:43.960 +02:00 [INF] Executed DbCommand (156ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:35:43.966 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 07:35:43.970 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 426.7955ms
2025-08-24 07:35:43.974 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:35:43.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 471.4183ms
2025-08-24 07:36:24.362 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 07:36:24.370 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:36:24.375 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 12.7957ms
2025-08-24 07:36:24.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 07:36:24.391 +02:00 [INF] CORS policy execution successful.
2025-08-24 07:36:24.394 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:36:24.397 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 07:36:24.434 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 07:36:24.459 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 07:36:24.472 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 07:36:24.484 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:36:24.555 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 07:36:24.558 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 07:36:24.562 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 158.4143ms
2025-08-24 07:36:24.566 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 07:36:24.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 184.1785ms
2025-08-24 08:00:16.343 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:00:16.374 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:16.382 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 41.0243ms
2025-08-24 08:00:16.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:00:16.461 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:16.577 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:16.605 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:00:17.043 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:00:17.138 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:00:17.244 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:00:17.314 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:17.381 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:17.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:00:17.476 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 843.7028ms
2025-08-24 08:00:17.489 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:17.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1090.3571ms
2025-08-24 08:00:49.296 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:00:49.300 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:49.306 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.3226ms
2025-08-24 08:00:49.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:00:49.321 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:49.332 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:49.337 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:00:49.553 +02:00 [INF] Executed DbCommand (190ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:00:49.618 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:00:49.714 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:00:49.815 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:50.140 +02:00 [INF] Executed DbCommand (287ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:50.150 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:00:50.161 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 816.606ms
2025-08-24 08:00:50.168 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:50.170 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 853.7382ms
2025-08-24 08:00:56.701 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:00:56.706 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:56.708 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 7.1046ms
2025-08-24 08:00:56.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:00:56.734 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:00:56.739 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:56.742 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:00:56.861 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:00:56.986 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:00:57.091 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:00:57.140 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:57.460 +02:00 [INF] Executed DbCommand (262ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:00:57.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:00:57.476 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 722.2888ms
2025-08-24 08:00:57.478 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:00:57.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 756.7183ms
2025-08-24 08:02:59.532 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:02:59.539 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:02:59.541 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 9.178ms
2025-08-24 08:02:59.548 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:02:59.553 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:02:59.563 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:02:59.577 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:02:59.704 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:02:59.772 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:02:59.835 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:02:59.956 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:03:00.067 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:03:00.088 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:03:00.094 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 506.5949ms
2025-08-24 08:03:00.098 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:03:00.107 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 556.8769ms
2025-08-24 08:08:41.672 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:08:41.702 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:08:41.710 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 41.878ms
2025-08-24 08:08:41.721 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:08:41.726 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:08:41.807 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:08:41.826 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:08:42.192 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:08:42.309 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:08:42.399 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:08:42.486 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:08:42.577 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:08:42.606 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:08:42.639 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 802.8024ms
2025-08-24 08:08:42.649 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:08:42.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 951.094ms
2025-08-24 08:09:10.182 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:09:10.188 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:09:10.193 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.8802ms
2025-08-24 08:09:10.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:09:10.212 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:09:10.218 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:09:10.221 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:09:10.460 +02:00 [INF] Executed DbCommand (208ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:09:10.562 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:09:10.662 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:09:10.932 +02:00 [INF] Executed DbCommand (226ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:09:10.954 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:09:10.962 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:09:10.968 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 736.9768ms
2025-08-24 08:09:10.992 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:09:10.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 795.6814ms
2025-08-24 08:13:58.623 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:13:58.631 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:13:58.641 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 17.4663ms
2025-08-24 08:13:58.661 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:13:58.674 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:13:58.745 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:13:58.778 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:13:59.018 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:13:59.050 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:13:59.164 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:13:59.288 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:13:59.573 +02:00 [INF] Executed DbCommand (227ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:13:59.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:13:59.589 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 796.196ms
2025-08-24 08:13:59.593 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:13:59.596 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 935.9466ms
2025-08-24 08:14:06.461 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:14:06.470 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:14:06.473 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 11.5859ms
2025-08-24 08:14:06.488 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:14:06.507 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:14:06.523 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:14:06.539 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:14:06.656 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:14:06.873 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:14:06.901 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:14:07.057 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:14:07.232 +02:00 [INF] Executed DbCommand (160ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:14:07.240 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:14:07.251 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 701.2485ms
2025-08-24 08:14:07.268 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:14:07.292 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 803.4167ms
2025-08-24 08:18:13.892 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 08:18:13.899 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:13.901 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 9.5855ms
2025-08-24 08:18:13.906 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 08:18:13.917 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:13.941 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 08:18:13.955 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 08:18:14.092 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 08:18:14.101 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 08:18:14.108 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 08:18:14.109 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 08:18:14.568 +02:00 [INF] Received HTTP response headers after 448.9071ms - 200
2025-08-24 08:18:14.569 +02:00 [INF] End processing HTTP request after 462.7634ms - 200
2025-08-24 08:18:14.658 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 08:18:14.748 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 08:18:14.753 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 08:18:14.760 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 08:18:14.763 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 794.6047ms
2025-08-24 08:18:14.767 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 08:18:14.773 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 866.6215ms
2025-08-24 08:18:15.127 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:18:15.132 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:18:15.134 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:15.139 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:15.141 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.3394ms
2025-08-24 08:18:15.143 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 11.6653ms
2025-08-24 08:18:15.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:18:15.180 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:15.198 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:15.205 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:18:15.254 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:18:15.290 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:18:15.375 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:18:15.432 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:15.484 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:15.504 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:18:15.515 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 300.5543ms
2025-08-24 08:18:15.520 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:15.525 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:18:15.540 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 373.8953ms
2025-08-24 08:18:15.548 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:15.570 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:15.584 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:18:15.619 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:18:15.640 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:18:15.664 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:18:15.685 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:15.713 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:15.794 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:18:15.813 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 213.5021ms
2025-08-24 08:18:15.825 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:15.846 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 318.5757ms
2025-08-24 08:18:31.634 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 08:18:31.645 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:31.648 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 13.6606ms
2025-08-24 08:18:31.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 08:18:31.672 +02:00 [INF] CORS policy execution successful.
2025-08-24 08:18:31.680 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:31.685 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 08:18:31.756 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 08:18:31.802 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 08:18:31.906 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 08:18:32.086 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:32.307 +02:00 [INF] Executed DbCommand (184ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 08:18:32.319 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 08:18:32.440 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 609.3338ms
2025-08-24 08:18:32.448 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 08:18:32.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 794.1862ms
2025-08-24 09:06:15.457 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 09:06:15.888 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 09:06:16.132 +02:00 [INF] Executed DbCommand (207ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 09:06:16.508 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 09:06:16.541 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 09:06:16.871 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 09:06:17.300 +02:00 [INF] Executed DbCommand (292ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 09:06:17.333 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-24 09:06:17.406 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 09:06:17.785 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 09:06:18.023 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-24 09:06:18.032 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 09:06:18.038 +02:00 [INF] Hosting environment: Development
2025-08-24 09:06:18.039 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-24 09:14:17.083 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 09:14:17.106 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 09:14:17.110 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:17.125 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 42.8473ms
2025-08-24 09:14:17.157 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 09:14:17.198 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:17.377 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 09:14:17.393 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 09:14:17.490 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 09:14:17.497 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 09:14:17.503 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 09:14:17.505 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 09:14:17.690 +02:00 [INF] Received HTTP response headers after 182.7662ms - 200
2025-08-24 09:14:17.691 +02:00 [INF] End processing HTTP request after 188.7028ms - 200
2025-08-24 09:14:17.986 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 09:14:18.157 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 09:14:18.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 09:14:18.178 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 09:14:18.199 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 800.9665ms
2025-08-24 09:14:18.204 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 09:14:18.229 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1071.0659ms
2025-08-24 09:14:20.641 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 09:14:20.641 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 09:14:20.655 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:20.662 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:20.663 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 21.6551ms
2025-08-24 09:14:20.666 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 25.293ms
2025-08-24 09:14:20.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 09:14:20.786 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:20.957 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:14:20.974 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 09:14:21.180 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 09:14:21.343 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 09:14:21.499 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 09:14:21.537 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:14:21.752 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:14:21.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 09:14:21.841 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 863.713ms
2025-08-24 09:14:21.844 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:14:21.846 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 09:14:21.852 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1083.2771ms
2025-08-24 09:14:21.859 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:14:21.898 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:14:21.907 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 09:14:21.967 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 09:14:21.985 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 09:14:22.017 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 09:14:22.040 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:14:22.081 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:14:22.098 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 09:14:22.115 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 200.9364ms
2025-08-24 09:14:22.134 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:14:22.143 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 296.724ms
2025-08-24 09:49:34.811 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 09:49:34.811 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 09:49:34.833 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:49:34.833 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:49:34.842 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 41.2377ms
2025-08-24 09:49:34.842 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 41.2798ms
2025-08-24 09:49:34.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 09:49:34.892 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:49:35.244 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:49:35.290 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 09:49:36.088 +02:00 [INF] Executed DbCommand (202ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 09:49:36.327 +02:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 09:49:36.464 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 09:49:36.600 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:49:36.792 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:49:36.807 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 09:49:36.822 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1422.5964ms
2025-08-24 09:49:36.824 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 09:49:36.825 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:49:36.838 +02:00 [INF] CORS policy execution successful.
2025-08-24 09:49:36.877 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 2006.1461ms
2025-08-24 09:49:36.884 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:49:37.003 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 09:49:37.325 +02:00 [INF] Executed DbCommand (161ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 09:49:37.458 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 09:49:37.483 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 09:49:37.555 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:49:37.845 +02:00 [INF] Executed DbCommand (221ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 09:49:37.853 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 09:49:37.859 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 717.1599ms
2025-08-24 09:49:37.862 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 09:49:37.866 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1039.8067ms
2025-08-24 10:23:08.278 +02:00 [INF] Application is shutting down...
2025-08-24 10:23:26.010 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 10:23:26.277 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 10:23:26.757 +02:00 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 10:23:27.141 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 10:23:27.170 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 10:23:27.176 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 10:23:27.282 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 10:23:27.293 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-24 10:23:27.304 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 10:23:27.495 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 10:23:27.658 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-24 10:23:27.662 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 10:23:27.664 +02:00 [INF] Hosting environment: Development
2025-08-24 10:23:27.667 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-24 10:40:28.457 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 10:40:28.617 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 10:40:28.640 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:28.658 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 206.1593ms
2025-08-24 10:40:28.689 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 10:40:28.720 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:29.011 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:40:29.073 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 10:40:29.337 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 10:40:29.360 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 10:40:29.376 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:40:29.380 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:40:29.802 +02:00 [INF] Received HTTP response headers after 415.747ms - 200
2025-08-24 10:40:29.804 +02:00 [INF] End processing HTTP request after 432.2274ms - 200
2025-08-24 10:40:30.745 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 10:40:31.209 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:40:31.228 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:40:31.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 10:40:31.431 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 2337.2753ms
2025-08-24 10:40:31.441 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:40:31.460 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 2770.9061ms
2025-08-24 10:40:37.557 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:40:37.557 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:40:37.564 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:37.570 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:37.570 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 13.1084ms
2025-08-24 10:40:37.571 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.6562ms
2025-08-24 10:40:37.583 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:40:37.599 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:37.836 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:40:37.981 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:40:38.358 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:40:38.541 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:40:38.649 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:40:38.817 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:40:38.917 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:40:39.042 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:40:39.058 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1055.9913ms
2025-08-24 10:40:39.062 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:40:39.063 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:40:39.069 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:40:39.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1487.9584ms
2025-08-24 10:40:39.085 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:40:39.088 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:40:39.190 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:40:39.252 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:40:39.336 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:40:39.445 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:40:39.963 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:40:39.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:40:39.989 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 898.6476ms
2025-08-24 10:40:40.001 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:40:40.004 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 942.9345ms
2025-08-24 10:43:13.058 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:43:13.062 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:43:13.063 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 4.9063ms
2025-08-24 10:43:13.071 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:43:13.076 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:43:13.079 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:43:13.080 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:43:13.196 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:43:13.266 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:43:13.327 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:43:13.374 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:43:13.454 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:43:13.470 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:43:13.490 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 407.3692ms
2025-08-24 10:43:13.499 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:43:13.507 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 434.9413ms
2025-08-24 10:47:22.356 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:47:22.368 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:47:22.368 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:47:22.374 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:47:22.378 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 21.0979ms
2025-08-24 10:47:22.381 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 12.7904ms
2025-08-24 10:47:22.423 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:47:22.516 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:47:22.582 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:47:22.589 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:47:22.765 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:47:22.899 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:47:23.125 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:47:23.332 +02:00 [INF] Executed DbCommand (164ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:47:23.613 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:47:23.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:47:23.812 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1192.4434ms
2025-08-24 10:47:23.824 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:47:23.850 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:47:23.891 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:47:23.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1479.4541ms
2025-08-24 10:47:23.923 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:47:23.985 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:47:24.303 +02:00 [INF] Executed DbCommand (247ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:47:24.460 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:47:24.656 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:47:24.747 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:47:25.214 +02:00 [INF] Executed DbCommand (357ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:47:25.226 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:47:25.271 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1248.459ms
2025-08-24 10:47:25.283 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:47:25.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1469.1133ms
2025-08-24 10:52:48.070 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:52:48.070 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:52:48.135 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:52:48.135 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:52:48.280 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 190.1324ms
2025-08-24 10:52:48.280 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 193.0122ms
2025-08-24 10:52:48.937 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:52:49.037 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:52:49.503 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:52:49.520 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:52:49.915 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:52:50.138 +02:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:52:50.286 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:52:50.322 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:52:50.342 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:52:50.352 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:52:50.387 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 854.617ms
2025-08-24 10:52:50.434 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:52:50.452 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:52:50.644 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:52:50.674 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1737.569ms
2025-08-24 10:52:50.720 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:52:50.774 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:52:51.390 +02:00 [INF] Executed DbCommand (369ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:52:51.425 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:52:51.517 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:52:51.616 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:52:51.894 +02:00 [INF] Executed DbCommand (228ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:52:51.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:52:51.914 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 928.554ms
2025-08-24 10:52:51.948 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:52:51.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1517.2276ms
2025-08-24 10:53:04.019 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-24 - null null
2025-08-24 10:53:04.023 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:04.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/attendance?date=2025-08-24 - 204 null null 6.0616ms
2025-08-24 10:53:04.037 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-24 - application/json null
2025-08-24 10:53:04.054 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:04.098 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-24 10:53:04.380 +02:00 [INF] Route matched with {action = "GetAttendanceDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceDashboard(System.String) on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:53:04.546 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:53:04.572 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:53:04.622 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:53:04.860 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 10:53:04.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 10:53:05.005 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAttendanceDashboard (backend) in 619.0326ms
2025-08-24 10:53:05.009 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAttendanceDashboard (backend)'
2025-08-24 10:53:05.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/attendance?date=2025-08-24 - 200 null application/json; charset=utf-8 978.1315ms
2025-08-24 10:53:11.796 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-24 10:53:11.809 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:11.812 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 16.2493ms
2025-08-24 10:53:11.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-24 10:53:11.832 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:11.848 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 10:53:11.947 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:53:12.251 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:53:12.323 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:53:12.508 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-24 10:53:12.522 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 463.6427ms
2025-08-24 10:53:12.525 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 10:53:12.529 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 709.0407ms
2025-08-24 10:53:30.720 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 10:53:30.728 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:30.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 11.3471ms
2025-08-24 10:53:30.738 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 10:53:30.744 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:30.747 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:53:30.750 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 10:53:30.862 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 10:53:30.898 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 10:53:30.917 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:53:30.933 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:53:31.173 +02:00 [INF] Received HTTP response headers after 236.0553ms - 200
2025-08-24 10:53:31.175 +02:00 [INF] End processing HTTP request after 259.3782ms - 200
2025-08-24 10:53:31.194 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 10:53:31.330 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:53:31.339 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:53:31.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 10:53:31.348 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 586.7236ms
2025-08-24 10:53:31.350 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:53:31.353 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 614.794ms
2025-08-24 10:53:32.043 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:53:32.043 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:53:32.048 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:32.051 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:32.053 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.2226ms
2025-08-24 10:53:32.054 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 10.68ms
2025-08-24 10:53:32.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:53:32.102 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:32.127 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:53:32.137 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:53:32.287 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:53:32.435 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:53:32.515 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:53:33.100 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:53:33.314 +02:00 [INF] Executed DbCommand (158ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:53:33.347 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:53:33.428 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1284.1895ms
2025-08-24 10:53:33.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:53:34.127 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:53:34.133 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:53:34.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 2076.7546ms
2025-08-24 10:53:34.214 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:53:34.261 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:53:34.384 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:53:34.460 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:53:34.511 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:53:34.617 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:53:34.659 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:53:34.682 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:53:34.694 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 396.5675ms
2025-08-24 10:53:34.703 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:53:34.712 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1259.8265ms
2025-08-24 10:54:00.329 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 10:54:00.333 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:00.334 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 5.1013ms
2025-08-24 10:54:00.338 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 10:54:00.340 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:00.341 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:54:00.342 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 10:54:00.346 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 10:54:00.347 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 10:54:00.349 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:54:00.351 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 10:54:00.385 +02:00 [INF] Received HTTP response headers after 32.054ms - 200
2025-08-24 10:54:00.389 +02:00 [INF] End processing HTTP request after 40.8261ms - 200
2025-08-24 10:54:00.402 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 10:54:00.435 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:54:00.463 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 10:54:00.474 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 10:54:00.483 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 138.917ms
2025-08-24 10:54:00.490 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 10:54:00.495 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 156.8971ms
2025-08-24 10:54:01.188 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:54:01.192 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:54:01.196 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:01.202 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:01.204 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.9381ms
2025-08-24 10:54:01.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 13.5052ms
2025-08-24 10:54:01.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:54:01.467 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:01.508 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:54:01.536 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:54:01.620 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:54:01.751 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:54:01.858 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:54:01.963 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:54:02.008 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:54:02.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:54:02.038 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 464.3379ms
2025-08-24 10:54:02.052 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:54:02.054 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:54:02.072 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:54:02.085 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 751.8598ms
2025-08-24 10:54:02.090 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:54:02.134 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 10:54:02.179 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 10:54:02.241 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 10:54:02.285 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 10:54:02.338 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:54:02.422 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 10:54:02.447 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 10:54:02.457 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 298.6837ms
2025-08-24 10:54:02.471 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 10:54:02.485 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 433.337ms
2025-08-24 10:55:36.925 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 10:55:36.945 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:55:36.954 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 28.3992ms
2025-08-24 10:55:37.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 10:55:37.298 +02:00 [INF] CORS policy execution successful.
2025-08-24 10:55:37.475 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|manager)
2025-08-24 10:55:37.517 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-24 10:55:37.524 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 401 0 null 426.4989ms
2025-08-24 11:02:52.267 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 11:02:52.281 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:02:52.285 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 18.6336ms
2025-08-24 11:02:52.299 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 11:02:52.306 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:02:52.338 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:02:52.406 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 11:02:52.543 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 11:02:52.552 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 11:02:52.555 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:02:52.557 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:02:52.721 +02:00 [INF] Received HTTP response headers after 162.5638ms - 200
2025-08-24 11:02:52.723 +02:00 [INF] End processing HTTP request after 167.9109ms - 200
2025-08-24 11:02:52.921 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 11:02:53.288 +02:00 [INF] Executed DbCommand (293ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:02:53.302 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:02:53.319 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 11:02:53.338 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 912.8959ms
2025-08-24 11:02:53.540 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:02:53.568 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1269.0001ms
2025-08-24 11:02:59.275 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 11:02:59.281 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:02:59.283 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 8.2374ms
2025-08-24 11:02:59.291 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 11:02:59.295 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 11:02:59.298 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:02:59.304 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:02:59.306 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 15.2287ms
2025-08-24 11:02:59.318 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:02:59.324 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:02:59.436 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 11:02:59.611 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:02:59.908 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:02:59.979 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:03:00.764 +02:00 [INF] Executed DbCommand (765ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:03:01.210 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 11:03:01.247 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 1916.8043ms
2025-08-24 11:03:01.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 11:03:01.286 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:03:01.312 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:03:01.313 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 2018.0814ms
2025-08-24 11:03:01.374 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:03:01.570 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:03:01.752 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 11:03:01.916 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:03:01.979 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:03:02.162 +02:00 [INF] Executed DbCommand (163ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:03:02.222 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:03:02.235 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 11:03:02.257 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 558.4579ms
2025-08-24 11:03:02.279 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:03:02.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 1055.2196ms
2025-08-24 11:05:41.597 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-24 11:05:41.629 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:05:41.644 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 47.2126ms
2025-08-24 11:05:41.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-24 11:05:41.716 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:05:41.771 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:05:41.785 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:05:42.216 +02:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:05:42.620 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:05:42.800 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-24 11:05:42.836 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 1038.772ms
2025-08-24 11:05:42.850 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:05:42.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 1204.1789ms
2025-08-24 11:25:40.284 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 11:25:40.298 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:40.305 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 21.6395ms
2025-08-24 11:25:40.311 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 11:25:40.319 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:40.333 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:25:40.345 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 11:25:40.449 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0782508109
2025-08-24 11:25:40.475 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0782508109; proxy=none
2025-08-24 11:25:40.481 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:25:40.486 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:25:41.353 +02:00 [INF] Received HTTP response headers after 863.087ms - 200
2025-08-24 11:25:41.355 +02:00 [INF] End processing HTTP request after 874.0349ms - 200
2025-08-24 11:25:41.521 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 11:25:41.600 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:25:41.607 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:25:41.625 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 11:25:41.633 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1275.6672ms
2025-08-24 11:25:41.638 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:25:41.649 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 1336.9938ms
2025-08-24 11:25:44.863 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 11:25:44.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - null null
2025-08-24 11:25:44.872 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:44.876 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:44.878 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 16.4175ms
2025-08-24 11:25:44.880 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/dashboard - 204 null null 14.6001ms
2025-08-24 11:25:44.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 11:25:44.935 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:44.997 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:25:45.016 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:25:45.466 +02:00 [INF] Executed DbCommand (165ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 11:25:45.546 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:25:45.643 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:25:45.718 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:25:45.801 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:25:45.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 11:25:45.840 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 567.1721ms
2025-08-24 11:25:45.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - application/json null
2025-08-24 11:25:45.848 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:25:45.882 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:25:45.886 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 978.3421ms
2025-08-24 11:25:45.914 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:25:45.969 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Manager.ManagerDashboardDTO]] GetDashboard() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:25:46.077 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [managers] AS [m]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [m].[user_id] = @__id_0
2025-08-24 11:25:46.179 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:25:46.269 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:25:46.315 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:25:46.377 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__manager_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
WHERE [a].[manager_id] = @__manager_UserId_0
2025-08-24 11:25:46.413 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Manager.ManagerDashboardDTO'.
2025-08-24 11:25:46.416 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetDashboard (backend) in 416.8685ms
2025-08-24 11:25:46.420 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetDashboard (backend)'
2025-08-24 11:25:46.422 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/dashboard - 200 null application/json; charset=utf-8 575.1001ms
2025-08-24 11:26:04.926 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-24 11:26:04.934 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:04.935 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 8.9302ms
2025-08-24 11:26:04.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-24 11:26:04.948 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:04.950 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:26:04.952 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:26:05.005 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:26:05.065 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:26:05.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-24 11:26:05.091 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 135.2259ms
2025-08-24 11:26:05.098 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:26:05.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 160.7901ms
2025-08-24 11:26:10.081 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-24 11:26:10.081 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - null null
2025-08-24 11:26:10.084 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:10.088 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:10.089 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 8.7509ms
2025-08-24 11:26:10.091 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/agents - 204 null null 9.362ms
2025-08-24 11:26:10.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/agents - application/json null
2025-08-24 11:26:10.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-24 11:26:10.100 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:10.103 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:10.104 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:26:10.107 +02:00 [INF] Route matched with {action = "GetAgents", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[backend.DTOs.Agent.AgentListItemDTO]]] GetAgents() on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:26:10.110 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-24 11:26:10.144 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
2025-08-24 11:26:10.261 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:26:10.265 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:26:10.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.Agent.AgentListItemDTO, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-24 11:26:10.304 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetAgents (backend) in 194.34ms
2025-08-24 11:26:10.311 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetAgents (backend)'
2025-08-24 11:26:10.314 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/agents - 200 null application/json; charset=utf-8 218.602ms
2025-08-24 11:26:10.578 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-24 11:26:10.764 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:10.967 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:11.052 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:11.079 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:26:11.110 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 810.2907ms
2025-08-24 11:26:11.116 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-24 11:26:11.120 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 1022.6426ms
2025-08-24 11:26:41.582 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - null null
2025-08-24 11:26:41.584 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:41.585 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/manager/notifications - 204 null null 2.8798ms
2025-08-24 11:26:41.587 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/manager/notifications - application/json 148
2025-08-24 11:26:41.589 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:41.591 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.SendManagerNotification (backend)'
2025-08-24 11:26:41.598 +02:00 [INF] Route matched with {action = "SendManagerNotification", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendManagerNotification(backend.DTOs.Notification.NotificationRequestDTO) on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:26:41.672 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-24 11:26:41.693 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[created_at], [a].[description], [a].[leader_id], [a].[manager_id], [a].[Name], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [agent_groups] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
LEFT JOIN [agents] AS [a0] ON [a].[leader_id] = [a0].[user_id]
LEFT JOIN [users] AS [u0] ON [a0].[user_id] = [u0].[Id]
2025-08-24 11:26:41.727 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-24 11:26:41.840 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [notifications] ([Category], [Message], [Priority], [read_status], [recipient_id], [sender_id], [sent_at], [Status], [Title], [via_email])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-08-24 11:26:41.897 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-24 11:26:41.910 +02:00 [INF] WebSocket notification sent to null: system update: tommorow all agents must follow the reporting
2025-08-24 11:26:41.912 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:26:41.914 +02:00 [INF] Executed action backend.Controllers.ManagerController.SendManagerNotification (backend) in 309.4238ms
2025-08-24 11:26:41.917 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.SendManagerNotification (backend)'
2025-08-24 11:26:41.923 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/manager/notifications - 201 null application/json; charset=utf-8 335.754ms
2025-08-24 11:26:41.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/manager/notifications - application/json null
2025-08-24 11:26:41.947 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:26:41.952 +02:00 [INF] Executing endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-24 11:26:41.955 +02:00 [INF] Route matched with {action = "GetManagerNotifications", controller = "Manager"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetManagerNotifications(Int32, Int32) on controller backend.Controllers.ManagerController (backend).
2025-08-24 11:26:41.972 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-24 11:26:42.001 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__sender_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[sender_id] = @__sender_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:42.057 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:42.100 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] IS NULL
ORDER BY [n].[sent_at] DESC
2025-08-24 11:26:42.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:26:42.126 +02:00 [INF] Executed action backend.Controllers.ManagerController.GetManagerNotifications (backend) in 166.3215ms
2025-08-24 11:26:42.136 +02:00 [INF] Executed endpoint 'backend.Controllers.ManagerController.GetManagerNotifications (backend)'
2025-08-24 11:26:42.144 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/manager/notifications - 200 null application/json; charset=utf-8 205.7571ms
2025-08-24 11:27:20.250 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 11:27:20.255 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:20.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 6.8787ms
2025-08-24 11:27:20.260 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 11:27:20.263 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:20.266 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:27:20.269 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 11:27:20.273 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-24 11:27:20.277 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-24 11:27:20.287 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:27:20.294 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:27:20.401 +02:00 [INF] Received HTTP response headers after 101.2648ms - 401
2025-08-24 11:27:20.402 +02:00 [INF] End processing HTTP request after 115.7719ms - 401
2025-08-24 11:27:20.404 +02:00 [WRN] External auth failed with status 401: {"errorMessage":"User not found or invalid credentials. Please Contact Prime life Support  at 1320."}
2025-08-24 11:27:20.406 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:20.411 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 139.6647ms
2025-08-24 11:27:20.413 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:27:20.416 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/json; charset=utf-8 155.1794ms
2025-08-24 11:27:34.527 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - null null
2025-08-24 11:27:34.532 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:34.534 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/auth/login - 204 null null 7.9159ms
2025-08-24 11:27:34.549 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 51
2025-08-24 11:27:34.562 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:34.566 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:27:34.573 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-24 11:27:34.586 +02:00 [INF] LOGIN REQUEST RECEIVED - phone: 0780934874
2025-08-24 11:27:34.592 +02:00 [INF] Calling external auth at https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate for phone 0780934874; proxy=none
2025-08-24 11:27:34.598 +02:00 [INF] Start processing HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:27:34.604 +02:00 [INF] Sending HTTP request POST https://apps.prime.rw/customerbackend/User/api/IntermediariesAuthenticate
2025-08-24 11:27:34.633 +02:00 [INF] Received HTTP response headers after 23.2113ms - 200
2025-08-24 11:27:34.641 +02:00 [INF] End processing HTTP request after 42.5268ms - 200
2025-08-24 11:27:34.705 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__email_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[email] = @__email_0
2025-08-24 11:27:34.750 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:27:34.858 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-24 11:27:34.862 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Int64), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (Size = 255) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = DateTime), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 4000), @p10='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [users] SET [active] = @p0, [created_at] = @p1, [email] = @p2, [first_name] = @p3, [last_login] = @p4, [last_name] = @p5, [national_id] = @p6, [password_hash] = @p7, [phone_number] = @p8, [profile_image_url] = @p9, [role] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-08-24 11:27:34.865 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__userId_0
2025-08-24 11:27:34.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Auth.AuthResponse'.
2025-08-24 11:27:34.872 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 287.88ms
2025-08-24 11:27:34.874 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-24 11:27:34.879 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 200 null application/json; charset=utf-8 330.2342ms
2025-08-24 11:27:36.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-24 11:27:36.525 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-24 11:27:36.530 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.540 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.540 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 22.0405ms
2025-08-24 11:27:36.542 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 16.7682ms
2025-08-24 11:27:36.544 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:27:36.549 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-24 11:27:36.558 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-24 11:27:36.562 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:27:36.634 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-24 11:27:36.569 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.583 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.625 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.653 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 94.1155ms
2025-08-24 11:27:36.637 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 75.6357ms
2025-08-24 11:27:36.645 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.647 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 102.9933ms
2025-08-24 11:27:36.649 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 99.8254ms
2025-08-24 11:27:36.562 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-24 11:27:36.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:36.673 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:27:36.785 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.792 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:36.821 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:36.827 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:27:36.833 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:36.906 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:36.936 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:36.969 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:27:37.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:37.043 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 203.3218ms
2025-08-24 11:27:37.048 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:27:37.053 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 489.874ms
2025-08-24 11:27:37.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-24 11:27:37.078 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:37.084 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:27:37.088 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:37.306 +02:00 [INF] Executed DbCommand (217ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:37.314 +02:00 [INF] Executed DbCommand (166ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:37.392 +02:00 [INF] Executed DbCommand (296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:27:37.406 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:37.418 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 324.4293ms
2025-08-24 11:27:37.425 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:27:37.432 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 376.515ms
2025-08-24 11:27:37.515 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:37.534 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:37.546 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-24 11:27:37.634 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 622.001ms
2025-08-24 11:27:37.641 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:27:37.648 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 1085.4751ms
2025-08-24 11:27:37.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-24 11:27:37.671 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:37.679 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:27:37.684 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:37.706 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:37.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:37.754 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 840.4197ms
2025-08-24 11:27:37.761 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:37.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1101.1537ms
2025-08-24 11:27:37.784 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:37.804 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:37.820 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:37.830 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:37.836 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:38.055 +02:00 [INF] Executed DbCommand (247ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:38.063 +02:00 [INF] Executed DbCommand (211ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:38.075 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-24 11:27:38.093 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 402.45ms
2025-08-24 11:27:38.107 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:27:38.146 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 496.6287ms
2025-08-24 11:27:38.146 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:38.372 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:38.385 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:38.389 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 545.0298ms
2025-08-24 11:27:38.392 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:38.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 593.4255ms
2025-08-24 11:27:38.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:38.981 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:39.293 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:39.309 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:39.442 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:39.793 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:39.873 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:40.052 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:40.133 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 809.9127ms
2025-08-24 11:27:40.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:40.311 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:40.325 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:40.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1942.7491ms
2025-08-24 11:27:40.400 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:40.624 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:40.722 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:40.843 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:41.044 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:41.275 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:41.492 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 860.681ms
2025-08-24 11:27:41.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:41.548 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:41.541 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:41.555 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:41.561 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:41.559 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1416.2198ms
2025-08-24 11:27:41.621 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:41.862 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:42.041 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:42.077 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:42.287 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 721.0839ms
2025-08-24 11:27:42.290 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:27:42.351 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:27:42.358 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:42.364 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:27:42.341 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:42.409 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 912.7698ms
2025-08-24 11:27:42.453 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:27:42.604 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:42.660 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:27:42.911 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:27:43.143 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 772.1545ms
2025-08-24 11:27:43.238 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:27:43.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1061.2713ms
2025-08-24 11:29:51.421 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance - null null
2025-08-24 11:29:51.426 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:29:51.427 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance - 204 null null 6.546ms
2025-08-24 11:29:51.431 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/agent/attendance - application/json 38
2025-08-24 11:29:51.433 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:29:51.436 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.MarkAttendance (backend)'
2025-08-24 11:29:51.445 +02:00 [INF] Route matched with {action = "MarkAttendance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] MarkAttendance(System.Collections.Generic.Dictionary`2[System.String,System.String]) on controller backend.Controllers.AgentController (backend).
2025-08-24 11:29:51.544 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:29:51.561 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:29:51.578 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:29:51.727 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 255), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [attendance] ([agent_id], [Location], [Sector], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-08-24 11:29:51.757 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [audit_log] ([Details], [entity_id], [entity_type], [event_type], [Timestamp], [user_id])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-24 11:29:51.808 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:29:51.819 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:29:51.822 +02:00 [INF] Executed action backend.Controllers.AgentController.MarkAttendance (backend) in 369.4712ms
2025-08-24 11:29:51.825 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.MarkAttendance (backend)'
2025-08-24 11:29:51.828 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/agent/attendance - 201 null application/json; charset=utf-8 397.2203ms
2025-08-24 11:29:51.861 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:29:51.873 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:29:51.878 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 17.3583ms
2025-08-24 11:29:51.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:29:51.914 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:29:51.925 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:29:51.930 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:29:52.154 +02:00 [INF] Executed DbCommand (200ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:29:52.197 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:29:52.348 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:29:52.353 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:29:52.356 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 409.084ms
2025-08-24 11:29:52.360 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:29:52.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 455.4302ms
2025-08-24 11:30:02.769 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:30:02.769 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:30:02.773 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:02.777 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:02.780 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 10.6855ms
2025-08-24 11:30:02.783 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 13.63ms
2025-08-24 11:30:02.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:30:02.809 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:02.816 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:02.822 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:02.940 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:30:02.978 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:03.010 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:03.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:30:03.026 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 192.4035ms
2025-08-24 11:30:03.035 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:30:03.037 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:03.054 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:03.058 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 257.579ms
2025-08-24 11:30:03.065 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:03.078 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:03.095 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:30:03.111 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:03.130 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:03.135 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:30:03.143 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 58.5324ms
2025-08-24 11:30:03.150 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:03.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 125.0158ms
2025-08-24 11:30:03.423 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - null null
2025-08-24 11:30:03.426 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:03.428 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/history - 204 null null 5.1798ms
2025-08-24 11:30:03.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - null null
2025-08-24 11:30:03.456 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:03.459 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-24 11:30:03.502 +02:00 [INF] Route matched with {action = "GetAttendanceHistory", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceHistory() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:03.597 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:30:03.743 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:03.903 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:03.991 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:04.101 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:30:04.116 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceHistory (backend) in 604.799ms
2025-08-24 11:30:04.137 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceHistory (backend)'
2025-08-24 11:30:04.149 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/history - 200 null application/json; charset=utf-8 697.7969ms
2025-08-24 11:30:04.386 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-24 11:30:04.390 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:04.391 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 4.8876ms
2025-08-24 11:30:04.510 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-24 11:30:04.520 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:04.522 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:30:04.524 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:04.578 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:04.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:30:04.701 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 172.8597ms
2025-08-24 11:30:04.717 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:30:04.730 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 219.4349ms
2025-08-24 11:30:20.833 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:30:20.833 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:30:20.841 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:20.845 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:20.847 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 13.6888ms
2025-08-24 11:30:20.849 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 15.4765ms
2025-08-24 11:30:20.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:30:20.868 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:30:20.883 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:20.892 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:30:20.906 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:30:20.908 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:20.945 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:21.075 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-24 11:30:21.344 +02:00 [INF] Executed DbCommand (225ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:30:21.435 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:21.465 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:30:21.465 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:21.492 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:30:21.516 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:21.517 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 420.5451ms
2025-08-24 11:30:21.615 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:30:21.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 794.8195ms
2025-08-24 11:30:21.691 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:21.716 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:21.958 +02:00 [INF] Executed DbCommand (170ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:30:21.977 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:30:22.011 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-24 11:30:22.244 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 1063.6489ms
2025-08-24 11:30:22.247 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:30:22.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 1392.7153ms
2025-08-24 11:36:24.585 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:36:24.585 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:36:24.603 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:36:24.604 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:36:24.608 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 24.4992ms
2025-08-24 11:36:24.608 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 25.4903ms
2025-08-24 11:36:24.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:36:24.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:36:24.648 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:36:24.660 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:36:24.743 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:36:24.743 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:36:24.766 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-24 11:36:24.766 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:36:25.040 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:36:25.040 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:36:25.088 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:36:25.088 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:36:25.119 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:36:25.134 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:36:25.142 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:36:25.174 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 382.0618ms
2025-08-24 11:36:25.259 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:36:25.259 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:36:25.277 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 649.3432ms
2025-08-24 11:36:26.006 +02:00 [INF] Executed DbCommand (522ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:36:26.112 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:36:26.141 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-24 11:36:26.167 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 1389.7751ms
2025-08-24 11:36:26.375 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:36:26.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 1765.0948ms
2025-08-24 11:38:26.646 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:38:26.646 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:38:26.661 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:38:26.661 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:38:26.668 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/performance?period=weekly - 204 null null 24.7032ms
2025-08-24 11:38:26.669 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 25.7036ms
2025-08-24 11:38:26.676 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:38:26.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - null null
2025-08-24 11:38:26.687 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:38:26.693 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:38:26.741 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:38:26.741 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:38:26.758 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:38:26.758 +02:00 [INF] Route matched with {action = "GetPerformance", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetPerformance(System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller backend.Controllers.AgentController (backend).
2025-08-24 11:38:27.101 +02:00 [INF] Executed DbCommand (219ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:38:27.101 +02:00 [INF] Executed DbCommand (208ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:38:27.189 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:38:27.201 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:38:27.234 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:38:27.247 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:38:27.252 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:38:27.274 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 498.9568ms
2025-08-24 11:38:27.305 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:38:27.313 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 635.0832ms
2025-08-24 11:38:27.313 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:38:27.383 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDate_1 AND [a].[Timestamp] <= @__endDate_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:38:27.400 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:38:27.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentPerformanceDTO'.
2025-08-24 11:38:27.432 +02:00 [INF] Executed action backend.Controllers.AgentController.GetPerformance (backend) in 641.753ms
2025-08-24 11:38:27.438 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetPerformance (backend)'
2025-08-24 11:38:27.443 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/performance?period=weekly - 200 null application/json; charset=utf-8 759.3353ms
2025-08-24 11:40:33.852 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:40:33.870 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - null null
2025-08-24 11:40:33.875 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:33.878 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:33.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 31.2737ms
2025-08-24 11:40:33.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/notifications - 204 null null 11.8382ms
2025-08-24 11:40:33.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/notifications - application/json null
2025-08-24 11:40:33.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:40:33.984 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:33.990 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:34.090 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:40:34.134 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-24 11:40:34.136 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:40:34.373 +02:00 [INF] Route matched with {action = "GetAgentNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAgentNotifications() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:40:34.558 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:40:34.558 +02:00 [INF] Executed DbCommand (234ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:40:34.657 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:40:34.671 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:40:34.675 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:40:34.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:40:34.856 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`1[[System.Collections.Generic.List`1[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:40:34.881 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 727.3492ms
2025-08-24 11:40:35.094 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:40:35.281 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAgentNotifications (backend) in 881.8874ms
2025-08-24 11:40:35.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 1468.9139ms
2025-08-24 11:40:35.612 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAgentNotifications (backend)'
2025-08-24 11:40:35.928 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/notifications - 200 null application/json; charset=utf-8 2019.8116ms
2025-08-24 11:40:56.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - null null
2025-08-24 11:40:56.700 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:56.703 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/notifications/read-all - 204 null null 12.6535ms
2025-08-24 11:40:56.710 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - application/json 0
2025-08-24 11:40:56.721 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:40:56.758 +02:00 [INF] Executing endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-24 11:40:56.815 +02:00 [INF] Route matched with {action = "MarkAllRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Object]] MarkAllRead() on controller backend.Controllers.NotificationController (backend).
2025-08-24 11:40:56.915 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[Id] = @__id_0
2025-08-24 11:40:56.932 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__recipient_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Category], [n].[Message], [n].[Priority], [n].[read_status], [n].[recipient_id], [n].[sender_id], [n].[sent_at], [n].[Status], [n].[Title], [n].[via_email], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [u0].[Id], [u0].[active], [u0].[created_at], [u0].[email], [u0].[first_name], [u0].[last_login], [u0].[last_name], [u0].[national_id], [u0].[password_hash], [u0].[phone_number], [u0].[profile_image_url], [u0].[role]
FROM [notifications] AS [n]
INNER JOIN [users] AS [u] ON [n].[sender_id] = [u].[Id]
LEFT JOIN [users] AS [u0] ON [n].[recipient_id] = [u0].[Id]
WHERE [n].[recipient_id] = @__recipient_Id_0
ORDER BY [n].[sent_at] DESC
2025-08-24 11:40:57.043 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p10='?' (DbType = Int64), @p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [notifications] SET [Category] = @p0, [Message] = @p1, [Priority] = @p2, [read_status] = @p3, [recipient_id] = @p4, [sender_id] = @p5, [sent_at] = @p6, [Status] = @p7, [Title] = @p8, [via_email] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-08-24 11:40:57.050 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int64), @p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [notifications] SET [Category] = @p0, [Message] = @p1, [Priority] = @p2, [read_status] = @p3, [recipient_id] = @p4, [sender_id] = @p5, [sent_at] = @p6, [Status] = @p7, [Title] = @p8, [via_email] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-08-24 11:40:57.055 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int64), @p0='?' (Size = 20) (DbType = AnsiString), @p1='?' (Size = 4000), @p2='?' (Size = 20) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (DbType = Int64), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [notifications] SET [Category] = @p0, [Message] = @p1, [Priority] = @p2, [read_status] = @p3, [recipient_id] = @p4, [sender_id] = @p5, [sent_at] = @p6, [Status] = @p7, [Title] = @p8, [via_email] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-08-24 11:40:57.060 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`1[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:40:57.094 +02:00 [INF] Executed action backend.Controllers.NotificationController.MarkAllRead (backend) in 270.4546ms
2025-08-24 11:40:57.098 +02:00 [INF] Executed endpoint 'backend.Controllers.NotificationController.MarkAllRead (backend)'
2025-08-24 11:40:57.102 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/notifications/read-all - 200 null application/json; charset=utf-8 391.3578ms
2025-08-24 11:41:11.439 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - null null
2025-08-24 11:41:11.439 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - null null
2025-08-24 11:41:11.440 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - null null
2025-08-24 11:41:11.447 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.451 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.454 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.455 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/timeframe - 204 null null 15.9079ms
2025-08-24 11:41:11.457 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/dashboard - 204 null null 17.6437ms
2025-08-24 11:41:11.460 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5238/api/agent/attendance/status - 204 null null 20.3217ms
2025-08-24 11:41:11.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - application/json null
2025-08-24 11:41:11.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:41:11.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - application/json null
2025-08-24 11:41:11.503 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.515 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.535 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:11.549 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:41:11.566 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:11.571 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:41:11.577 +02:00 [INF] Route matched with {action = "GetDashboard", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetDashboard() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:41:11.626 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:41:11.648 +02:00 [INF] Route matched with {action = "GetAttendanceTimeframe", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceTimeframe() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:41:11.845 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:41:11.867 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:41:11.989 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:12.037 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:12.087 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[applies_to_all_agents], [a].[break_duration], [a].[created_at], [a].[day_of_week], [a].[end_time], [a].[manager_id], [a].[start_time], [a].[updated_at], [m].[user_id], [m].[department], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance_timeframes] AS [a]
INNER JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
INNER JOIN [users] AS [u] ON [m].[user_id] = [u].[Id]
ORDER BY [a].[updated_at] DESC
2025-08-24 11:41:12.102 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:12.103 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.Agent.AgentDashboardDTO'.
2025-08-24 11:41:12.134 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:41:12.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:41:12.196 +02:00 [INF] Executed action backend.Controllers.AgentController.GetDashboard (backend) in 477.7715ms
2025-08-24 11:41:12.206 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceTimeframe (backend) in 428.7888ms
2025-08-24 11:41:12.248 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 494.541ms
2025-08-24 11:41:12.255 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetDashboard (backend)'
2025-08-24 11:41:12.278 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceTimeframe (backend)'
2025-08-24 11:41:12.283 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:12.313 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/dashboard - 200 null application/json; charset=utf-8 837.1954ms
2025-08-24 11:41:12.317 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/timeframe - 200 null application/json; charset=utf-8 822.7162ms
2025-08-24 11:41:12.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 856.7649ms
2025-08-24 11:41:12.746 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:41:12.752 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:12.755 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:12.758 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:41:12.896 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:41:13.132 +02:00 [INF] Executed DbCommand (221ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:13.161 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:13.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:41:13.185 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 414.6818ms
2025-08-24 11:41:13.190 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:13.195 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 448.4375ms
2025-08-24 11:41:13.249 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - application/json null
2025-08-24 11:41:13.279 +02:00 [INF] CORS policy execution successful.
2025-08-24 11:41:13.295 +02:00 [INF] Executing endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:13.312 +02:00 [INF] Route matched with {action = "GetAttendanceStatus", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAttendanceStatus() on controller backend.Controllers.AgentController (backend).
2025-08-24 11:41:13.419 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role], [m].[user_id], [m].[department], [a0].[Id], [a0].[created_at], [a0].[description], [a0].[leader_id], [a0].[manager_id], [a0].[Name]
FROM [agents] AS [a]
INNER JOIN [users] AS [u] ON [a].[user_id] = [u].[Id]
LEFT JOIN [managers] AS [m] ON [a].[manager_id] = [m].[user_id]
LEFT JOIN [agent_groups] AS [a0] ON [a].[group_id] = [a0].[Id]
WHERE [a].[user_id] = @__id_0
2025-08-24 11:41:13.741 +02:00 [INF] Executed DbCommand (229ms) [Parameters=[@__agentId_0='?' (DbType = Int64), @__startDateTime_1='?' (DbType = DateTime2), @__endDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agentId_0 AND [a].[Timestamp] >= @__startDateTime_1 AND [a].[Timestamp] <= @__endDateTime_2
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:13.782 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__agent_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[agent_id], [a].[Location], [a].[Sector], [a].[Timestamp], [a0].[user_id], [a0].[agent_type], [a0].[group_id], [a0].[manager_id], [a0].[Sector], [u].[Id], [u].[active], [u].[created_at], [u].[email], [u].[first_name], [u].[last_login], [u].[last_name], [u].[national_id], [u].[password_hash], [u].[phone_number], [u].[profile_image_url], [u].[role]
FROM [attendance] AS [a]
INNER JOIN [agents] AS [a0] ON [a].[agent_id] = [a0].[user_id]
INNER JOIN [users] AS [u] ON [a0].[user_id] = [u].[Id]
WHERE [a].[agent_id] = @__agent_UserId_0
ORDER BY [a].[Timestamp] DESC
2025-08-24 11:41:13.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-24 11:41:13.821 +02:00 [INF] Executed action backend.Controllers.AgentController.GetAttendanceStatus (backend) in 486.643ms
2025-08-24 11:41:13.880 +02:00 [INF] Executed endpoint 'backend.Controllers.AgentController.GetAttendanceStatus (backend)'
2025-08-24 11:41:13.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/agent/attendance/status - 200 null application/json; charset=utf-8 648.1148ms
