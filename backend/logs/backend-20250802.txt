2025-08-02 06:57:13.465 +02:00 [INF] No migrations were found in assembly 'backend'. A migration needs to be added before the database can be updated.
2025-08-02 06:57:14.096 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 06:57:14.119 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-02 06:57:14.226 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-02 06:57:14.455 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-02 06:57:14.478 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 06:57:14.485 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 06:57:14.601 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 06:57:14.630 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 06:57:14.701 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-02 06:57:14.857 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 06:57:15.031 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-02 06:57:15.036 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 06:57:15.039 +02:00 [INF] Hosting environment: Development
2025-08-02 06:57:15.042 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-02 06:57:19.593 +02:00 [INF] Application is shutting down...
2025-08-02 09:07:24.997 +02:00 [INF] No migrations were found in assembly 'backend'. A migration needs to be added before the database can be updated.
2025-08-02 09:07:25.475 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:07:25.501 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-02 09:07:25.560 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-02 09:07:25.820 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-02 09:07:25.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:07:25.843 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 09:07:25.884 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 09:07:25.899 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 09:07:25.928 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-02 09:07:25.997 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 09:07:26.104 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-02 09:07:26.107 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 09:07:26.110 +02:00 [INF] Hosting environment: Development
2025-08-02 09:07:26.111 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-02 09:15:00.725 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/swagger-ui/index.html - null null
2025-08-02 09:15:00.850 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-02 09:15:01.111 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/swagger-ui/index.html - 404 0 null 396.9915ms
2025-08-02 09:15:01.134 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5238/api/swagger-ui/index.html, Response status code: 404
2025-08-02 09:15:10.734 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/swagger-ui - null null
2025-08-02 09:15:10.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/swagger-ui - 404 0 null 22.7966ms
2025-08-02 09:15:10.772 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5238/api/swagger-ui, Response status code: 404
2025-08-02 09:15:18.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/api/swagger-ui - null null
2025-08-02 09:15:18.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/api/swagger-ui - 404 0 null 20.613ms
2025-08-02 09:15:18.950 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5238/api/swagger-ui, Response status code: 404
2025-08-02 09:23:09.809 +02:00 [INF] Application is shutting down...
2025-08-02 09:23:27.804 +02:00 [INF] No migrations were found in assembly 'backend'. A migration needs to be added before the database can be updated.
2025-08-02 09:23:28.258 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:23:28.277 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-02 09:23:28.345 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-02 09:23:28.526 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-02 09:23:28.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:23:28.542 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 09:23:28.582 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 09:23:28.595 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 09:23:28.614 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-02 09:23:28.682 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 09:23:28.796 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-02 09:23:28.802 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 09:23:28.805 +02:00 [INF] Hosting environment: Development
2025-08-02 09:23:28.807 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-02 09:23:50.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger - null null
2025-08-02 09:23:50.164 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-02 09:23:50.231 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger - 301 0 null 124.9185ms
2025-08-02 09:23:50.251 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.html - null null
2025-08-02 09:23:50.405 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.html - 200 null text/html;charset=utf-8 153.8759ms
2025-08-02 09:23:50.600 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui.css - null null
2025-08-02 09:23:50.605 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.css - null null
2025-08-02 09:23:50.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-standalone-preset.js - null null
2025-08-02 09:23:50.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-bundle.js - null null
2025-08-02 09:23:50.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/index.js - null null
2025-08-02 09:23:50.641 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.js - 200 null application/javascript;charset=utf-8 32.7543ms
2025-08-02 09:23:50.659 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-08-02 09:23:50.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/index.css - 200 202 text/css 65.0678ms
2025-08-02 09:23:50.694 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-02 09:23:50.694 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-02 09:23:50.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui.css - 200 152035 text/css 112.7572ms
2025-08-02 09:23:50.713 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 104.6759ms
2025-08-02 09:23:50.742 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-02 09:23:50.747 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/swagger-ui-bundle.js - 200 1426001 text/javascript 139.2929ms
2025-08-02 09:23:51.000 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - null null
2025-08-02 09:23:51.625 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 625.1248ms
2025-08-02 09:24:39.646 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/auth/login - application/json 75
2025-08-02 09:24:39.653 +02:00 [INF] CORS policy execution successful.
2025-08-02 09:24:39.733 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.LoginAlternativeRoute (backend)'
2025-08-02 09:24:39.767 +02:00 [INF] Route matched with {action = "LoginAlternativeRoute", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] LoginAlternativeRoute(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-02 09:24:39.843 +02:00 [INF] Executing action method backend.Controllers.AuthController.LoginAlternativeRoute (backend) - Validation state: "Valid"
2025-08-02 09:24:39.850 +02:00 [INF] LOGIN REQUEST RECEIVED - workId: ADM001, email: admin@example.com, role: ADMIN
2025-08-02 09:24:40.770 +02:00 [ERR] Failed executing DbCommand (101ms) [Parameters=[@__workId_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[ConcurrencyStamp], [u].[created_at], [u].[Email], [u].[EmailConfirmed], [u].[first_name], [u].[last_login], [u].[last_name], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[national_id], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[password_hash], [u].[phone_number], [u].[PhoneNumberConfirmed], [u].[profile_image_url], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[work_id] = @__workId_0
2025-08-02 09:24:40.818 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4ea686ff-f9de-4b2f-81a8-3663f0a8530d
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4ea686ff-f9de-4b2f-81a8-3663f0a8530d
Error Number:207,State:1,Class:16
2025-08-02 09:24:40.837 +02:00 [ERR] User not found with workId: ADM001
2025-08-02 09:24:40.851 +02:00 [INF] Executed action method backend.Controllers.AuthController.LoginAlternativeRoute (backend), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 999.1858ms.
2025-08-02 09:24:40.871 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 09:24:40.930 +02:00 [INF] Executed action backend.Controllers.AuthController.LoginAlternativeRoute (backend) in 1151.8536ms
2025-08-02 09:24:40.934 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.LoginAlternativeRoute (backend)'
2025-08-02 09:24:40.950 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/auth/login - 401 null application/problem+json; charset=utf-8 1303.4055ms
2025-08-02 09:24:51.668 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 75
2025-08-02 09:24:51.673 +02:00 [INF] CORS policy execution successful.
2025-08-02 09:24:51.676 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-02 09:24:51.693 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-02 09:24:51.730 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-02 09:24:51.736 +02:00 [INF] LOGIN REQUEST RECEIVED - workId: ADM001, email: admin@example.com, role: ADMIN
2025-08-02 09:24:51.885 +02:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@__workId_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[ConcurrencyStamp], [u].[created_at], [u].[Email], [u].[EmailConfirmed], [u].[first_name], [u].[last_login], [u].[last_name], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[national_id], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[password_hash], [u].[phone_number], [u].[PhoneNumberConfirmed], [u].[profile_image_url], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[work_id] = @__workId_0
2025-08-02 09:24:51.890 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4ea686ff-f9de-4b2f-81a8-3663f0a8530d
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4ea686ff-f9de-4b2f-81a8-3663f0a8530d
Error Number:207,State:1,Class:16
2025-08-02 09:24:51.906 +02:00 [ERR] User not found with workId: ADM001
2025-08-02 09:24:51.908 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 172.4525ms.
2025-08-02 09:24:51.911 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 09:24:51.917 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 219.6087ms
2025-08-02 09:24:51.921 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-02 09:24:51.924 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/problem+json; charset=utf-8 255.5714ms
2025-08-02 09:25:19.504 +02:00 [INF] Application is shutting down...
2025-08-02 09:25:27.949 +02:00 [INF] No migrations were found in assembly 'backend'. A migration needs to be added before the database can be updated.
2025-08-02 09:25:28.295 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:25:28.315 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-02 09:25:28.390 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-02 09:25:28.622 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-02 09:25:28.651 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 09:25:28.657 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 09:25:28.700 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 09:25:28.726 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 09:25:28.743 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-02 09:25:28.816 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 09:25:28.909 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-02 09:25:28.913 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 09:25:28.916 +02:00 [INF] Hosting environment: Development
2025-08-02 09:25:28.917 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-02 09:25:36.192 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/auth/login - application/json 75
2025-08-02 09:25:36.314 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-02 09:25:36.323 +02:00 [INF] CORS policy execution successful.
2025-08-02 09:25:36.427 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.LoginAlternativeRoute (backend)'
2025-08-02 09:25:36.459 +02:00 [INF] Route matched with {action = "LoginAlternativeRoute", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] LoginAlternativeRoute(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-02 09:25:36.547 +02:00 [INF] Executing action method backend.Controllers.AuthController.LoginAlternativeRoute (backend) - Validation state: "Valid"
2025-08-02 09:25:36.554 +02:00 [INF] LOGIN REQUEST RECEIVED - workId: ADM001, email: admin@example.com, role: ADMIN
2025-08-02 09:25:37.313 +02:00 [ERR] Failed executing DbCommand (50ms) [Parameters=[@__workId_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[ConcurrencyStamp], [u].[created_at], [u].[Email], [u].[EmailConfirmed], [u].[first_name], [u].[last_login], [u].[last_name], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[national_id], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[password_hash], [u].[phone_number], [u].[PhoneNumberConfirmed], [u].[profile_image_url], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[work_id] = @__workId_0
2025-08-02 09:25:37.349 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ba3b3ab8-7e48-4871-a3e3-a51db31a1d38
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ba3b3ab8-7e48-4871-a3e3-a51db31a1d38
Error Number:207,State:1,Class:16
2025-08-02 09:25:37.365 +02:00 [ERR] User not found with workId: ADM001
2025-08-02 09:25:37.376 +02:00 [INF] Executed action method backend.Controllers.AuthController.LoginAlternativeRoute (backend), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 820.5145ms.
2025-08-02 09:25:37.400 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 09:25:37.463 +02:00 [INF] Executed action backend.Controllers.AuthController.LoginAlternativeRoute (backend) in 992.0971ms
2025-08-02 09:25:37.466 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.LoginAlternativeRoute (backend)'
2025-08-02 09:25:37.497 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/auth/login - 401 null application/problem+json; charset=utf-8 1305.3852ms
2025-08-02 09:25:42.942 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5238/api/auth/login - application/json 75
2025-08-02 09:25:42.972 +02:00 [INF] CORS policy execution successful.
2025-08-02 09:25:42.983 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-02 09:25:42.996 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend.DTOs.Auth.AuthResponse]] Login(backend.DTOs.Auth.AuthRequest) on controller backend.Controllers.AuthController (backend).
2025-08-02 09:25:43.011 +02:00 [INF] Executing action method backend.Controllers.AuthController.Login (backend) - Validation state: "Valid"
2025-08-02 09:25:43.014 +02:00 [INF] LOGIN REQUEST RECEIVED - workId: ADM001, email: admin@example.com, role: ADMIN
2025-08-02 09:25:43.124 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__workId_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Active], [u].[ConcurrencyStamp], [u].[created_at], [u].[Email], [u].[EmailConfirmed], [u].[first_name], [u].[last_login], [u].[last_name], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[national_id], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[password_hash], [u].[phone_number], [u].[PhoneNumberConfirmed], [u].[profile_image_url], [u].[Role], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u].[work_id], [a].[user_id], [a].[agent_type], [a].[group_id], [a].[manager_id], [a].[Sector], [m].[user_id], [m].[created_by], [m].[department]
FROM [users] AS [u]
LEFT JOIN [agents] AS [a] ON [u].[Id] = [a].[user_id]
LEFT JOIN [managers] AS [m] ON [u].[Id] = [m].[user_id]
WHERE [u].[work_id] = @__workId_0
2025-08-02 09:25:43.130 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ba3b3ab8-7e48-4871-a3e3-a51db31a1d38
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AccessFailedCount'.
Invalid column name 'ConcurrencyStamp'.
Invalid column name 'EmailConfirmed'.
Invalid column name 'LockoutEnabled'.
Invalid column name 'LockoutEnd'.
Invalid column name 'NormalizedEmail'.
Invalid column name 'NormalizedUserName'.
Invalid column name 'PhoneNumberConfirmed'.
Invalid column name 'SecurityStamp'.
Invalid column name 'TwoFactorEnabled'.
Invalid column name 'UserName'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ba3b3ab8-7e48-4871-a3e3-a51db31a1d38
Error Number:207,State:1,Class:16
2025-08-02 09:25:43.146 +02:00 [ERR] User not found with workId: ADM001
2025-08-02 09:25:43.148 +02:00 [INF] Executed action method backend.Controllers.AuthController.Login (backend), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 134.3861ms.
2025-08-02 09:25:43.152 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-02 09:25:43.155 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 154.3495ms
2025-08-02 09:25:43.160 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-08-02 09:25:43.163 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5238/api/auth/login - 401 null application/problem+json; charset=utf-8 220.7237ms
2025-08-02 14:35:47.221 +02:00 [INF] Application is shutting down...
2025-08-02 14:40:17.340 +02:00 [INF] No migrations were found in assembly 'backend'. A migration needs to be added before the database can be updated.
2025-08-02 14:40:17.741 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 14:40:17.764 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-02 14:40:17.837 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-02 14:40:18.058 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-02 14:40:18.070 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-02 14:40:18.073 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-02 14:40:18.131 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-02 14:40:18.152 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-08-02 14:40:18.172 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-02 14:40:18.297 +02:00 [INF] User profile is available. Using 'C:\Users\Lamelo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-02 14:40:18.451 +02:00 [INF] Now listening on: http://localhost:5238
2025-08-02 14:40:18.455 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-02 14:40:18.457 +02:00 [INF] Hosting environment: Development
2025-08-02 14:40:18.458 +02:00 [INF] Content root path: C:\Users\Lamelo\RiderProject\backend\backend
2025-08-02 14:41:17.908 +02:00 [INF] Application is shutting down...
